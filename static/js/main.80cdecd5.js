/*! For license information please see main.80cdecd5.js.LICENSE.txt */
!function(){var e={888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),A=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var j,M=Object.assign;function F(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var V=!1;function B(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case _:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case C:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,Se=null;function _e(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ie(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function Ae(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Te(e,t){return e(t)}function Ne(){}var Ce=!1;function De(e,t,n){if(Ce)return e(t,n);Ce=!0;try{return Te(e,t,n)}finally{Ce=!1,(null!==Ee||null!==Se)&&(Ne(),Ae())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){Pe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var je=!1,Me=null,Fe=!1,Ve=null,Be={onError:function(e){je=!0,Me=e}};function Ue(e,t,n,r,i,a,o,u,s){je=!1,Me=null,Le.apply(Be,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(ze(e)!==e)throw Error(a(188))}function Qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Je=i.unstable_requestPaint,Xe=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,Et,St,_t,It=!1,At=[],Tt=null,Nt=null,Ct=null,Dt=new Map,Ot=new Map,Pt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Ct=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function jt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void _t(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Vt(e,t,n){Ft(e)&&n.delete(t)}function Bt(){It=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==Ct&&Ft(Ct)&&(Ct=null),Dt.forEach(Vt),Ot.forEach(Vt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function zt(e){function t(t){return Ut(t,e)}if(0<At.length){Ut(At[0],e);for(var n=1;n<At.length;n++){var r=At[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Ut(Tt,e),null!==Nt&&Ut(Nt,e),null!==Ct&&Ut(Ct,e),Dt.forEach(t),Ot.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Pt.shift()}var qt=k.ReactCurrentBatchConfig,Kt=!0;function Qt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Ht(e,t,n,r)}finally{bt=i,qt.transition=a}}function Wt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Ht(e,t,n,r)}finally{bt=i,qt.transition=a}}function Ht(e,t,n,r){if(Kt){var i=Yt(e,t,n,r);if(null===i)Kr(e,t,r,Gt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=jt(Tt,e,t,n,r,i),!0;case"dragenter":return Nt=jt(Nt,e,t,n,r,i),!0;case"mouseover":return Ct=jt(Ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Dt.set(a,jt(Dt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,jt(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Kr(e,t,r,Gt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Gt=null;function Yt(e,t,n,r){if(Gt=null,null!==(e=yi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=M({},cn,{view:0,detail:0}),hn=an(fn),dn=M({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(M({},dn,{dataTransfer:0})),mn=an(M({},fn,{relatedTarget:0})),gn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),kn=an(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function _n(){return Sn}var In=M({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=an(In),Tn=an(M({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(M({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Cn=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=M({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Dn),Pn=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var jn=l&&"TextEvent"in window&&!Ln,Mn=l&&(!Rn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Vn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Qn(e,t,n,r){Ie(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Hn=null;function Gn(e){Fr(e,0)}function Yn(e){if(H(ki(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Zn;if(l){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Hn=Wn=null)}function nr(e){if("value"===e.propertyName&&Yn(Hn)){var t=[];Qn(t,Hn,e,we(e)),De(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Hn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==G(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&sr(yr,r)||(yr=r,0<(r=Wr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},Sr={};function _r(e){if(Er[e])return Er[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Er[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Ir=_r("animationend"),Ar=_r("animationiteration"),Tr=_r("animationstart"),Nr=_r("transitionend"),Cr=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Cr.set(e,t),s(t,[e])}for(var Pr=0;Pr<Dr.length;Pr++){var Rr=Dr[Pr];Or(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Or(Ir,"onAnimationEnd"),Or(Ar,"onAnimationIteration"),Or(Tr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Ue.apply(this,arguments),je){if(!je)throw Error(a(198));var l=Me;je=!1,Me=null,Fe||(Fe=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Mr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Mr(i,u,c),a=s}}}if(Fe)throw e=Ve,Fe=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Ur]){e[Ur]=!0,o.forEach((function(t){"selectionchange"!==t&&(jr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Br("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Jt(t)){case 1:var i=Qt;break;case 4:i=Wt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=yi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}De((function(){var r=a,i=we(n),o=[];e:{var u=Cr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=An;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Ir:case Ar:case Tr:s=gn;break;case Nr:s=Cn;break;case"scroll":s=hn;break;case"wheel":s=On;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Tn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Oe(p,h))&&l.push(Qr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Tn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ki(s),d=null==c?u:ki(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,yi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Hr(d))p++;for(d=0,v=h;v;v=Hr(v))d++;for(;0<p-d;)l=Hr(l),p--;for(;0<d-p;)h=Hr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Hr(l),h=Hr(h)}l=null}else l=null;null!==s&&Gr(o,u,s,l,!1),null!==c&&null!==f&&Gr(o,f,c,l,!0)}if("select"===(s=(u=r?ki(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Jn;else if(Kn(u))if(Xn)m=or;else{m=ir;var g=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Qn(o,m,n,i):(g&&g(e,u,r),"focusout"===e&&(g=u._wrapperState)&&g.controlled&&"number"===u.type&&ee(u,"number",u.value)),g=r?ki(r):window,e){case"focusin":(Kn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var y;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=en()):(Zt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(g=Wr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=jn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Vn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Rn&&Bn(e,t)?(e=en(),$t=Zt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Fr(o,t)}))}function Qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Qr(e,a,i)),null!=(a=Oe(e,t))&&r.push(Qr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Oe(n,a))&&o.unshift(Qr(n,s,u)):i||null!=(s=Oe(n,a))&&o.push(Qr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Jr,"")}function Zr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Ei=-1;function Si(e){return{current:e}}function _i(e){0>Ei||(e.current=xi[Ei],xi[Ei]=null,Ei--)}function Ii(e,t){Ei++,xi[Ei]=e.current,e.current=t}var Ai={},Ti=Si(Ai),Ni=Si(!1),Ci=Ai;function Di(e,t){var n=e.type.contextTypes;if(!n)return Ai;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){_i(Ni),_i(Ti)}function Ri(e,t,n){if(Ti.current!==Ai)throw Error(a(168));Ii(Ti,t),Ii(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return M({},n,r)}function ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ai,Ci=Ti.current,Ii(Ti,e),Ii(Ni,Ni.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ci),r.__reactInternalMemoizedMergedChildContext=e,_i(Ni),_i(Ti),Ii(Ti,e)):_i(Ni),Ii(Ni,n)}var Fi=null,Vi=!1,Bi=!1;function Ui(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Bi&&null!==Fi){Bi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Vi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),He($e,zi),i}finally{bt=t,Bi=!1}}return null}var qi=[],Ki=0,Qi=null,Wi=0,Hi=[],Gi=0,Yi=null,Ji=1,Xi="";function Zi(e,t){qi[Ki++]=Wi,qi[Ki++]=Qi,Qi=e,Wi=t}function $i(e,t,n){Hi[Gi++]=Ji,Hi[Gi++]=Xi,Hi[Gi++]=Yi,Yi=e;var r=Ji;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ji=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Ji=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function ta(e){for(;e===Qi;)Qi=qi[--Ki],qi[Ki]=null,Wi=qi[--Ki],qi[Ki]=null;for(;e===Yi;)Yi=Hi[--Gi],Hi[Gi]=null,Xi=Hi[--Gi],Hi[Gi]=null,Ji=Hi[--Gi],Hi[Gi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Ji,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Si(null),ya=null,ba=null,ka=null;function wa(){ka=ba=ya=null}function xa(e){var t=ga.current;_i(ga),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ya=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ku=!0),e.firstContext=null)}function _a(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ya)throw Error(a(308));ba=e,ya.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ia=null;function Aa(e){null===Ia?Ia=[e]:Ia.push(e)}function Ta(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Aa(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ca=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ts)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Aa(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function ja(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ma(e,t,n,r){var i=e.updateQueue;Ca=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=M({},f,h);break e;case 2:Ca=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);js|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Va=(new r.Component).refs;function Ba(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ua={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Pa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Pa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Pa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ai,a=t.contextType;return"object"===typeof a&&null!==a?a=_a(a):(i=Oi(t)?Ci:Ti.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Ai),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ua,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ua.enqueueReplaceState(t,t.state,null)}function Qa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Va,Da(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=_a(a):(a=Oi(t)?Ci:Ti.current,i.context=Di(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ba(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ua.enqueueReplaceState(i,i.state,null),Ma(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Va&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ga(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&Ga(a)===t.type)?((r=i(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case x:return(t=Fc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ha(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ha(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ha(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(i,f,u[v],s);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===u.length)return n(i,f),ia&&Zi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Zi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Zi(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,g=null,y=s.next();null!==v&&!y.done;m++,y=s.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=d(i,v,y.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,m),null===f?l=b:f.sibling=b,f=b,v=g}if(y.done)return n(i,v),ia&&Zi(i,m),l;if(null===v){for(;!y.done;m++,y=s.next())null!==(y=h(i,y.value,c))&&(u=o(y,u,m),null===f?l=y:f.sibling=y,f=y);return ia&&Zi(i,m),l}for(v=r(i,v);!y.done;m++,y=s.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),u=o(y,u,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&Zi(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===E){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Ga(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Wa(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===E?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Rc(o.type,o.key,o.props,null,r.mode,s)).ref=Wa(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(o,r.mode,s)).return=r,r=a}return u(r);case O:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ha(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Mc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ja=Ya(!0),Xa=Ya(!1),Za={},$a=Si(Za),eo=Si(Za),to=Si(Za);function no(e){if(e===Za)throw Error(a(174));return e}function ro(e,t){switch(Ii(to,t),Ii(eo,e),Ii($a,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i($a),Ii($a,t)}function io(){_i($a),_i(eo),_i(to)}function ao(e){no(to.current);var t=no($a.current),n=se(t,e.type);t!==n&&(Ii(eo,e),Ii($a,n))}function oo(e){eo.current===e&&(_i($a),_i(eo))}var uo=Si(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,mo=null,go=null,yo=!1,bo=!1,ko=0,wo=0;function xo(){throw Error(a(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,go=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(bo)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,go=mo=vo=null,yo=!1,t)throw Error(a(300));return e}function _o(){var e=0!==ko;return ko=0,e}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function Ao(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function To(e,t){return"function"===typeof t?t(e):t}function No(e){var t=Ao(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,js|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(ku=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,js|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Co(e){var t=Ao(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(ku=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Do(){}function Oo(e,t){var n=vo,r=Ao(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,ku=!0),r=r.queue,Ko(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,Vo(9,Ro.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Po(n,t,i)}return i}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,jo(t)&&Mo(e)}function Lo(e,t,n){return n((function(){jo(t)&&Mo(e)}))}function jo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Mo(e){var t=Na(e,1);null!==t&&nc(t,e,1,-1)}function Fo(e){var t=Io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return Ao().memoizedState}function Uo(e,t,n,r){var i=Io();vo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=Ao();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=Vo(t,n,a,r))}vo.flags|=e,i.memoizedState=Vo(1|t,n,a,r)}function qo(e,t){return Uo(8390656,8,e,t)}function Ko(e,t){return zo(2048,8,e,t)}function Qo(e,t){return zo(4,2,e,t)}function Wo(e,t){return zo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Go(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Ho.bind(null,t,e),n)}function Yo(){}function Jo(e,t){var n=Ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=Ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ku=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,js|=n,e.baseState=!0),t)}function $o(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function eu(){return Ao().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ta(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Aa(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ta(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){bo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var ou={readContext:_a,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:_a,useCallback:function(e,t){return Io().memoizedState=[e,void 0===t?null:t],e},useContext:_a,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Uo(4,2,e,t)},useMemo:function(e,t){var n=Io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Io().memoizedState=e},useState:Fo,useDebugValue:Yo,useDeferredValue:function(e){return Io().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=$o.bind(null,e[1]),Io().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Io();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Po(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Io(),t=Ns.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Ji&~(1<<32-ot(Ji)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:_a,useCallback:Jo,useContext:_a,useEffect:Ko,useImperativeHandle:Go,useInsertionEffect:Qo,useLayoutEffect:Wo,useMemo:Xo,useReducer:No,useRef:Bo,useState:function(){return No(To)},useDebugValue:Yo,useDeferredValue:function(e){return Zo(Ao(),mo.memoizedState,e)},useTransition:function(){return[No(To)[0],Ao().memoizedState]},useMutableSource:Do,useSyncExternalStore:Oo,useId:eu,unstable_isNewReconciler:!1},cu={readContext:_a,useCallback:Jo,useContext:_a,useEffect:Ko,useImperativeHandle:Go,useInsertionEffect:Qo,useLayoutEffect:Wo,useMemo:Xo,useReducer:Co,useRef:Bo,useState:function(){return Co(To)},useDebugValue:Yo,useDeferredValue:function(e){var t=Ao();return null===mo?t.memoizedState=e:Zo(t,mo.memoizedState,e)},useTransition:function(){return[Co(To)[0],Ao().memoizedState]},useMutableSource:Do,useSyncExternalStore:Oo,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Qs=r),hu(0,t)},n}function vu(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ws?Ws=new Set([this]):Ws.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function gu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bu=k.ReactCurrentOwner,ku=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ja(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=_o(),null===e||ku?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Eu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Su(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function Su(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(ku=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(ku=!0)}}return Au(e,t,n,r,i)}function _u(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Ps,Os),Os|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Ps,Os),Os|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ii(Ps,Os),Os|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(Ps,Os),Os|=r;return wu(e,t,i,n),t.child}function Iu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Au(e,t,n,r,i){var a=Oi(n)?Ci:Ti.current;return a=Di(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=_o(),null===e||ku?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Tu(e,t,n,r,i){if(Oi(n)){var a=!0;ji(t)}else a=!1;if(Sa(t,i),null===t.stateNode)qu(e,t),qa(t,n,r),Qa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=_a(c):c=Di(t,c=Oi(n)?Ci:Ti.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ka(t,o,r,c),Ca=!1;var h=t.memoizedState;o.state=h,Ma(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ni.current||Ca?("function"===typeof l&&(Ba(t,n,l,r),s=t.memoizedState),(u=Ca||za(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=_a(s):s=Di(t,s=Oi(n)?Ci:Ti.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ka(t,o,r,s),Ca=!1,h=t.memoizedState,o.state=h,Ma(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ni.current||Ca?("function"===typeof d&&(Ba(t,n,d,r),p=t.memoizedState),(c=Ca||za(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){Iu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),Ku(e,t,a);r=t.stateNode,bu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ja(t,e.child,null,a),t.child=Ja(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Cu(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ro(e,t.containerInfo)}function Du(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Ou,Pu,Ru,Lu={dehydrated:null,treeContext:null,retryLane:0};function ju(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=jc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=ju(n),t.memoizedState=Lu,e):Fu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Vu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ja(t,e.child,null,u),t.child.memoizedState=ju(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return Vu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Vu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),ku||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nc(r,e,i,-1))}return vc(),Vu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ac.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Hi[Gi++]=Ji,Hi[Gi++]=Xi,Hi[Gi++]=Yi,Ji=e.id,Xi=e.overflow,Yi=t),(t=Fu(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Pc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?ju(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Pc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fu(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vu(e,t,n,r){return null!==r&&pa(r),Ja(t,e.child,null,n),(e=Fu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function Uu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bu(e,n,t);else if(19===e.tag)Bu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Uu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Uu(t,!0,n,null,a);break;case"together":Uu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),js|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Qu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wu(t),null;case 1:case 17:return Oi(t.type)&&Pi(),Wu(t),null;case 3:return r=t.stateNode,io(),_i(Ni),_i(Ti),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Wu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Pu(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Wu(t),null}if(e=no($a.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":J(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var s in ye(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Vr("scroll",r)}switch(n){case"input":W(r),$(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Ou(e,t),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":J(e,r),i=Y(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&b(e,o,l,s))}switch(n){case"input":W(e),$(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wu(t),null;case 6:if(e&&null!=t.stateNode)Ru(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no($a.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Wu(t),null;case 13:if(_i(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Rs&&(Rs=3):vc())),null!==t.updateQueue&&(t.flags|=4),Wu(t),null);case 4:return io(),null===e&&zr(t.stateNode.containerInfo),Wu(t),null;case 10:return xa(t.type._context),Wu(t),null;case 19:if(_i(uo),null===(o=t.memoizedState))return Wu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Qu(o,!1);else{if(0!==Rs||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Qu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>zs&&(t.flags|=128,r=!0,Qu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Qu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Wu(t),null}else 2*Xe()-o.renderingStartTime>zs&&1073741824!==n&&(t.flags|=128,r=!0,Qu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Ii(uo,r?1&n|2:1&n),t):(Wu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Os)&&(Wu(t),6&t.subtreeFlags&&(t.flags|=8192)):Wu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Gu(e,t){switch(ta(t),t.tag){case 1:return Oi(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),_i(Ni),_i(Ti),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(_i(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ou=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no($a.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ru=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yu=!1,Ju=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Zu=null;function $u(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Ju||$u(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Ju&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Ju&&($u(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Sc(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Ju=(r=Ju)||null!==n.memoizedState,hs(e,t,n),Ju=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),gs(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){Sc(e,e.return,m)}try{ns(5,e,e.return)}catch(m){Sc(e,e.return,m)}}break;case 1:vs(t,e),gs(e),512&r&&null!==n&&$u(n,n.return);break;case 5:if(vs(t,e),gs(e),512&r&&null!==n&&$u(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Sc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),be(s,u);var l=be(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,l)}switch(s){case"input":Z(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Sc(e,e.return,m)}}break;case 6:if(vs(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sc(e,e.return,m)}}break;case 3:if(vs(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Sc(e,e.return,m)}break;case 4:default:vs(t,e),gs(e);break;case 13:vs(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Us=Xe())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Ju=(l=Ju)||f,vs(t,e),Ju=l):vs(t,e),gs(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zu=e,f=e.child;null!==f;){for(h=Zu=f;null!==Zu;){switch(p=(d=Zu).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:$u(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Sc(r,n,m)}}break;case 5:$u(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Zu=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Sc(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Sc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),gs(e),4&r&&ps(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Sc(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ys(e,t,n){Zu=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Zu;){var i=Zu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Yu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Ju;u=Yu;var c=Ju;if(Yu=o,(Ju=s)&&!c)for(Zu=i;null!==Zu;)s=(o=Zu).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Zu=s):xs(i);for(;null!==a;)Zu=a,bs(a,t,n),a=a.sibling;Zu=i,Yu=u,Ju=c}ks(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zu=a):ks(e)}}function ks(e){for(;null!==Zu;){var t=Zu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ju||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ju)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Ju||512&t.flags&&is(t)}catch(d){Sc(t,t.return,d)}}if(t===e){Zu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zu=n;break}Zu=t.return}}function ws(e){for(;null!==Zu;){var t=Zu;if(t===e){Zu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zu=n;break}Zu=t.return}}function xs(e){for(;null!==Zu;){var t=Zu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Sc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Sc(t,i,s)}}var a=t.return;try{is(t)}catch(s){Sc(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Sc(t,o,s)}}}catch(s){Sc(t,t.return,s)}if(t===e){Zu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Zu=u;break}Zu=t.return}}var Es,Ss=Math.ceil,_s=k.ReactCurrentDispatcher,Is=k.ReactCurrentOwner,As=k.ReactCurrentBatchConfig,Ts=0,Ns=null,Cs=null,Ds=0,Os=0,Ps=Si(0),Rs=0,Ls=null,js=0,Ms=0,Fs=0,Vs=null,Bs=null,Us=0,zs=1/0,qs=null,Ks=!1,Qs=null,Ws=null,Hs=!1,Gs=null,Ys=0,Js=0,Xs=null,Zs=-1,$s=0;function ec(){return 0!==(6&Ts)?Xe():-1!==Zs?Zs:Zs=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Ts)&&0!==Ds?Ds&-Ds:null!==va.transition?(0===$s&&($s=vt()),$s):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nc(e,t,n,r){if(50<Js)throw Js=0,Xs=null,Error(a(185));gt(e,n,r),0!==(2&Ts)&&e===Ns||(e===Ns&&(0===(2&Ts)&&(Ms|=n),4===Rs&&uc(e,Ds)),rc(e,r),1===n&&0===Ts&&0===(1&t.mode)&&(zs=Xe()+500,Vi&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ns?Ds:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Vi=!0,Ui(e)}(sc.bind(null,e)):Ui(sc.bind(null,e)),oi((function(){0===(6&Ts)&&zi()})),n=null;else{switch(kt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Zs=-1,$s=0,0!==(6&Ts))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ns?Ds:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Ts;Ts|=2;var o=pc();for(Ns===e&&Ds===t||(qs=null,zs=Xe()+500,hc(e,t));;)try{yc();break}catch(s){dc(e,s)}wa(),_s.current=o,Ts=i,null!==Cs?t=0:(Ns=null,Ds=0,t=Rs)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ls,hc(e,0),uc(e,r),rc(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ls,hc(e,0),uc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Bs,qs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Us+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Bs,qs),t);break}wc(e,Bs,qs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ss(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Bs,qs),r);break}wc(e,Bs,qs);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Vs;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Bs,Bs=n,null!==t&&oc(t)),e}function oc(e){null===Bs?Bs=e:Bs.push.apply(Bs,e)}function uc(e,t){for(t&=~Fs,t&=~Ms,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Ts))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ls,hc(e,0),uc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Bs,qs),rc(e,Xe()),null}function cc(e,t){var n=Ts;Ts|=1;try{return e(t)}finally{0===(Ts=n)&&(zs=Xe()+500,Vi&&zi())}}function lc(e){null!==Gs&&0===Gs.tag&&0===(6&Ts)&&xc();var t=Ts;Ts|=1;var n=As.transition,r=bt;try{if(As.transition=null,bt=1,e)return e()}finally{bt=r,As.transition=n,0===(6&(Ts=t))&&zi()}}function fc(){Os=Ps.current,_i(Ps)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Cs)for(n=Cs.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:io(),_i(Ni),_i(Ti),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:_i(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ns=e,Cs=e=Pc(e.current,null),Ds=Os=t,Rs=0,Ls=null,Fs=Ms=js=0,Bs=Vs=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(r=(n=Ia[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ia=null}return e}function dc(e,t){for(;;){var n=Cs;try{if(wa(),fo.current=ou,yo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,go=mo=vo=null,bo=!1,ko=0,Is.current=null,null===n||null===n.return){Rs=1,Ls=t,Cs=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Ds,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gu(u);if(null!==p){p.flags&=-257,yu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var g=gu(u);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),yu(g,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Rs&&(Rs=2),null===Vs?Vs=[o]:Vs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,ja(o,pu(0,c,t));break e;case 1:s=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ws||!Ws.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,ja(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}kc(n)}catch(k){t=k,Cs===n&&null!==n&&(Cs=n=n.return);continue}break}}function pc(){var e=_s.current;return _s.current=ou,null===e?ou:e}function vc(){0!==Rs&&3!==Rs&&2!==Rs||(Rs=4),null===Ns||0===(268435455&js)&&0===(268435455&Ms)||uc(Ns,Ds)}function mc(e,t){var n=Ts;Ts|=2;var r=pc();for(Ns===e&&Ds===t||(qs=null,hc(e,t));;)try{gc();break}catch(i){dc(e,i)}if(wa(),Ts=n,_s.current=r,null!==Cs)throw Error(a(261));return Ns=null,Ds=0,Rs}function gc(){for(;null!==Cs;)bc(Cs)}function yc(){for(;null!==Cs&&!Ye();)bc(Cs)}function bc(e){var t=Es(e.alternate,e,Os);e.memoizedProps=e.pendingProps,null===t?kc(e):Cs=t,Is.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Hu(n,t,Os)))return void(Cs=n)}else{if(null!==(n=Gu(n,t)))return n.flags&=32767,void(Cs=n);if(null===e)return Rs=6,void(Cs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Cs=t);Cs=t=e}while(null!==t);0===Rs&&(Rs=5)}function wc(e,t,n){var r=bt,i=As.transition;try{As.transition=null,bt=1,function(e,t,n,r){do{xc()}while(null!==Gs);if(0!==(6&Ts))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(Cs=Ns=null,Ds=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hs||(Hs=!0,Nc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=As.transition,As.transition=null;var u=bt;bt=1;var s=Ts;Ts|=4,Is.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Zu=t;null!==Zu;)if(e=(t=Zu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zu=e;else for(;null!==Zu;){t=Zu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zu=e;break}Zu=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,ys(n,e,i),Je(),Ts=s,bt=u,As.transition=o}else e.current=n;if(Hs&&(Hs=!1,Gs=e,Ys=i),0===(o=e.pendingLanes)&&(Ws=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ks)throw Ks=!1,e=Qs,Qs=null,e;0!==(1&Ys)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Xs?Js++:(Js=0,Xs=e):Js=0,zi()}(e,t,n,r)}finally{As.transition=i,bt=r}return null}function xc(){if(null!==Gs){var e=kt(Ys),t=As.transition,n=bt;try{if(As.transition=null,bt=16>e?16:e,null===Gs)var r=!1;else{if(e=Gs,Gs=null,Ys=0,0!==(6&Ts))throw Error(a(331));var i=Ts;for(Ts|=4,Zu=e.current;null!==Zu;){var o=Zu,u=o.child;if(0!==(16&Zu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Zu=l;null!==Zu;){var f=Zu;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zu=h;else for(;null!==Zu;){var d=(f=Zu).sibling,p=f.return;if(as(f),f===l){Zu=null;break}if(null!==d){d.return=p,Zu=d;break}Zu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Zu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Zu=u;else e:for(;null!==Zu;){if(0!==(2048&(o=Zu).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Zu=y;break e}Zu=o.return}}var b=e.current;for(Zu=b;null!==Zu;){var k=(u=Zu).child;if(0!==(2064&u.subtreeFlags)&&null!==k)k.return=u,Zu=k;else e:for(u=b;null!==Zu;){if(0!==(2048&(s=Zu).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){Sc(s,s.return,x)}if(s===u){Zu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Zu=w;break e}Zu=s.return}}if(Ts=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,As.transition=t}}return!1}function Ec(e,t,n){e=Ra(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(gt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ws||!Ws.has(r))){t=Ra(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(gt(t,1,e),rc(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Ds&n)===n&&(4===Rs||3===Rs&&(130023424&Ds)===Ds&&500>Xe()-Us?hc(e,0):Fs|=n),rc(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Na(e,t))&&(gt(e,t,n),rc(e,n))}function Ac(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Nc(e,t){return He(e,t)}function Cc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Cc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Oc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Lc(n.children,i,o,t);case S:u=8,i|=8;break;case _:return(e=Dc(12,n,t,2|i)).elementType=_,e.lanes=o,e;case N:return(e=Dc(13,n,t,i)).elementType=N,e.lanes=o,e;case C:return(e=Dc(19,n,t,i)).elementType=C,e.lanes=o,e;case P:return jc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:u=10;break e;case A:u=9;break e;case T:u=11;break e;case D:u=14;break e;case O:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Dc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,a,o,u,s){return e=new Vc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Dc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function Uc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return Ai;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=Bc(n,r,!0,e,0,a,0,u,s)).context=zc(null),n=e.current,(a=Pa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Ra(n,a,i),e.current.lanes=i,gt(e,i,r),rc(e,r),e}function Kc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Es=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ku=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ku=!1,function(e,t,n){switch(t.tag){case 3:Cu(t),da();break;case 5:ao(t);break;case 1:Oi(t.type)&&ji(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mu(e,t,n):(Ii(uo,1&uo.current),null!==(e=Ku(e,t,n))?e.sibling:null);Ii(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,_u(e,t,n)}return Ku(e,t,n)}(e,t,n);ku=0!==(131072&e.flags)}else ku=!1,ia&&0!==(1048576&t.flags)&&$i(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Di(t,Ti.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=_o();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,ji(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Da(t),i.updater=Ua,t.stateNode=i,i._reactInternals=t,Qa(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===D)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Au(null,t,r,e,n);break e;case 1:t=Tu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Eu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Au(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Cu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Oa(e,t),Ma(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Du(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Du(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ku(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Iu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Mu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ja(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ii(ga,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Pa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ea(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Ea(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=_a(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Eu(e,t,r,i=ma(r.type,i),n);case 15:return Su(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qu(e,t),t.tag=1,Oi(r)?(e=!0,ji(t)):e=!1,Sa(t,n),qa(t,r,i),Qa(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return zu(e,t,n);case 22:return _u(e,t,n)}throw Error(a(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Qc(o);u.call(e)}}Kc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Qc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Qc(s);u.call(e)}}var s=Bc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),lc((function(){Kc(t,s,n,r)})),s}(n,t,e,i,r);return Qc(o)}Jc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Kc(e,t,null,null)},Jc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Kc(null,e,null,null)})),t[pi]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Xe()),0===(6&Ts)&&(zs=Xe()+500,zi()))}break;case 13:lc((function(){var t=Na(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Hc(e,1)}},xt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nc(t,e,134217728,ec());Hc(e,134217728)}},Et=function(e){if(13===e.tag){var t=tc(e),n=Na(e,t);if(null!==n)nc(n,e,t,ec());Hc(e,t)}},St=function(){return bt},_t=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[bi,ki,wi,Ie,Ae,cc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Qe(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return Uc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Qe(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var k=b.prototype=new y;k.constructor=b,v(k,g.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:E.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+T(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(A,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(A,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+T(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+T(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},P={transition:null},R={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:P,ReactCurrentOwner:E};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,P(x);else{var t=r(l);null!==t&&R(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,y(I),I=-1),p=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&R(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,_=null,I=-1,A=5,T=-1;function N(){return!(t.unstable_now()-T<A)}function C(){if(null!==_){var e=t.unstable_now();T=e;var n=!0;try{n=_(!0,e)}finally{n?E():(S=!1,_=null)}}else S=!1}if("function"===typeof b)E=function(){b(C)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,O=D.port2;D.port1.onmessage=C,E=function(){O.postMessage(null)}}else E=function(){g(C,0)};function P(e){_=e,S||(S=!0,E())}function R(e,n){I=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(y(I),I=-1):m=!0,R(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,P(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Ce},SDK_VERSION:function(){return Mt},_DEFAULT_ENTRY_NAME:function(){return St},_addComponent:function(){return Tt},_addOrOverwriteComponent:function(){return Nt},_apps:function(){return It},_clearComponents:function(){return Pt},_components:function(){return At},_getProvider:function(){return Dt},_registerComponent:function(){return Ct},_removeServiceInstance:function(){return Ot},deleteApp:function(){return Ut},getApp:function(){return Vt},getApps:function(){return Bt},initializeApp:function(){return Ft},onLog:function(){return Kt},registerVersion:function(){return qt},setLogLevel:function(){return Qt}});var t,r=n(791),i=n(250);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var c=function(e){return e};var l="beforeunload",f="popstate";function h(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=g(r.location.hash.substr(1)),t=e.pathname,n=void 0===t?"/":t,a=e.search,o=void 0===a?"":a,u=e.hash,s=void 0===u?"":u,l=i.state||{};return[l.idx,c({pathname:n,search:o,hash:s,state:l.usr||null,key:l.key||"default"})]}var o=null;function u(){if(o)x.call(o),o=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(x.length){if(null!=r){var u=b-r;u&&(o={action:e,location:i,retry:function(){T(-1*u)}},T(u))}}else A(e)}}r.addEventListener(f,u),r.addEventListener("hashchange",(function(){m(a()[1])!==m(k)&&u()}));var h=t.Pop,y=a(),b=y[0],k=y[1],w=p(),x=p();function E(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var n=r.location.href,i=n.indexOf("#");t=-1===i?n:n.slice(0,i)}return t}()+"#"+("string"===typeof e?e:m(e))}function S(e,t){return void 0===t&&(t=null),c(s({pathname:k.pathname,hash:"",search:""},"string"===typeof e?g(e):e,{state:t,key:v()}))}function _(e,t){return[{usr:e.state,key:e.key,idx:t},E(e)]}function I(e,t,n){return!x.length||(x.call({action:e,location:t,retry:n}),!1)}function A(e){h=e;var t=a();b=t[0],k=t[1],w.call({action:h,location:k})}function T(e){i.go(e)}null==b&&(b=0,i.replaceState(s({},i.state,{idx:b}),""));var N={get action(){return h},get location(){return k},createHref:E,push:function e(n,a){var o=t.Push,u=S(n,a);if(I(o,u,(function(){e(n,a)}))){var s=_(u,b+1),c=s[0],l=s[1];try{i.pushState(c,"",l)}catch(f){r.location.assign(l)}A(o)}},replace:function e(n,r){var a=t.Replace,o=S(n,r);if(I(a,o,(function(){e(n,r)}))){var u=_(o,b),s=u[0],c=u[1];i.replaceState(s,"",c),A(a)}},go:T,back:function(){T(-1)},forward:function(){T(1)},listen:function(e){return w.push(e)},block:function(e){var t=x.push(e);return 1===x.length&&r.addEventListener(l,d),function(){t(),x.length||r.removeEventListener(l,d)}}};return N}function d(e){e.preventDefault(),e.returnValue=""}function p(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function v(){return Math.random().toString(36).substr(2,8)}function m(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function g(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var y=(0,r.createContext)(null);var b=(0,r.createContext)(null);var k=(0,r.createContext)({outlet:null,matches:[]});function w(e,t){if(!e)throw new Error(t)}function x(e,t,n){void 0===n&&(n="/");var r=C(("string"===typeof t?g(t):t).pathname||"/",n);if(null==r)return null;var i=E(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=A(i[o],r);return a}function E(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||w(!1),a.relativePath=a.relativePath.slice(r.length));var o=D([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&w(!1),E(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:I(o,e.index),routesMeta:u})})),t}var S=/^:\w+$/,_=function(e){return"*"===e};function I(e,t){var n=e.split("/"),r=n.length;return n.some(_)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!_(e)})).reduce((function(e,t){return e+(S.test(t)?3:""===t?1:10)}),r)}function A(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=T({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:D([i,l.pathname]),pathnameBase:O(D([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=D([i,l.pathnameBase]))}return a}function T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=u(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],c=s.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:s,pathnameBase:c,pattern:e}}function N(e,t,n){var r,i="string"===typeof e?g(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?g(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:P(a),hash:R(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function C(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var D=function(e){return e.join("/").replace(/\/\/+/g,"/")},O=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},P=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},R=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function L(e){j()||w(!1);var t=(0,r.useContext)(y),n=t.basename,i=t.navigator,a=B(e),o=a.hash,u=a.pathname,s=a.search,c=u;if("/"!==n){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?g(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===u?n+(f?"/":""):D([n,u])}return i.createHref({pathname:c,search:s,hash:o})}function j(){return null!=(0,r.useContext)(b)}function M(){return j()||w(!1),(0,r.useContext)(b).location}function F(){j()||w(!1);var e=(0,r.useContext)(y),t=e.basename,n=e.navigator,i=(0,r.useContext)(k).matches,a=M().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),u=(0,r.useRef)(!1);(0,r.useEffect)((function(){u.current=!0}));var s=(0,r.useCallback)((function(e,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof e){var i=N(e,JSON.parse(o),a);"/"!==t&&(i.pathname=D([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,o,a]);return s}function V(){var e=(0,r.useContext)(k).matches,t=e[e.length-1];return t?t.params:{}}function B(e){var t=(0,r.useContext)(k).matches,n=M().pathname,i=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,r.useMemo)((function(){return N(e,JSON.parse(i),n)}),[e,i,n])}function U(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,i,a){return(0,r.createElement)(k.Provider,{children:void 0!==i.route.element?i.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function z(e){w(!1)}function q(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;j()&&w(!1);var d=O(i),p=(0,r.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=g(u));var v=u,m=v.pathname,k=void 0===m?"/":m,x=v.search,E=void 0===x?"":x,S=v.hash,_=void 0===S?"":S,I=v.state,A=void 0===I?null:I,T=v.key,N=void 0===T?"default":T,D=(0,r.useMemo)((function(){var e=C(k,d);return null==e?null:{pathname:e,search:E,hash:_,state:A,key:N}}),[d,k,E,_,A,N]);return null==D?null:(0,r.createElement)(y.Provider,{value:p},(0,r.createElement)(b.Provider,{children:o,value:{location:D,navigationType:c}}))}function K(e){var t=e.children,n=e.location;return function(e,t){j()||w(!1);var n,i=(0,r.useContext)(k).matches,a=i[i.length-1],o=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),s=(a&&a.route,M());if(t){var c,l="string"===typeof t?g(t):t;"/"===u||(null==(c=l.pathname)?void 0:c.startsWith(u))||w(!1),n=l}else n=s;var f=n.pathname||"/",h=x(e,{pathname:"/"===u?f:f.slice(u.length)||"/"});return U(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:D([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:D([u,e.pathnameBase])})})),i)}(Q(t),n)}function Q(e){var t=[];return r.Children.forEach(e,(function(e){if((0,r.isValidElement)(e))if(e.type!==r.Fragment){e.type!==z&&w(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=Q(e.props.children)),t.push(n)}else t.push.apply(t,Q(e.props.children))})),t}function W(){return W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}function H(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var G=["onClick","reloadDocument","replace","state","target","to"];function Y(e){var t=e.basename,n=e.children,i=e.window,a=(0,r.useRef)();null==a.current&&(a.current=h({window:i}));var o=a.current,s=u((0,r.useState)({action:o.action,location:o.location}),2),c=s[0],l=s[1];return(0,r.useLayoutEffect)((function(){return o.listen(l)}),[o]),(0,r.createElement)(q,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:o})}var J=(0,r.forwardRef)((function(e,t){var n=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,u=e.state,s=e.target,c=e.to,l=H(e,G),f=L(c),h=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,u=F(),s=M(),c=B(e);return(0,r.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||m(s)===m(c);u(e,{replace:n,state:o})}}),[s,u,c,a,o,i,e])}(c,{replace:o,state:u,target:s});return(0,r.createElement)("a",W({},l,{href:f,onClick:function(e){n&&n(e),e.defaultPrevented||i||h(e)},ref:t,target:s}))}));function X(){var e=M().pathname;return(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"instant"})}),[e]),null}var Z=n(184),$=[{link:"Home",id:"home",header:"Home"},{link:"Characters",id:"characters",header:"Characters"},{link:"Weapons",id:"weapons",header:"Weapons"},{link:"Artifacts",id:"artifacts",header:"Artifacts"},{link:"Banners",id:"banners",header:"Banners"}],ee=function(){var e=u((0,r.useState)(!1),2),t=e[0],n=e[1],i=u((0,r.useState)(!1),2),a=i[0],o=i[1];(0,r.useEffect)((function(){window.addEventListener("scroll",(function(){document.documentElement.scrollTop>500?n(!0):n(!1)}))}),[]);var s=function(){o((function(e){return!e}))};return(0,Z.jsxs)("header",{className:"sticky top-0 flex justify-between flex-col md:flex-row md:items-center gap-2 font-bold py-6 text-lg darkblue shadow-2xl shadow-black/40 rounded-xl px-4 mt-4 mb-10 ",style:{zIndex:"150"},children:[(0,Z.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWoAAABCCAYAAAB+UJwMAAAKQ2lDQ1BJQ0MgcHJvZmlsZQAAeNqdU3dYk/cWPt/3ZQ9WQtjwsZdsgQAiI6wIyBBZohCSAGGEEBJAxYWIClYUFRGcSFXEgtUKSJ2I4qAouGdBiohai1VcOO4f3Ke1fXrv7e371/u855zn/M55zw+AERImkeaiagA5UoU8Otgfj09IxMm9gAIVSOAEIBDmy8JnBcUAAPADeXh+dLA//AGvbwACAHDVLiQSx+H/g7pQJlcAIJEA4CIS5wsBkFIAyC5UyBQAyBgAsFOzZAoAlAAAbHl8QiIAqg0A7PRJPgUA2KmT3BcA2KIcqQgAjQEAmShHJAJAuwBgVYFSLALAwgCgrEAiLgTArgGAWbYyRwKAvQUAdo5YkA9AYACAmUIszAAgOAIAQx4TzQMgTAOgMNK/4KlfcIW4SAEAwMuVzZdL0jMUuJXQGnfy8ODiIeLCbLFCYRcpEGYJ5CKcl5sjE0jnA0zODAAAGvnRwf44P5Dn5uTh5mbnbO/0xaL+a/BvIj4h8d/+vIwCBAAQTs/v2l/l5dYDcMcBsHW/a6lbANpWAGjf+V0z2wmgWgrQevmLeTj8QB6eoVDIPB0cCgsL7SViob0w44s+/zPhb+CLfvb8QB7+23rwAHGaQJmtwKOD/XFhbnauUo7nywRCMW735yP+x4V//Y4p0eI0sVwsFYrxWIm4UCJNx3m5UpFEIcmV4hLpfzLxH5b9CZN3DQCshk/ATrYHtctswH7uAQKLDljSdgBAfvMtjBoLkQAQZzQyefcAAJO/+Y9AKwEAzZek4wAAvOgYXKiUF0zGCAAARKCBKrBBBwzBFKzADpzBHbzAFwJhBkRADCTAPBBCBuSAHAqhGJZBGVTAOtgEtbADGqARmuEQtMExOA3n4BJcgetwFwZgGJ7CGLyGCQRByAgTYSE6iBFijtgizggXmY4EImFINJKApCDpiBRRIsXIcqQCqUJqkV1II/ItchQ5jVxA+pDbyCAyivyKvEcxlIGyUQPUAnVAuagfGorGoHPRdDQPXYCWomvRGrQePYC2oqfRS+h1dAB9io5jgNExDmaM2WFcjIdFYIlYGibHFmPlWDVWjzVjHVg3dhUbwJ5h7wgkAouAE+wIXoQQwmyCkJBHWExYQ6gl7CO0EroIVwmDhDHCJyKTqE+0JXoS+cR4YjqxkFhGrCbuIR4hniVeJw4TX5NIJA7JkuROCiElkDJJC0lrSNtILaRTpD7SEGmcTCbrkG3J3uQIsoCsIJeRt5APkE+S+8nD5LcUOsWI4kwJoiRSpJQSSjVlP+UEpZ8yQpmgqlHNqZ7UCKqIOp9aSW2gdlAvU4epEzR1miXNmxZDy6Qto9XQmmlnafdoL+l0ugndgx5Fl9CX0mvoB+nn6YP0dwwNhg2Dx0hiKBlrGXsZpxi3GS+ZTKYF05eZyFQw1zIbmWeYD5hvVVgq9ip8FZHKEpU6lVaVfpXnqlRVc1U/1XmqC1SrVQ+rXlZ9pkZVs1DjqQnUFqvVqR1Vu6k2rs5Sd1KPUM9RX6O+X/2C+mMNsoaFRqCGSKNUY7fGGY0hFsYyZfFYQtZyVgPrLGuYTWJbsvnsTHYF+xt2L3tMU0NzqmasZpFmneZxzQEOxrHg8DnZnErOIc4NznstAy0/LbHWaq1mrX6tN9p62r7aYu1y7Rbt69rvdXCdQJ0snfU6bTr3dQm6NrpRuoW623XP6j7TY+t56Qn1yvUO6d3RR/Vt9KP1F+rv1u/RHzcwNAg2kBlsMThj8MyQY+hrmGm40fCE4agRy2i6kcRoo9FJoye4Ju6HZ+M1eBc+ZqxvHGKsNN5l3Gs8YWJpMtukxKTF5L4pzZRrmma60bTTdMzMyCzcrNisyeyOOdWca55hvtm82/yNhaVFnMVKizaLx5balnzLBZZNlvesmFY+VnlW9VbXrEnWXOss623WV2xQG1ebDJs6m8u2qK2brcR2m23fFOIUjynSKfVTbtox7PzsCuya7AbtOfZh9iX2bfbPHcwcEh3WO3Q7fHJ0dcx2bHC866ThNMOpxKnD6VdnG2ehc53zNRemS5DLEpd2lxdTbaeKp26fesuV5RruutK10/Wjm7ub3K3ZbdTdzD3Ffav7TS6bG8ldwz3vQfTw91jicczjnaebp8LzkOcvXnZeWV77vR5Ps5wmntYwbcjbxFvgvct7YDo+PWX6zukDPsY+Ap96n4e+pr4i3z2+I37Wfpl+B/ye+zv6y/2P+L/hefIW8U4FYAHBAeUBvYEagbMDawMfBJkEpQc1BY0FuwYvDD4VQgwJDVkfcpNvwBfyG/ljM9xnLJrRFcoInRVaG/owzCZMHtYRjobPCN8Qfm+m+UzpzLYIiOBHbIi4H2kZmRf5fRQpKjKqLupRtFN0cXT3LNas5Fn7Z72O8Y+pjLk722q2cnZnrGpsUmxj7Ju4gLiquIF4h/hF8ZcSdBMkCe2J5MTYxD2J43MC52yaM5zkmlSWdGOu5dyiuRfm6c7Lnnc8WTVZkHw4hZgSl7I/5YMgQlAvGE/lp25NHRPyhJuFT0W+oo2iUbG3uEo8kuadVpX2ON07fUP6aIZPRnXGMwlPUit5kRmSuSPzTVZE1t6sz9lx2S05lJyUnKNSDWmWtCvXMLcot09mKyuTDeR55m3KG5OHyvfkI/lz89sVbIVM0aO0Uq5QDhZML6greFsYW3i4SL1IWtQz32b+6vkjC4IWfL2QsFC4sLPYuHhZ8eAiv0W7FiOLUxd3LjFdUrpkeGnw0n3LaMuylv1Q4lhSVfJqedzyjlKD0qWlQyuCVzSVqZTJy26u9Fq5YxVhlWRV72qX1VtWfyoXlV+scKyorviwRrjm4ldOX9V89Xlt2treSrfK7etI66Trbqz3Wb+vSr1qQdXQhvANrRvxjeUbX21K3nShemr1js20zcrNAzVhNe1bzLas2/KhNqP2ep1/XctW/a2rt77ZJtrWv913e/MOgx0VO97vlOy8tSt4V2u9RX31btLugt2PGmIbur/mft24R3dPxZ6Pe6V7B/ZF7+tqdG9s3K+/v7IJbVI2jR5IOnDlm4Bv2pvtmne1cFoqDsJB5cEn36Z8e+NQ6KHOw9zDzd+Zf7f1COtIeSvSOr91rC2jbaA9ob3v6IyjnR1eHUe+t/9+7zHjY3XHNY9XnqCdKD3x+eSCk+OnZKeenU4/PdSZ3Hn3TPyZa11RXb1nQ8+ePxd07ky3X/fJ897nj13wvHD0Ivdi2yW3S609rj1HfnD94UivW2/rZffL7Vc8rnT0Tes70e/Tf/pqwNVz1/jXLl2feb3vxuwbt24m3Ry4Jbr1+Hb27Rd3Cu5M3F16j3iv/L7a/eoH+g/qf7T+sWXAbeD4YMBgz8NZD+8OCYee/pT/04fh0kfMR9UjRiONj50fHxsNGr3yZM6T4aeypxPPyn5W/3nrc6vn3/3i+0vPWPzY8Av5i8+/rnmp83Lvq6mvOscjxx+8znk98ab8rc7bfe+477rfx70fmSj8QP5Q89H6Y8en0E/3Pud8/vwv94Tz+4A5JREAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAADgGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOkU0NzYyMzcxNzYzMTExRTlCOTIzRUI4QTI2QjA5MzRFIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkQ1QzAxQTA0QzNDNjExRTk4RDFCRUIxNkY2RUI4MEZCIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkQ1QzAxQTAzQzNDNjExRTk4RDFCRUIxNkY2RUI4MEZCIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE4IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjU2MDk2NjYzLWRkMmItNDk0NS1iYTMzLTNjMjM1ODg1NzVmNiIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjRlNjdiYjdlLWFiZWEtY2M0Yy04YzJiLTc0MmMxNTY1NjliYyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Prf4C6wAABIiSURBVHja7F0L2FZTFt7/lCJdiFCKdBGNLioql5mMeUpP7oxxyX2QTAZjiDHKoJCZyCipaJJLRhrEuI7LNEaXcSlGjEwqUipSUuky633OOv79n87ZZ5/v0v/9f+/7PK8+5+xz/c95z9prr7V22ebNmw1BVDNMFp7E20BUF/yAt4CoZthfeKLwAN4KgkJNEKWJE/RfWtQEhZogShBlwjP092n6/wRBoSaIEkJPYVv93UbYm7eEoFATROmglvCWyLJhwjq8NQSFmiAqH42Fzwg7RpbDun5W2Iy3iKBQE0TlAEI8Qvhf4ZEJbQ4XzhWONIwEIaooyhhHTVQxNBL2N0EIXvsctn9P+LgK9+e8nQQtaoIoPGqawO9cP8ft6wl3FNbgrSRoURNE7hbzEcJDhV+aYIBwbULbLsILhGcJt3fsc73wAeEY4Qxh3EO/nfAa4e7Cfwr/TouboFAT+WIXYUvLslwp/ES4tIpdByzb7sLjTBBe185UjH+Gi+KSlH00FU5QgY/iH8Iz9d64gA/C1ZFlcJM8J3xKOE24gY8dQaEm0vAjYV9hL+FeCW0g1C+ruEwRrinB64DL7ScmSEo5Rq3oJGwUdhPOStkn3CHTTcUBww+EnTzuAbZ5ywRulSSsED4tfETFeyMfR4JCTdg4SjhEeGDG7eA6QFTEHcKvSuA69hGeKzzb8aGJw3sq1qtT2vVUEQ1xvPAJD4GflvHefmYCV8o4E0ScVGe00Hszma8hhZqIx07CUcJTU9ptMoFfdYYKchNhDxMUKDK6bJQKy7xKEujrTOBLrpnjPmaoC+PDlHbvCn+oAorsRNcD3kr4Z+EhOZ4T7vtDwhs9zqsqAIOsnU3gijpE/92sf7fn+DpSqIkt0Vo4VbhvSrvHTOBb/ThmHQbk/iDsai1boG1v2Qov3w7Cm4QDTDBYly/gwmiqPYUkXKfCeYNwsKNdXeGnJvfoERvwXY8WDvSw+kvNWu6uzweEuUPkQ4qewxHV5CNEoSYKjv1MEHXQ2NEGPtLLhXel7Asv3t3CCyPL4Ur5bRGv4SC1NlvlKcz4sMwXzjaBn/pp4/Y5w988R0VntqMdokR6qwXZUa1+ZDDWy+N8cZ59tXdTimin19xNBXqPlPbHqLFAVDJq8haUHDCw9lSKSBu1Ukd5Wnv9tAt7kbV85yJeAwYJ7zPukLkQ61VY3zTB4B9cFvPU2s3Frw7Xx99SRBpAyN8UpY16Kth7q+sEPZpOKvxp19NcP7AX6/WXIhqaYFB6l5R28/SjSNCiJmIAkT46pQ1E4PyM+0XRomlq6QLjTTCwVwzApdIzYR38ujNVBJ43QbTF+ipi1HTQ68LgLtxKSUkzrwl/XMLXspf+DXZztIFL7Wd8HWlRE1viLA+RRpjYlTnsG2L4C7VcaxRZHK9Sd8JukfOGH7cYA5o/0A8QEmCaqLW8WK3r2ZarpMy4BxfTeib/Vg5VsTtPrWf7Or/M8e/jC1jCrdXab2CCOPOs8d1wJ91rAn++63khKNREBBh4G+LRbohxD6a5ANGC3xjRE8WMA35Hhfo2E0SsrBMuES4rsEiXqVgio7ClLvtCXRShr3mjdczQLVEILNBrWq7HQ8TEw3ouiwp4jd30nPdVNoysP1Yt36zPxPt85aoOWOujdIBBqD09rOmReR5nuP5b7OiExfpBaKGW239M4Cu/3+Q3wBgC8c9PCseqSI9TaxrWbX39d4B+HEKRw4Bq5wIcG4O9DwovNUGM9/UmGIw8s8AibdSCH6e9g4Yx61E18HXrQ0VUQ9BHXTqAtdsupQ2iN35ZgGMheuIvwlvV8uytx0cY1qYqcr+QgHGidT0HJ7g1INgvmfKMxWdN1Z35ZZjDrQLLHvNEvuq5r9P1Y5ME9LzO4GtJi5ooR1sPkQamFOh42M9n+nuV8Du13GCxI/18hFqj6FYjjAuJM81NECkCVrbL7FhLpIF/mWTf81JtH/YgMBDYoYo+J/c71sF3jcHZc/g6UaiJ4qCnRxv4Wt8o0PFgSb0WEW5Y6hic6qEiDbF+QrvVcFv8T4V8hQr7ZosvWPuCj3ZtZP06FfwkwD//WGSbKJ825X7nS2I+dC7g3G+2/j+MKYdbZqbjmBikGx6zP8x0vsSxHT4OJ1vt4cNG4tEnKdcIomLfKBMfPpfmrqqlYn4r3+1qBrg+yErnpM3pmFPkc6glXJlw7A+FsyJcbq1fL2xg7at3zD4WChulnMPtCccfE2m3JqZN35R91xaOFW4SfiXcQZfXFL6WcNzzHPtrLlwVs80qXRe3TQ3hDY6/8Wj9OyQdc6/N/nhcuKNjX6enbP8g38vSIb+6pYH9PNq8VeRzQDjWRzHLYVVjIK5LhMhqO1ctbKSH2/UykHCyMLIfpH6j8pyrYP/YhOWjrd/11QKPAjU7BjvcMrDqEZ6Iqn1IqjlMl29IOC7aP+A41/kmPgX/RV2X1CvCOcalZH+lPZlChcWdoL2mpny96PogCgOfl2nhVjiPZTHLksK44P4Yb4JaEPBzt48Rniggkjc5jr/Y4WcO8a2JDy3EszzIBOnbrg/fKyaIubYH3ZbHtFur1+jC0gzX8H0n1sRX3FtYAJFeYiqOYyCjEqVfO/MVo1AT+cOnvsSqrXAe3+WwDaJFEIngO9M3Ckgdn+c5znWsR/QHknp+ZSpOQBDXg6huQC8AkR9DrWVN9KN0El8zCjWRH3xiJL8t4fO/L8Eaj0OZWuKt8zjepJT1cI3coW6IvbfBZ+laE7ilwo8RknEQjnkNXzUKNZE7fJJPGjjWwUe8c57MB/DzDvNo94wKCa4FcdB18vgw+NwzuFqQJbktxgPjY/hT6wOKDySyWuHLr81XjkJNZMcCjzYuMUVGHCrPrciBOPZdnmJdX19+uBUQvocU8XCmlm88tp9qytPkETc+Osf7hcp6vvU08FGYaIL07roFfjdqe7b5nQkySlFWtsdWfK4wXyRS0G1X0Vna09iVr13VAWt9lAYgsh1T2jRKsTBhQSEaA5ENqH9Rw+O4z6u1meS2mKICh5m+4ePEwGGtSJvnPD80ITDgh8E8xI4jbR6x4XfncM8g8og1vtFTVFFzBAOevT3Pt566Cp5PWA/f7zGe5/p76/fWLh2KOieIyHnElMfrI+KlK187WtRENvgUmu+Ush6p35iuCskcyL5bm9Ie/svTE0QaHw4M+KG+BAaiUGmtV4xIA7tlvNaNKtChWP7RuJNhXBii4vOpZ3skxrxk0msx2/uflcAnUz6eIXYvgecLBZv6CO+xlm3H145CTWSDz5RYbYz/7CPo2g71sLTiwtIeVpfGKO2y75Syn2Eq+Fl6Z6hwd7J+LCD+j3qKXhwgvB2Mf3p9q4hgFROoST0pQ/uuRRRQjCOgCt9lhjOoU6iJnIAEiLc8/laHZtjnVI8XNwpYzgh/Q7W2xp7HQcU/pKS/nPF5Qur2pfrbJxnGBXxwTtTehM8gIz4SHYv8N73dBDHb3TJsc7b2rvYs4nndaQKXzSq+dlUH9FGXDkapUKYJzLOe+8saE40IjCtM8swkiNFFSU/U/UByBoo6IcFipb7061Vos1TfG61uDwhUWjKMD8aYoOb0BJM+szh81m+ntInWRLEBlw8GB5Om5xpvgqzO2toTgrulifYm+jiOCf89/PYYD/ioSM8aMkf7GXf1PIJCTcRggr74rrjfn6uYfl3gY0NgJyeINMQG9aTnmuwzifigv7ouOhq/ov6o5Ocqeg+XDuYExCwzg028Xx1I8/ljVhhE07hi3OGO6puw7l3Hdn1Sjo0eBlw6yChcVqTnbRlfObo+iOyAxfqblDZ1VYAKDViyRyWse19Fx0ekc0lVXqM9Bd+JbB806YOB8MEOVbfDBwlt0gb5vjPpiUiFdh88rAINIOwRtUbKivS8LeArR6EmcgOyxx5LaQOLulkBj9lFPxBvOkTNB41N7tNczfOwXo0lYNd77hd+/8MTRKkUJ0hA3DPi1A/Ungw+ngOKdCzUG/mSrxyFmsgNiIN+z7Ee6dFjC/i3u1JFsovJbz7D4doryBUY/LzZox3cdahH7RsHDJ/wbTHLF5fwMwDfOcIj4Wc/zpRPwZVmXWexvtHreJWvG4WayA0YnMOo/HxHG8QO/ynlxUz72y5R0b9Iu9ywZnOJNsA5DDaB/zzfiWuxn7gEk/qR+wOfOrING2SwHuPEsNSBmWt6mfJomLS5JlF6Nkv25Xi+bhRqIndgRpIeKZY13Ayo25BUL8Plg4UYnmKCQk8rdRkmZ20f0xZRGXEDcjXUrYD6HYN02QxrfZwf2ce3fEaMq8IW5EWWaMEK94kt3ydmmR13XTeh51IrZb9NYpY183jn9o9Z3tzE19neoL0CY7ac2SYKxGD3z/CcPWXyc3cRFOptHpi2CYNhY0yy7xYuCwz0nRPzkveKaQ+fJGKXe5st/ZO3JljoiATBQF+0RghqeyB07SjL0p2uv09JELFzPKxgRCOEyTAh7Bm27XhzpEIj7rhtinhdHCNQM63/j4sAgUj3c+x3PxM/hdqRCUIMIFQPU3K1iFmHD864hA8PrgGupRM8npsbjf+8ifDTDzB+YwNEZYLT3FQJHuaYLsqeDusd4QvC2TrllD2V1sDIdFk2r3fsF9NerfDgvbqvq4VfONq9Lezgcc0XJEzFdVLMOa7Taay66tRaYdtmwqmRth8L94xM0bUw4do3xUwDBh4vnO+4xvl6nmH77YW36d8h7T5i2xHCXXXbznrOWTFNuIvn8zWQU3GVNsvwH6LKoJO6BmARt3H0iD5XH+w0E9SkmOPY56/V+p6prhYkWaB2xhpT+VEBsA4Rw71cLfQw5fz9BKvUqKX/mbpm9on0El5Wa9N2rWAA81r9vU5dOc+oG+cjvQ/bAhBJM9i6Xw+ZbbM8bEmCQl11UUf9tA20Sw1RXa0iu7oaXSfEAsWRULzpTl12kF77HL327upywPLogChEGYNyE1SAbcC1cZeKMvz9jxr/eO7qCAxij9J7SKGmUBNEJqDn0NT4JWnAItxZt8EHa62j3QEmGAv4mrf4e2A2mPO1F8MUcwo1QRAE4WupEARBEBRqgiAIIleweh4RAskozRPWoazpUscz1CGyDD7faDYgIlbsCAz4QOc7zgcJO00T1iEaY2WO13maKZ/n8XETn7XoC0SWIPoGpU4XOe5RHDoav/rb8Mt/wceTQk0QobgiUQPzF4Yp2whNw0S2rpKdyJxDbWbMZBImayByAhl6YfRJDxOExoX4qwnmYXQBYXYY1LKTVRCRcKoeB8WrrtKPSBagpskV+huJMmfncK8QcYPZbxA1spOew8d6L5Dp94JeowuvmCCR5QO9njA9fLUuCz+c/fW6iW0YdH0QIVDWE/Uz7MkLMOqPAlBpxZZQiH6KKS+FCvE611p/WaQ94pbT6iGv1u3sDMVbhMeqgQHBRknQWhmusaZuH1rj2EfjjPdpR/3oDNTrHKSCio8RwtuQjn6Yx37QK2ihPQ37/rytHxPEgA/mY0lQqIk4LE/4nYZv1JUQ4lJ9vmAptjQVQ+C+8dwnRPrbyLJp1rLWwnYZzhHTdb1ugrR8oyLfP+P9QQLOwZZVjBnGw5KpOC9UP5zrsR/U7ViS0gY1td/kI0lQqIlCAvMehuVDW6mFeblwhClcPQkIc1jXZKnJVlQI53KHCZJcQuu/n4kvhpQEe0aXyQk9k7Ee+5nu+aGazseKoFAThQSEZWTE+oRYTyzQ/jHbeThpL9Ld+xj/LEzUdkbyC4o6LbCs/11N8nRacdjD+r2Sf3KCQk1URdxjuSbgax0f477IB9eYIFUclvWsDNth4BHVCMPqf0db6+Aj9i26b5eePYB/boJCTVRFLDPlBekh0CMKuO+HlBDoLK4UuGEQ0YKBwIZK/H5D1yP6o6fnvuzrudBULMFqW/4EQaEmiobW1u+WGbZDbHI4WQEKKGGAbaIKdx0VRrutDxqZivWZG+d4TagQOMFsOU/i6IjF7YP79foARH1gcBMDg4iLPkJ7FLMznp99P1AQqQYfQ6ICWOuVVO4tHBmpYw2ME7ZybNda+IBV67mtLp8gbCGsIZwY2eci4YCU80E953cj2y0Q9stwTXsIhws3CGcKD7HWtRe+FNn/JGEbz3331lrXy7UW+Hytid08w/nVEQ4Sroqcx4vC7nwmSdajJgiCoOuDIAiCoFATBEFQqAmCIAgKNUEQBOHE/wUYALPJFHxe5UuhAAAAAElFTkSuQmCC",alt:"web_logo",className:"max-w-[200px] w-full"}),(0,Z.jsx)("button",{id:"navToggler",className:"absolute right-6 top-2 md:hidden lightcolor outline-none p-4",onClick:function(){return o(!a)},children:(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,Z.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})}),(0,Z.jsx)("nav",{className:"navigation overflow-hidden ".concat(a?"max-h-[400px]":"max-h-[0px]"," md:max-h-full"),children:(0,Z.jsx)("ul",{className:"flex gap-6 flex-col md:flex-row items-center mt-6 md:mt-0 transition duration-300",children:$.map((function(e,t){return(0,Z.jsx)("li",{children:(0,Z.jsx)(J,{to:e.link,id:e.id,className:"navlink transition-all duration-300 text-[#6a91e9] opacity-40 hover:opacity-100 hover:tracking-widest",onClick:s,children:e.header})},t)}))})}),(0,Z.jsx)("button",{className:"fixed bottom-10 right-8 p-4 rounded-xl darkblue lightcolor outline-none z-50 ".concat(t?"block":"hidden"),onClick:function(){return document.documentElement.scrollTop=0},children:(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,Z.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 15l7-7 7 7"})})})]})},te=function(){return(0,Z.jsxs)("footer",{className:"my-10 darkblue p-6 shadow-2xl rounded-xl text-white",children:[(0,Z.jsxs)("div",{className:"flex justify-between flex-col md:flex-row gap-2",children:[(0,Z.jsxs)("p",{className:"sm:text-xl flex items-center gap-2",children:["Creator: ",(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",className:"bi bi-github",viewBox:"0 0 16 16",children:(0,Z.jsx)("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"})})," ",(0,Z.jsx)("a",{href:"https://github.com/jisengtong",target:"_blank",rel:"noreferrer nofollower",style:{textDecoration:"underline"},children:"Tong Ji Seng "})]}),(0,Z.jsx)("p",{children:"Website data is updated to the latest in game version: 3.5"})]}),(0,Z.jsx)("div",{className:"disclaimer mt-4",children:(0,Z.jsxs)("p",{children:["*Disclaimer: This is a fanmade website related to the Video Game: Genshin Impact.",(0,Z.jsx)("br",{}),"Website is not affiliated with the game company: miHoYo/HoYoverse. "]})}),(0,Z.jsxs)("div",{className:"development__tools mt-4",children:[(0,Z.jsx)("p",{children:"Created Using:"}),(0,Z.jsxs)("div",{className:"flex gap-3 items-center flex-wrap pt-3",children:[(0,Z.jsx)("a",{href:"https://react.dev/",target:"_blank",rel:"noreferrer nofollower",children:(0,Z.jsxs)("svg",{width:"100%",height:"100%",viewBox:"-10.5 -9.45 21 18.9",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{color:"rgb(20 158 202)"},className:"text-sm mr-0 w-10 h-10 flex origin-center transition-all ease-in-out",children:[(0,Z.jsx)("circle",{cx:"0",cy:"0",r:"2",fill:"currentColor"}),(0,Z.jsxs)("g",{stroke:"currentColor",strokeWidth:"1",fill:"none",children:[(0,Z.jsx)("ellipse",{rx:"10",ry:"4.5"}),(0,Z.jsx)("ellipse",{rx:"10",ry:"4.5",transform:"rotate(60)"}),(0,Z.jsx)("ellipse",{rx:"10",ry:"4.5",transform:"rotate(120)"})]})]})}),(0,Z.jsx)("a",{href:"https://firebase.google.com/",target:"_blank",rel:"noreferrer nofollower",children:(0,Z.jsx)("img",{src:"https://www.gstatic.com/mobilesdk/160503_mobilesdk/logo/2x/firebase_28dp.png",alt:"firebase_icon",className:"w-9 h-9"})}),(0,Z.jsx)("a",{href:"https://tailwindcss.com/",target:"_blank",rel:"noreferrer nofollower",children:(0,Z.jsx)("svg",{viewBox:"0 0 1000 1000",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"h-9 w-9",children:(0,Z.jsx)("path",{d:"M489.5 226.499c-161.5 5.133-209.5 120.5-220.5 183 14.333-23.167 59.5-73.999 126-73.999 77.5 0 136.5 86.5 172.5 113.5 43.737 32.803 131.623 76.115 247 41 92-28 134.667-125.668 144-172.001-44.5 60.5-112 96.839-195.5 54-57.5-29.5-100.5-150.999-273.5-145.5zM261 500.999c-161.5 5.133-209.5 120.5-220.5 183C54.833 660.832 100 610 166.5 610 244 610 303 696.5 339 723.5c43.737 32.803 131.623 76.115 247 41 92-28 134.667-125.668 144-172.001-44.5 60.5-112 96.839-195.5 54C477 616.999 434 495.5 261 500.999z",fill:"#07B6D5"})})})]})]})]})},ne=function(e){var t=e.message;return(0,Z.jsxs)("div",{className:"err__msg font-semibold text-center text-xl sm:text-2xl lightcolor my-16 max-w-[600px] mx-auto",children:[(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 block mx-auto",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Z.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,Z.jsxs)("p",{className:"error__message mt-4",children:[t||(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("span",{className:"block",children:"There was an error when loading page."}),(0,Z.jsx)("span",{className:"block",children:"Please try again later."})]}),(0,Z.jsx)(J,{to:"/Home",className:"text-xl underline block mt-4",children:"Return to Home Page"})]})]})};function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}function ie(){ie=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(I){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new E(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return _()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=k(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(S([])));m&&m!==t&&n.call(m,i)&&(p=m);var g=d.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==re(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return h.prototype=d,u(g,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),u(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(g),u(g,o,"Generator"),u(g,i,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function ae(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function oe(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ae(a,r,i,o,u,"next",e)}function u(e){ae(a,r,i,o,u,"throw",e)}o(void 0)}))}}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t,n){return t&&ce(e.prototype,t),n&&ce(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fe(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw a}}}}function he(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function de(e,t){return de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},de(e,t)}function pe(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&de(e,t)}function ve(e){return ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ve(e)}function me(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ge(e,t){if(t&&("object"===re(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return he(e)}function ye(e){var t=me();return function(){var n,r=ve(e);if(t){var i=ve(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ge(this,n)}}function be(e,t,n){return be=me()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&de(i,n.prototype),i},be.apply(null,arguments)}function ke(e){var t="function"===typeof Map?new Map:void 0;return ke=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return be(e,arguments,ve(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),de(n,e)},ke(e)}var we=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},xe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(we(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ee=function(e){return function(e){var t=we(e);return xe.encodeByteArray(t,!0)}(e).replace(/\./g,"")};function Se(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Se(e[n],t[n]));return e}var _e=function(){function e(){var t=this;se(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return le(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Ie(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ee(JSON.stringify({alg:"none",type:"JWT"})),Ee(JSON.stringify(a)),""].join(".")}function Ae(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Te(){return!function(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ne(){return"object"===typeof indexedDB}var Ce=function(e){pe(n,e);var t=ye(n);function n(e,r,i){var a;return se(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(he(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(he(a),De.prototype.create),a}return le(n)}(ke(Error)),De=function(){function e(t,n,r){se(this,e),this.service=t,this.serviceName=n,this.errors=r}return le(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Oe(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Ce(n,a,t);return o}}]),e}();function Oe(e,t){return e.replace(Pe,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Pe=/\{\$([^}]+)}/g;function Re(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Le(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(je(u)&&je(s)){if(!Le(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function je(e){return null!==e&&"object"===typeof e}function Me(e,t){var n=new Fe(e,t);return n.subscribe.bind(n)}var Fe=function(){function e(t,n){var r=this;se(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return le(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=fe(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Ve),void 0===r.error&&(r.error=Ve),void 0===r.complete&&(r.complete=Ve);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Ve(){}function Be(e){return e&&e._delegate?e._delegate:e}function Ue(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ze=function(){function e(t,n,r){se(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return le(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),qe="[DEFAULT]",Ke=function(){function e(t,n){se(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return le(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new _e;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:qe})}catch(c){}var t,n=fe(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=u(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=oe(ie().mark((function e(){var t;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Ue(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Ue(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=fe(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=u(i.value,2),c=s[0],l=s[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=fe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Fm){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===qe?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Fm){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe;return this.component?this.component.multipleInstances?e:qe:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Qe,We,He=function(){function e(t){se(this,e),this.name=t,this.providers=new Map}return le(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ke(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Ge=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(We||(We={}));var Ye={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},Je=We.INFO,Xe=(ue(Qe={},We.DEBUG,"log"),ue(Qe,We.VERBOSE,"log"),ue(Qe,We.INFO,"info"),ue(Qe,We.WARN,"warn"),ue(Qe,We.ERROR,"error"),Qe),Ze=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Xe[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},$e=function(){function e(t){se(this,e),this.name=t,this._logLevel=Je,this._logHandler=Ze,this._userLogHandler=null,Ge.push(this)}return le(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in We))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ye[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,We.DEBUG].concat(t)),this._logHandler.apply(this,[this,We.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,We.VERBOSE].concat(t)),this._logHandler.apply(this,[this,We.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,We.INFO].concat(t)),this._logHandler.apply(this,[this,We.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,We.WARN].concat(t)),this._logHandler.apply(this,[this,We.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,We.ERROR].concat(t)),this._logHandler.apply(this,[this,We.ERROR].concat(t))}}]),e}();function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nt,rt;var it=new WeakMap,at=new WeakMap,ot=new WeakMap,ut=new WeakMap,st=new WeakMap;var ct={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return at.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ot.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ht(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function lt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(rt||(rt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(dt(this),n),ht(it.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ht(e.apply(dt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[dt(this),t].concat(r));return ot.set(a,t.sort?t.sort():[t]),ht(a)}}function ft(e){return"function"===typeof e?lt(e):(e instanceof IDBTransaction&&function(e){if(!at.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));at.set(e,t)}}(e),t=e,(nt||(nt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,ct):e);var t}function ht(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(ht(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&it.set(t,e)})).catch((function(){})),st.set(t,e),t}(e);if(ut.has(e))return ut.get(e);var t=ft(e);return t!==e&&(ut.set(e,t),st.set(t,e)),t}var dt=function(e){return st.get(e)};var pt,vt,mt=["get","getKey","getAll","getAllKeys","count"],gt=["put","add","delete","clear"],yt=new Map;function bt(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(yt.get(t))return yt.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=gt.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||mt.includes(n))){var a=function(){var e=oe(ie().mark((function e(t){var a,o,u,s,c,l,f=arguments;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return yt.set(t,a),a}}}ct=function(e){return tt(tt({},e),{},{get:function(t,n,r){return bt(t,n)||e.get(t,n,r)},has:function(t,n){return!!bt(t,n)||e.has(t,n)}})}(ct);var kt=function(){function e(t){se(this,e),this.container=t}return le(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var wt="@firebase/app",xt="0.7.26",Et=new $e("@firebase/app"),St="[DEFAULT]",_t=(ue(pt={},wt,"fire-core"),ue(pt,"@firebase/app-compat","fire-core-compat"),ue(pt,"@firebase/analytics","fire-analytics"),ue(pt,"@firebase/analytics-compat","fire-analytics-compat"),ue(pt,"@firebase/app-check","fire-app-check"),ue(pt,"@firebase/app-check-compat","fire-app-check-compat"),ue(pt,"@firebase/auth","fire-auth"),ue(pt,"@firebase/auth-compat","fire-auth-compat"),ue(pt,"@firebase/database","fire-rtdb"),ue(pt,"@firebase/database-compat","fire-rtdb-compat"),ue(pt,"@firebase/functions","fire-fn"),ue(pt,"@firebase/functions-compat","fire-fn-compat"),ue(pt,"@firebase/installations","fire-iid"),ue(pt,"@firebase/installations-compat","fire-iid-compat"),ue(pt,"@firebase/messaging","fire-fcm"),ue(pt,"@firebase/messaging-compat","fire-fcm-compat"),ue(pt,"@firebase/performance","fire-perf"),ue(pt,"@firebase/performance-compat","fire-perf-compat"),ue(pt,"@firebase/remote-config","fire-rc"),ue(pt,"@firebase/remote-config-compat","fire-rc-compat"),ue(pt,"@firebase/storage","fire-gcs"),ue(pt,"@firebase/storage-compat","fire-gcs-compat"),ue(pt,"@firebase/firestore","fire-fst"),ue(pt,"@firebase/firestore-compat","fire-fst-compat"),ue(pt,"fire-js","fire-js"),ue(pt,"firebase","fire-js-all"),pt),It=new Map,At=new Map;function Tt(e,t){try{e.container.addComponent(t)}catch(n){Et.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Nt(e,t){e.container.addOrOverwriteComponent(t)}function Ct(e){var t=e.name;if(At.has(t))return Et.debug("There were multiple attempts to register component ".concat(t,".")),!1;At.set(t,e);var n,r=fe(It.values());try{for(r.s();!(n=r.n()).done;){Tt(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Dt(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ot(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:St;Dt(e,t).clearInstance(n)}function Pt(){At.clear()}var Rt=(ue(vt={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ue(vt,"bad-app-name","Illegal App name: '{$appName}"),ue(vt,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),ue(vt,"app-deleted","Firebase App named '{$appName}' already deleted"),ue(vt,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ue(vt,"invalid-log-argument","First argument to `onLog` must be null or a function."),ue(vt,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),ue(vt,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),ue(vt,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),ue(vt,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),vt),Lt=new De("app","Firebase",Rt),jt=function(){function e(t,n,r){var i=this;se(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ze("app",(function(){return i}),"PUBLIC"))}return le(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Lt.create("app-deleted",{appName:this._name})}}]),e}(),Mt="9.8.3";function Ft(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:St,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Lt.create("bad-app-name",{appName:String(i)});var a=It.get(i);if(a){if(Le(e,a.options)&&Le(r,a.config))return a;throw Lt.create("duplicate-app",{appName:i})}var o,u=new He(i),s=fe(At.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new jt(e,r,u);return It.set(i,l),l}function Vt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=It.get(e);if(!t)throw Lt.create("no-app",{appName:e});return t}function Bt(){return Array.from(It.values())}function Ut(e){return zt.apply(this,arguments)}function zt(){return zt=oe(ie().mark((function e(t){var n;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!It.has(n)){e.next=6;break}return It.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),zt.apply(this,arguments)}function qt(e,t,n){var r,i=null!==(r=_t[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Et.warn(u.join(" "))}Ct(new ze("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Kt(e,t){if(null!==e&&"function"!==typeof e)throw Lt.create("invalid-log-argument");!function(e,t){var n,r=fe(Ge);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Ye[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:We[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Qt(e){var t;t=e,Ge.forEach((function(e){e.setLogLevel(t)}))}var Wt="firebase-heartbeat-store",Ht=null;function Gt(){return Ht||(Ht=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=ht(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(ht(u.result),e.oldVersion,e.newVersion,ht(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Wt)}}).catch((function(e){throw Lt.create("storage-open",{originalErrorMessage:e.message})}))),Ht}function Yt(e){return Jt.apply(this,arguments)}function Jt(){return Jt=oe(ie().mark((function e(t){var n,r;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Gt();case 3:return r=e.sent,e.abrupt("return",r.transaction(Wt).objectStore(Wt).get($t(t)));case 7:throw e.prev=7,e.t0=e.catch(0),Lt.create("storage-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Jt.apply(this,arguments)}function Xt(e,t){return Zt.apply(this,arguments)}function Zt(){return Zt=oe(ie().mark((function e(t,n){var r,i,a,o;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Gt();case 3:return i=e.sent,a=i.transaction(Wt,"readwrite"),o=a.objectStore(Wt),e.next=8,o.put(n,$t(t));case 8:return e.abrupt("return",a.done);case 11:throw e.prev=11,e.t0=e.catch(0),Lt.create("storage-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Zt.apply(this,arguments)}function $t(e){return"".concat(e.name,"!").concat(e.options.appId)}var en=function(){function e(t){var n=this;se(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new on(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return le(e,[{key:"triggerHeartbeat",value:function(){var e=oe(ie().mark((function e(){var t,n,r;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=tn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=oe(ie().mark((function e(){var t,n,r,i,a;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=tn(),n=nn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Ee(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function tn(){return(new Date).toISOString().substring(0,10)}function nn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=fe(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),un(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),un(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var rn,an,on=function(){function e(t){se(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return le(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=oe(ie().mark((function e(){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ne()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=oe(ie().mark((function e(){var t;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Yt(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=oe(ie().mark((function e(t){var n,r;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Xt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=oe(ie().mark((function e(t){var n,r;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Xt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Ue(r.heartbeats),Ue(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function un(e){return Ee(JSON.stringify({version:2,heartbeats:e})).length}rn="",Ct(new ze("platform-logger",(function(e){return new kt(e)}),"PRIVATE")),Ct(new ze("heartbeat",(function(e){return new en(e)}),"PRIVATE")),qt(wt,xt,rn),qt(wt,xt,"esm2017"),qt("fire-js","");var sn=function(){function e(t,n){var r=this;se(this,e),this._delegate=t,this.firebase=n,Tt(t,new ze("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return le(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Ut(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:St;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:St;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Tt(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Nt(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),cn=(ue(an={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ue(an,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),an),ln=new De("app-compat","Firebase",cn);var fn=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Ft(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Re(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:qt,setLogLevel:Qt,onLog:Kt,apps:null,SDK_VERSION:Mt,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Ct(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw ln.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Se(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Re(n,e=e||St))throw ln.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(sn);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Se(n,e)},createSubscribe:Me,ErrorFactory:De,deepExtend:Se}),n}(),hn=new $e("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){hn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var dn=self.firebase.SDK_VERSION;dn&&dn.indexOf("LITE")>=0&&hn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var pn=fn;!function(e){qt("@firebase/app-compat","0.1.27",e)}();function vn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ve(e)););return e}function mn(){return mn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=vn(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},mn.apply(this,arguments)}pn.registerVersion("firebase","9.8.3","app-compat");var gn,yn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},bn={},kn=kn||{},wn=yn||self;function xn(){}function En(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Sn(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var _n="closure_uid_"+(1e9*Math.random()>>>0),In=0;function An(e,t,n){return e.call.apply(e.bind,arguments)}function Tn(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Nn(e,t,n){return(Nn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?An:Tn).apply(null,arguments)}function Cn(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Dn(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function On(){this.s=this.s,this.o=this.o}var Pn={};On.prototype.s=!1,On.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,_n)&&e[_n]||(e[_n]=++In)}(this);delete Pn[e]}},On.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Rn=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Ln=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function jn(e){return Array.prototype.concat.apply([],arguments)}function Mn(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Fn(e){return/^[\s\xa0]*$/.test(e)}var Vn,Bn=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Un(e,t){return-1!=e.indexOf(t)}function zn(e,t){return e<t?-1:e>t?1:0}e:{var qn=wn.navigator;if(qn){var Kn=qn.userAgent;if(Kn){Vn=Kn;break e}}Vn=""}function Qn(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Wn(e){var t={};for(var n in e)t[n]=e[n];return t}var Hn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gn(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Hn.length;a++)n=Hn[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Yn(e){return Yn[" "](e),e}Yn[" "]=xn;var Jn,Xn=Un(Vn,"Opera"),Zn=Un(Vn,"Trident")||Un(Vn,"MSIE"),$n=Un(Vn,"Edge"),er=$n||Zn,tr=Un(Vn,"Gecko")&&!(Un(Vn.toLowerCase(),"webkit")&&!Un(Vn,"Edge"))&&!(Un(Vn,"Trident")||Un(Vn,"MSIE"))&&!Un(Vn,"Edge"),nr=Un(Vn.toLowerCase(),"webkit")&&!Un(Vn,"Edge");function rr(){var e=wn.document;return e?e.documentMode:void 0}e:{var ir="",ar=function(){var e=Vn;return tr?/rv:([^\);]+)(\)|;)/.exec(e):$n?/Edge\/([\d\.]+)/.exec(e):Zn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):nr?/WebKit\/(\S+)/.exec(e):Xn?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ar&&(ir=ar?ar[1]:""),Zn){var or=rr();if(null!=or&&or>parseFloat(ir)){Jn=String(or);break e}}Jn=ir}var ur,sr={};function cr(){return function(e){var t=sr;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Bn(String(Jn)).split("."),n=Bn("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=zn(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||zn(0==a[2].length,0==o[2].length)||zn(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(wn.document&&Zn){var lr=rr();ur=lr||(parseInt(Jn,10)||void 0)}else ur=void 0;var fr=ur,hr=function(){if(!wn.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{wn.addEventListener("test",xn,t),wn.removeEventListener("test",xn,t)}catch(n){}return e}();function dr(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function pr(e,t){if(dr.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(tr){e:{try{Yn(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:vr[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&pr.Z.h.call(this)}}dr.prototype.h=function(){this.defaultPrevented=!0},Dn(pr,dr);var vr={2:"touch",3:"pen",4:"mouse"};pr.prototype.h=function(){pr.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var mr="closure_listenable_"+(1e6*Math.random()|0),gr=0;function yr(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++gr,this.ca=this.fa=!1}function br(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function kr(e){this.src=e,this.g={},this.h=0}function wr(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Rn(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(br(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function xr(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}kr.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=xr(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new yr(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Er="closure_lm_"+(1e6*Math.random()|0),Sr={};function _r(e,t,n,r,i){if(r&&r.once)return Ar(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)_r(e,t[a],n,r,i);return null}return n=Rr(n),e&&e[mr]?e.N(t,n,Sn(r)?!!r.capture:!!r,i):Ir(e,t,n,!1,r,i)}function Ir(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Sn(i)?!!i.capture:!!i,u=Or(e);if(u||(e[Er]=u=new kr(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Dr;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)hr||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Cr(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ar(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ar(e,t[a],n,r,i);return null}return n=Rr(n),e&&e[mr]?e.O(t,n,Sn(r)?!!r.capture:!!r,i):Ir(e,t,n,!0,r,i)}function Tr(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Tr(e,t[a],n,r,i);else r=Sn(r)?!!r.capture:!!r,n=Rr(n),e&&e[mr]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=xr(a=e.g[t],n,r,i))&&(br(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Or(e))&&(t=e.g[t.toString()],e=-1,t&&(e=xr(t,n,r,i)),(n=-1<e?t[e]:null)&&Nr(n))}function Nr(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[mr])wr(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Cr(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Or(t))?(wr(n,e),0==n.h&&(n.src=null,t[Er]=null)):br(e)}}}function Cr(e){return e in Sr?Sr[e]:Sr[e]="on"+e}function Dr(e,t){if(e.ca)e=!0;else{t=new pr(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Nr(e),e=n.call(r,t)}return e}function Or(e){return(e=e[Er])instanceof kr?e:null}var Pr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rr(e){return"function"===typeof e?e:(e[Pr]||(e[Pr]=function(t){return e.handleEvent(t)}),e[Pr])}function Lr(){On.call(this),this.i=new kr(this),this.P=this,this.I=null}function jr(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new dr(t,e);else if(t instanceof dr)t.target=t.target||e;else{var i=t;Gn(t=new dr(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Mr(o,r,!0,t)&&i}if(i=Mr(o=t.g=e,r,!0,t)&&i,i=Mr(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Mr(o=t.g=n[a],r,!1,t)&&i}function Mr(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&wr(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Dn(Lr,On),Lr.prototype[mr]=!0,Lr.prototype.removeEventListener=function(e,t,n,r){Tr(this,e,t,n,r)},Lr.prototype.M=function(){if(Lr.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)br(n[r]);delete t.g[e],t.h--}}this.I=null},Lr.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Lr.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Fr=wn.JSON.stringify;function Vr(){var e=Hr,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Br,Ur=function(){function e(){se(this,e),this.h=this.g=null}return le(e,[{key:"add",value:function(e,t){var n=zr.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),zr=new(function(){function e(t,n){se(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return le(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new qr}),(function(e){return e.reset()})),qr=function(){function e(){se(this,e),this.next=this.g=this.h=null}return le(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Kr(e){wn.setTimeout((function(){throw e}),0)}function Qr(e,t){Br||function(){var e=wn.Promise.resolve(void 0);Br=function(){e.then(Gr)}}(),Wr||(Br(),Wr=!0),Hr.add(e,t)}var Wr=!1,Hr=new Ur;function Gr(){for(var e;e=Vr();){try{e.h.call(e.g)}catch(n){Kr(n)}var t=zr;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Wr=!1}function Yr(e,t){Lr.call(this),this.h=e||1,this.g=t||wn,this.j=Nn(this.kb,this),this.l=Date.now()}function Jr(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Xr(e,t,n){if("function"===typeof e)n&&(e=Nn(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Nn(e.handleEvent,e)}return 2147483647<Number(t)?-1:wn.setTimeout(e,t||0)}function Zr(e){e.g=Xr((function(){e.g=null,e.i&&(e.i=!1,Zr(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Dn(Yr,Lr),(gn=Yr.prototype).da=!1,gn.S=null,gn.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),jr(this,"tick"),this.da&&(Jr(this),this.start()))}},gn.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},gn.M=function(){Yr.Z.M.call(this),Jr(this),delete this.g};var $r=function(e){pe(n,e);var t=ye(n);function n(e,r){var i;return se(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return le(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Zr(this)}},{key:"M",value:function(){mn(ve(n.prototype),"M",this).call(this),this.g&&(wn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(On);function ei(e){On.call(this),this.h=e,this.g={}}Dn(ei,On);var ti=[];function ni(e,t,n,r){Array.isArray(n)||(n&&(ti[0]=n.toString()),n=ti);for(var i=0;i<n.length;i++){var a=_r(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function ri(e){Qn(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Nr(e)}),e),e.g={}}function ii(){this.g=!0}function ai(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Fr(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}ei.prototype.M=function(){ei.Z.M.call(this),ri(this)},ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ii.prototype.Aa=function(){this.g=!1},ii.prototype.info=function(){};var oi={},ui=null;function si(){return ui=ui||new Lr}function ci(e){dr.call(this,oi.Ma,e)}function li(e){var t=si();jr(t,new ci(t,e))}function fi(e,t){dr.call(this,oi.STAT_EVENT,e),this.stat=t}function hi(e){var t=si();jr(t,new fi(t,e))}function di(e,t){dr.call(this,oi.Na,e),this.size=t}function pi(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return wn.setTimeout((function(){e()}),t)}oi.Ma="serverreachability",Dn(ci,dr),oi.STAT_EVENT="statevent",Dn(fi,dr),oi.Na="timingevent",Dn(di,dr);var vi={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},mi={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function gi(){}function yi(e){return e.h||(e.h=e.i())}function bi(){}gi.prototype.h=null;var ki,wi={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function xi(){dr.call(this,"d")}function Ei(){dr.call(this,"c")}function Si(){}function _i(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new ei(this),this.P=Ai,e=er?125:void 0,this.W=new Yr(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ii}function Ii(){this.i=null,this.g="",this.h=!1}Dn(xi,dr),Dn(Ei,dr),Dn(Si,gi),Si.prototype.g=function(){return new XMLHttpRequest},Si.prototype.i=function(){return{}},ki=new Si;var Ai=45e3,Ti={},Ni={};function Ci(e,t,n){e.K=1,e.v=$i(Hi(t)),e.s=n,e.U=!0,Di(e,null)}function Di(e,t){e.F=Date.now(),Li(e),e.A=Hi(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),ha(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Ii,e.g=vo(e.l,n?t:null,!e.s),0<e.O&&(e.L=new $r(Nn(e.Ia,e,e.g),e.O)),ni(e.V,e.g,"readystatechange",e.gb),t=e.H?Wn(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),li(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Oi(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Pi(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Ri(e,n))==Ni){4==t&&(e.o=4,hi(14),i=!1),ai(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ti){e.o=4,hi(15),ai(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ai(e.j,e.m,r,null),Bi(e,r)}Oi(e)&&r!=Ni&&r!=Ti&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,hi(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),oo(t),t.L=!0,hi(11))):(ai(e.j,e.m,n,"[Invalid Chunked Response]"),Vi(e),Fi(e))}function Ri(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ni:(n=Number(t.substring(n,r)),isNaN(n)?Ti:(r+=1)+n>t.length?Ni:(t=t.substr(r,n),e.C=r+n,t))}function Li(e){e.Y=Date.now()+e.P,ji(e,e.P)}function ji(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=pi(Nn(e.eb,e),t)}function Mi(e){e.B&&(wn.clearTimeout(e.B),e.B=null)}function Fi(e){0==e.l.G||e.I||co(e.l,e)}function Vi(e){Mi(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Jr(e.W),ri(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Bi(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||ka(n.i,e)))if(n.I=e.N,!e.J&&ka(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;so(n),Xa(n)}ao(n),hi(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=pi(Nn(n.ab,n),6e3));if(1>=ba(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else fo(n,11)}else if((e.J||n.g==e)&&so(n),!Fn(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Un(l,"spdy")||Un(l,"quic")||Un(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(wa(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Zi(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=po(r,r.H?r.la:null,r.W),d.J){xa(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Mi(p),Li(p)),r.g=d}else io(r);0<n.l.length&&eo(n)}else"stop"!=a[0]&&"close"!=a[0]||fo(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?fo(n,7):Ja(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}li(4)}catch(a){}}function Ui(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(En(e)||"string"===typeof e)Ln(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(En(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(En(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function zi(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof zi)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function qi(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Ki(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Ki(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Ki(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(gn=_i.prototype).setTimeout=function(e){this.P=e},gn.gb=function(e){e=e.target;var t=this.L;t&&3==Qa(e)?t.l():this.Ia(e)},gn.Ia=function(e){try{if(e==this.g)e:{var t=Qa(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||er||this.g&&(this.h.h||this.g.ga()||Wa(this.g)))){this.I||4!=t||7==n||li(8==n||0>=r?3:2),Mi(this);var i=this.g.ba();this.N=i;t:if(Oi(this)){var a=Wa(this.g);e="";var o=a.length,u=4==Qa(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Vi(this),Fi(this);var s="";break t}this.h.i=new wn.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fn(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,hi(12),Vi(this),Fi(this);break e}ai(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Bi(this,i)}this.U?(Pi(this,t,s),er&&this.i&&3==t&&(ni(this.V,this.W,"tick",this.fb),this.W.start())):(ai(this.j,this.m,s,null),Bi(this,s)),4==t&&Vi(this),this.i&&!this.I&&(4==t?co(this.l,this):(this.i=!1,Li(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,hi(12)):(this.o=0,hi(13)),Vi(this),Fi(this)}}}catch(t){}},gn.fb=function(){if(this.g){var e=Qa(this.g),t=this.g.ga();this.C<t.length&&(Mi(this),Pi(this,e,t),this.i&&4!=e&&Li(this))}},gn.cancel=function(){this.I=!0,Vi(this)},gn.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(li(3),hi(17)),Vi(this),this.o=2,Fi(this)):ji(this,this.Y-e)},(gn=zi.prototype).R=function(){qi(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},gn.T=function(){return qi(this),this.g.concat()},gn.get=function(e,t){return Ki(this.h,e)?this.h[e]:t},gn.set=function(e,t){Ki(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},gn.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Qi=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Wi(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Wi){this.g=void 0!==t?t:e.g,Gi(this,e.j),this.s=e.s,Yi(this,e.i),Ji(this,e.m),this.l=e.l,t=e.h;var n=new sa;n.i=t.i,t.g&&(n.g=new zi(t.g),n.h=t.h),Xi(this,n),this.o=e.o}else e&&(n=String(e).match(Qi))?(this.g=!!t,Gi(this,n[1]||"",!0),this.s=ea(n[2]||""),Yi(this,n[3]||"",!0),Ji(this,n[4]),this.l=ea(n[5]||"",!0),Xi(this,n[6]||"",!0),this.o=ea(n[7]||"")):(this.g=!!t,this.h=new sa(null,this.g))}function Hi(e){return new Wi(e)}function Gi(e,t,n){e.j=n?ea(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Yi(e,t,n){e.i=n?ea(t,!0):t}function Ji(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Xi(e,t,n){t instanceof sa?(e.h=t,function(e,t){t&&!e.j&&(ca(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(la(this,t),ha(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=ta(t,oa)),e.h=new sa(t,e.g))}function Zi(e,t,n){e.h.set(t,n)}function $i(e){return Zi(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ea(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ta(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,na),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function na(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Wi.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ta(t,ra,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ta(t,ra,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(ta(n,"/"==n.charAt(0)?aa:ia,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ta(n,ua)),e.join("")};var ra=/[#\/\?@]/g,ia=/[#\?:]/g,aa=/[#\?]/g,oa=/[#\?@]/g,ua=/#/g;function sa(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ca(e){e.g||(e.g=new zi,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function la(e,t){ca(e),t=da(e,t),Ki(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Ki((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&qi(e)))}function fa(e,t){return ca(e),t=da(e,t),Ki(e.g.h,t)}function ha(e,t,n){la(e,t),0<n.length&&(e.i=null,e.g.set(da(e,t),Mn(n)),e.h+=n.length)}function da(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(gn=sa.prototype).add=function(e,t){ca(this),this.i=null,e=da(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},gn.forEach=function(e,t){ca(this),this.g.forEach((function(n,r){Ln(n,(function(n){e.call(t,n,r,this)}),this)}),this)},gn.T=function(){ca(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},gn.R=function(e){ca(this);var t=[];if("string"===typeof e)fa(this,e)&&(t=jn(t,this.g.get(da(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=jn(t,e[n])}return t},gn.set=function(e,t){return ca(this),this.i=null,fa(this,e=da(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},gn.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},gn.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var pa=le((function e(t,n){se(this,e),this.h=t,this.g=n}));function va(e){this.l=e||ga,wn.PerformanceNavigationTiming?e=0<(e=wn.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(wn.g&&wn.g.Ea&&wn.g.Ea()&&wn.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ma,ga=10;function ya(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ba(e){return e.h?1:e.g?e.g.size:0}function ka(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function wa(e,t){e.g?e.g.add(t):e.h=t}function xa(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ea(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=fe(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Mn(e.i)}function Sa(){}function _a(){this.g=new Sa}function Ia(e,t,n){var r=n||"";try{Ui(e,(function(e,n){var i=e;Sn(e)&&(i=Fr(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Aa(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Ta(e){this.l=e.$b||null,this.j=e.ib||!1}function Na(e,t){Lr.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Ca,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}va.prototype.cancel=function(){if(this.i=Ea(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=fe(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Sa.prototype.stringify=function(e){return wn.JSON.stringify(e,void 0)},Sa.prototype.parse=function(e){return wn.JSON.parse(e,void 0)},Dn(Ta,gi),Ta.prototype.g=function(){return new Na(this.l,this.j)},Ta.prototype.i=(ma={},function(){return ma}),Dn(Na,Lr);var Ca=0;function Da(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Oa(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Pa(e)}function Pa(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(gn=Na.prototype).open=function(e,t){if(this.readyState!=Ca)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Pa(this)},gn.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||wn).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},gn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Oa(this)),this.readyState=Ca},gn.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Pa(this)),this.g&&(this.readyState=3,Pa(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof wn.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Da(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},gn.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Oa(this):Pa(this),3==this.readyState&&Da(this)}},gn.Ua=function(e){this.g&&(this.response=this.responseText=e,Oa(this))},gn.Ta=function(e){this.g&&(this.response=e,Oa(this))},gn.ha=function(){this.g&&Oa(this)},gn.setRequestHeader=function(e,t){this.v.append(e,t)},gn.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},gn.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Na.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ra=wn.JSON.parse;function La(e){Lr.call(this),this.headers=new zi,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ja,this.K=this.L=!1}Dn(La,Lr);var ja="",Ma=/^https?$/i,Fa=["POST","PUT"];function Va(e){return"content-type"==e.toLowerCase()}function Ba(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ua(e),qa(e)}function Ua(e){e.D||(e.D=!0,jr(e,"complete"),jr(e,"error"))}function za(e){if(e.h&&"undefined"!=typeof kn&&(!e.C[1]||4!=Qa(e)||2!=e.ba()))if(e.v&&4==Qa(e))Xr(e.Fa,0,e);else if(jr(e,"readystatechange"),4==Qa(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Qi)[1]||null;if(!a&&wn.self&&wn.self.location){var o=wn.self.location.protocol;a=o.substr(0,o.length-1)}i=!Ma.test(a?a.toLowerCase():"")}t=i}if(t)jr(e,"complete"),jr(e,"success");else{e.m=6;try{var u=2<Qa(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Ua(e)}}finally{qa(e)}}}function qa(e,t){if(e.g){Ka(e);var n=e.g,r=e.C[0]?xn:null;e.g=null,e.C=null,t||jr(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Ka(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(wn.clearTimeout(e.A),e.A=null)}function Qa(e){return e.g?e.g.readyState:0}function Wa(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case ja:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ha(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Qn(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Zi(e,t,n))}function Ga(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ya(e){this.za=0,this.l=[],this.h=new ii,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ga("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ga("baseRetryDelayMs",5e3,e),this.$a=Ga("retryDelaySeedMs",1e4,e),this.Ya=Ga("forwardChannelMaxRetries",2,e),this.ra=Ga("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new va(e&&e.concurrentRequestLimit),this.Ca=new _a,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Ja(e){if(Za(e),3==e.G){var t=e.V++,n=Hi(e.F);Zi(n,"SID",e.J),Zi(n,"RID",t),Zi(n,"TYPE","terminate"),no(e,n),(t=new _i(e,e.h,t,void 0)).K=2,t.v=$i(Hi(n)),n=!1,wn.navigator&&wn.navigator.sendBeacon&&(n=wn.navigator.sendBeacon(t.v.toString(),"")),!n&&wn.Image&&((new Image).src=t.v,n=!0),n||(t.g=vo(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Li(t)}ho(e)}function Xa(e){e.g&&(oo(e),e.g.cancel(),e.g=null)}function Za(e){Xa(e),e.u&&(wn.clearTimeout(e.u),e.u=null),so(e),e.i.cancel(),e.m&&("number"===typeof e.m&&wn.clearTimeout(e.m),e.m=null)}function $a(e,t){e.l.push(new pa(e.Za++,t)),3==e.G&&eo(e)}function eo(e){ya(e.i)||e.m||(e.m=!0,Qr(e.Ha,e),e.C=0)}function to(e,t){var n;n=t?t.m:e.V++;var r=Hi(e.F);Zi(r,"SID",e.J),Zi(r,"RID",n),Zi(r,"AID",e.U),no(e,r),e.o&&e.s&&Ha(r,e.o,e.s),n=new _i(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=ro(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),wa(e.i,n),Ci(n,r,t)}function no(e,t){e.j&&Ui({},(function(e,n){Zi(t,n,e)}))}function ro(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Nn(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Ia(l,o,"req"+c+"_")}catch(qo){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function io(e){e.g||e.u||(e.Y=1,Qr(e.Ga,e),e.A=0)}function ao(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=pi(Nn(e.Ga,e),lo(e,e.A)),e.A++,!0)}function oo(e){null!=e.B&&(wn.clearTimeout(e.B),e.B=null)}function uo(e){e.g=new _i(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Hi(e.oa);Zi(t,"RID","rpc"),Zi(t,"SID",e.J),Zi(t,"CI",e.N?"0":"1"),Zi(t,"AID",e.U),no(e,t),Zi(t,"TYPE","xmlhttp"),e.o&&e.s&&Ha(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=$i(Hi(t)),n.s=null,n.U=!0,Di(n,e)}function so(e){null!=e.v&&(wn.clearTimeout(e.v),e.v=null)}function co(e,t){var n=null;if(e.g==t){so(e),oo(e),e.g=null;var r=2}else{if(!ka(e.i,t))return;n=t.D,xa(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;jr(r=si(),new di(r,n,t,i)),eo(e)}else io(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(ba(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=pi(Nn(e.Ha,e,t),lo(e,e.C)),e.C++,!0))}(e,t)||2==r&&ao(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:fo(e,5);break;case 4:fo(e,10);break;case 3:fo(e,6);break;default:fo(e,2)}}function lo(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function fo(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Nn(e.jb,e);n||(n=new Wi("//www.google.com/images/cleardot.gif"),wn.location&&"http"==wn.location.protocol||Gi(n,"https"),$i(n)),function(e,t){var n=new ii;if(wn.Image){var r=new Image;r.onload=Cn(Aa,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Cn(Aa,n,r,"TestLoadImage: error",!1,t),r.onabort=Cn(Aa,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Cn(Aa,n,r,"TestLoadImage: timeout",!1,t),wn.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else hi(2);e.G=0,e.j&&e.j.va(t),ho(e),Za(e)}function ho(e){e.G=0,e.I=-1,e.j&&(0==Ea(e.i).length&&0==e.l.length||(e.i.i.length=0,Mn(e.l),e.l.length=0),e.j.ua())}function po(e,t,n){var r=function(e){return e instanceof Wi?Hi(e):new Wi(e,void 0)}(n);if(""!=r.i)t&&Yi(r,t+"."+r.i),Ji(r,r.m);else{var i=wn.location;r=function(e,t,n,r){var i=new Wi(null,void 0);return e&&Gi(i,e),t&&Yi(i,t),n&&Ji(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Qn(e.aa,(function(e,t){Zi(r,t,e)})),t=e.D,n=e.sa,t&&n&&Zi(r,t,n),Zi(r,"VER",e.ma),no(e,r),r}function vo(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new La(new Ta({ib:!0})):new La(e.qa)).L=e.H,t}function mo(){}function go(){if(Zn&&!(10<=Number(fr)))throw Error("Environmental error: no available transport.")}function yo(e,t){Lr.call(this),this.g=new Ya(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Fn(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Fn(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new wo(this)}function bo(e){xi.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ko(){Ei.call(this),this.status=1}function wo(e){this.g=e}(gn=La.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ki.g(),this.C=this.u?yi(this.u):yi(ki),this.g.onreadystatechange=Nn(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Ba(this,a)}e=n||"";var i=new zi(this.headers);r&&Ui(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Va,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=wn.FormData&&e instanceof wn.FormData,!(0<=Rn(Fa,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ka(this),0<this.B&&((this.K=function(e){return Zn&&cr()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Nn(this.pa,this)):this.A=Xr(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Ba(this,a)}},gn.pa=function(){"undefined"!=typeof kn&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jr(this,"timeout"),this.abort(8))},gn.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,jr(this,"complete"),jr(this,"abort"),qa(this))},gn.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qa(this,!0)),La.Z.M.call(this)},gn.Fa=function(){this.s||(this.F||this.v||this.l?za(this):this.cb())},gn.cb=function(){za(this)},gn.ba=function(){try{return 2<Qa(this)?this.g.status:-1}catch(ma){return-1}},gn.ga=function(){try{return this.g?this.g.responseText:""}catch(ma){return""}},gn.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ra(t)}},gn.Da=function(){return this.m},gn.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(gn=Ya.prototype).ma=8,gn.G=1,gn.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},gn.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new _i(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Gn(n=Wn(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=ro(this,t,r),Zi(i=Hi(this.F),"RID",e),Zi(i,"CVER",22),this.D&&Zi(i,"X-HTTP-Session-Id",this.D),no(this,i),this.o&&n&&Ha(i,this.o,n),wa(this.i,t),this.Ra&&Zi(i,"TYPE","init"),this.ja?(Zi(i,"$req",r),Zi(i,"SID","null"),t.$=!0,Ci(t,i,null)):Ci(t,i,r),this.G=2}}else 3==this.G&&(e?to(this,e):0==this.l.length||ya(this.i)||to(this))},gn.Ga=function(){if(this.u=null,uo(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=pi(Nn(this.bb,this),e)}},gn.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,hi(10),Xa(this),uo(this))},gn.ab=function(){null!=this.v&&(this.v=null,Xa(this),ao(this),hi(19))},gn.jb=function(e){e?(this.h.info("Successfully pinged google.com"),hi(2)):(this.h.info("Failed to ping google.com"),hi(1))},(gn=mo.prototype).xa=function(){},gn.wa=function(){},gn.va=function(){},gn.ua=function(){},gn.Oa=function(){},go.prototype.g=function(e,t){return new yo(e,t)},Dn(yo,Lr),yo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Qr(Nn(e.hb,e,t))),hi(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=po(e,null,e.W),eo(e)},yo.prototype.close=function(){Ja(this.g)},yo.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,$a(this.g,t)}else this.v?((t={}).__data__=Fr(e),$a(this.g,t)):$a(this.g,e)},yo.prototype.M=function(){this.g.j=null,delete this.j,Ja(this.g),delete this.g,yo.Z.M.call(this)},Dn(bo,xi),Dn(ko,Ei),Dn(wo,mo),wo.prototype.xa=function(){jr(this.g,"a")},wo.prototype.wa=function(e){jr(this.g,new bo(e))},wo.prototype.va=function(e){jr(this.g,new ko(e))},wo.prototype.ua=function(){jr(this.g,"b")},go.prototype.createWebChannel=go.prototype.g,yo.prototype.send=yo.prototype.u,yo.prototype.open=yo.prototype.m,yo.prototype.close=yo.prototype.close,vi.NO_ERROR=0,vi.TIMEOUT=8,vi.HTTP_ERROR=6,mi.COMPLETE="complete",bi.EventType=wi,wi.OPEN="a",wi.CLOSE="b",wi.ERROR="c",wi.MESSAGE="d",Lr.prototype.listen=Lr.prototype.N,La.prototype.listenOnce=La.prototype.O,La.prototype.getLastError=La.prototype.La,La.prototype.getLastErrorCode=La.prototype.Da,La.prototype.getStatus=La.prototype.ba,La.prototype.getResponseJson=La.prototype.Qa,La.prototype.getResponseText=La.prototype.ga,La.prototype.send=La.prototype.ea;var xo=bn.createWebChannelTransport=function(){return new go},Eo=bn.getStatEventTarget=function(){return si()},So=bn.ErrorCode=vi,_o=bn.EventType=mi,Io=bn.Event=oi,Ao=bn.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},To=bn.FetchXmlHttpFactory=Ta,No=bn.WebChannel=bi,Co=bn.XhrIo=La,Do="@firebase/firestore",Oo=function(){function e(t){se(this,e),this.uid=t}return le(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Oo.UNAUTHENTICATED=new Oo(null),Oo.GOOGLE_CREDENTIALS=new Oo("google-credentials-uid"),Oo.FIRST_PARTY=new Oo("first-party-uid"),Oo.MOCK_USER=new Oo("mock-user");var Po="9.8.3",Ro=new $e("@firebase/firestore");function Lo(){return Ro.logLevel}function jo(e){if(Ro.logLevel<=We.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Vo);Ro.debug.apply(Ro,["Firestore (".concat(Po,"): ").concat(e)].concat(Ue(i)))}}function Mo(e){if(Ro.logLevel<=We.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Vo);Ro.error.apply(Ro,["Firestore (".concat(Po,"): ").concat(e)].concat(Ue(i)))}}function Fo(e){if(Ro.logLevel<=We.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Vo);Ro.warn.apply(Ro,["Firestore (".concat(Po,"): ").concat(e)].concat(Ue(i)))}}function Vo(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Bo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Po,") INTERNAL ASSERTION FAILED: ")+e;throw Mo(t),new Error(t)}function Uo(e,t){e||Bo()}function zo(e,t){return e}var qo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ko=function(e){pe(n,e);var t=ye(n);function n(e,r){var i;return se(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return le(n)}(Ce),Qo=le((function e(){var t=this;se(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Wo=le((function e(t,n){se(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Ho=function(){function e(){se(this,e)}return le(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Oo.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Go=function(){function e(t){se(this,e),this.token=t,this.changeListener=null}return le(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Yo=function(){function e(t){se(this,e),this.t=t,this.currentUser=Oo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return le(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Qo;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Qo,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(oe(ie().mark((function e(){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){jo("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(jo("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Qo)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(jo("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Uo("string"==typeof n.accessToken),new Wo(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Uo(null===e||"string"==typeof e),new Oo(e)}}]),e}(),Jo=le((function e(t,n,r){se(this,e),this.type="FirstParty",this.user=Oo.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Xo=function(){function e(t,n,r){se(this,e),this.h=t,this.l=n,this.m=r}return le(e,[{key:"getToken",value:function(){return Promise.resolve(new Jo(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Oo.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Zo=le((function e(t){se(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),$o=function(){function e(t){se(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return le(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&jo("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,jo("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){jo("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):jo("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Uo("string"==typeof t.token),e.p=t.token,new Zo(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function eu(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var tu=function(){function e(){se(this,e)}return le(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=eu(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function nu(e,t){return e<t?-1:e>t?1:0}function ru(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function iu(e){return e+"\0"}var au=function(){function e(t,n){if(se(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Ko(qo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ko(qo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Ko(qo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ko(qo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return le(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?nu(this.nanoseconds,e.nanoseconds):nu(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),ou=function(){function e(t){se(this,e),this.timestamp=t}return le(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new au(0,0))}},{key:"max",value:function(){return new e(new au(253402300799,999999999))}}]),e}(),uu=function(){function e(t,n,r){se(this,e),void 0===n?n=0:n>t.length&&Bo(),void 0===r?r=t.length-n:r>t.length-n&&Bo(),this.segments=t,this.offset=n,this.len=r}return le(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),su=function(e){pe(n,e);var t=ye(n);function n(){return se(this,n),t.apply(this,arguments)}return le(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Ko(qo.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Ue(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(uu),cu=/^[_a-zA-Z][_a-zA-Z0-9]*$/,lu=function(e){pe(n,e);var t=ye(n);function n(){return se(this,n),t.apply(this,arguments)}return le(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return cu.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Ko(qo.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Ko(qo.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Ko(qo.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Ko(qo.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(uu),fu=function(){function e(t){se(this,e),this.path=t}return le(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===su.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(su.fromString(t))}},{key:"fromName",value:function(t){return new e(su.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(su.emptyPath())}},{key:"comparator",value:function(e,t){return su.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new su(t.slice()))}}]),e}(),hu=le((function e(t,n,r,i){se(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function du(e){return e.fields.find((function(e){return 2===e.kind}))}function pu(e){return e.fields.filter((function(e){return 2!==e.kind}))}hu.UNKNOWN_ID=-1;var vu=le((function e(t,n){se(this,e),this.fieldPath=t,this.kind=n})),mu=function(){function e(t,n){se(this,e),this.sequenceNumber=t,this.offset=n}return le(e,null,[{key:"empty",value:function(){return new e(0,bu.min())}}]),e}();function gu(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ou.fromTimestamp(1e9===r?new au(n+1,0):new au(n,r));return new bu(i,fu.empty(),t)}function yu(e){return new bu(e.readTime,e.key,-1)}var bu=function(){function e(t,n,r){se(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return le(e,null,[{key:"min",value:function(){return new e(ou.min(),fu.empty(),-1)}},{key:"max",value:function(){return new e(ou.max(),fu.empty(),-1)}}]),e}();function ku(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=fu.comparator(e.documentKey,t.documentKey))?n:nu(e.largestBatchId,t.largestBatchId)}var wu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",xu=function(){function e(){se(this,e),this.onCommittedListeners=[]}return le(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Eu(e){return Su.apply(this,arguments)}function Su(){return Su=oe(ie().mark((function e(t){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===qo.FAILED_PRECONDITION&&t.message===wu){e.next=2;break}throw t;case 2:jo("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Su.apply(this,arguments)}var _u=function(){function e(t){var n=this;se(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return le(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Bo(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=fe(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Iu=function(){function e(t,n){var r=this;se(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.T=new Qo,this.transaction.oncomplete=function(){r.T.resolve()},this.transaction.onabort=function(){n.error?r.T.reject(new Nu(t,n.error)):r.T.resolve()},this.transaction.onerror=function(e){var n=Ru(e.target.error);r.T.reject(new Nu(t,n))}}return le(e,[{key:"A",get:function(){return this.T.promise}},{key:"abort",value:function(e){e&&this.T.reject(e),this.aborted||(jo("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"R",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Du(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Nu(n,t)}}}]),e}(),Au=function(){function e(t,n,r){se(this,e),this.name=t,this.version=n,this.P=r,12.2===e.v(Ae())&&Mo("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return le(e,[{key:"k",value:function(){var e=oe(ie().mark((function e(t){var n=this;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return jo("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Nu(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Ko(qo.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Ko(qo.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Nu(t,n))},i.onupgradeneeded=function(e){jo("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.P.O(t,i.transaction,e.oldVersion,n.version).next((function(){jo("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.M&&(this.db.onversionchange=function(e){return n.M(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"F",value:function(e){this.M=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=oe(ie().mark((function e(t,n,r,i){var a,o,u,s,c=this;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(ie().mark((function e(){var n,o;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.k(t);case 2:return c.db=e.sent,n=Iu.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.R(),e})).catch((function(e){return n.abort(e),_u.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.A;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,jo("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return jo("SimpleDb","Removing database:",e),Ou(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"V",value:function(){if(!Ne())return!1;if(e.S())return!0;var t=Ae(),n=e.v(t),r=0<n&&n<10,i=e.D(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"S",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/genshindb",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CURRENT_BANNER:"banner2",REACT_APP_FIREBASE_API_KEY:"AIzaSyBT6h1QAB_00CAW8hlqVsqUWwlTpMZq6u8",REACT_APP_FIREBASE_APP_ID:"1:739797027577:web:9e2426e4398ac0b8af3028",REACT_APP_FIREBASE_AUTH_DOMAIN:"project1-82261.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-7KZ29QF8DF",REACT_APP_FIREBASE_MESSAGE_SENDER_ID:"739797027577",REACT_APP_FIREBASE_PROJECT_ID:"project1-82261",REACT_APP_FIREBASE_STORAGE_BUCKET:"project1-82261.appspot.com"})||void 0===e?void 0:e.C)}},{key:"N",value:function(e,t){return e.store(t)}},{key:"v",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"D",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Tu=function(){function e(t){se(this,e),this.$=t,this.B=!1,this.L=null}return le(e,[{key:"isDone",get:function(){return this.B}},{key:"U",get:function(){return this.L}},{key:"cursor",set:function(e){this.$=e}},{key:"done",value:function(){this.B=!0}},{key:"q",value:function(e){this.L=e}},{key:"delete",value:function(){return Ou(this.$.delete())}}]),e}(),Nu=function(e){pe(n,e);var t=ye(n);function n(e,r){var i;return se(this,n),(i=t.call(this,qo.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return le(n)}(Ko);function Cu(e){return"IndexedDbTransactionError"===e.name}var Du=function(){function e(t){se(this,e),this.store=t}return le(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(jo("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(jo("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Ou(n)}},{key:"add",value:function(e){return jo("SimpleDb","ADD",this.store.name,e,e),Ou(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Ou(this.store.get(e)).next((function(n){return void 0===n&&(n=null),jo("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return jo("SimpleDb","DELETE",this.store.name,e),Ou(this.store.delete(e))}},{key:"count",value:function(){return jo("SimpleDb","COUNT",this.store.name),Ou(this.store.count())}},{key:"K",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.G(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new _u((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new _u((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"W",value:function(e,t){jo("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.H=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n.delete()}))}},{key:"J",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Y",value:function(e){var t=this.cursor({});return new _u((function(n,r){t.onerror=function(e){var t=Ru(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new _u((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Tu(i),o=t(i.primaryKey,i.value,a);if(o instanceof _u){var u=o.catch((function(e){return a.done(),_u.reject(e)}));n.push(u)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return _u.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Ou(e){return new _u((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Ru(e.target.error);n(t)}}))}var Pu=!1;function Ru(e){var t=Au.v(Ae());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Ko("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Pu||(Pu=!0,setTimeout((function(){throw r}),0)),r}}return e}var Lu=function(){function e(t,n){se(this,e),this.asyncQueue=t,this.X=n,this.task=null}return le(e,[{key:"start",value:function(){}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"Z",value:function(e){var t=this;jo("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,oe(ie().mark((function e(){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=jo,e.t1="Documents written: ",e.next=6,t.X.tt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Cu(e.t4)){e.next=17;break}jo("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Eu(e.t4);case 19:return e.next=21,t.Z(1);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),ju=function(){function e(t,n){se(this,e),this.localStore=t,this.persistence=n}return le(e,[{key:"tt",value:function(){var e=oe(ie().mark((function e(){var t,n=this,r=arguments;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.et(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"et",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return _u.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return jo("IndexBackiller","Processing collection: ".concat(t)),n.nt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"nt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.st(i,n)})).next((function(n){return jo("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"st",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=yu(t);ku(r,n)>0&&(n=r)})),new bu(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Mu=function(){function e(t,n){var r=this;se(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.it(e)},this.rt=function(e){return n.writeSequenceNumber(e)})}return le(e,[{key:"it",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.rt&&this.rt(e),e}}]),e}();function Fu(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Vu(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Bu(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}Mu.ot=-1;var Uu=function(){function e(t,n){se(this,e),this.comparator=t,this.root=n||qu.EMPTY}return le(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,qu.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qu.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new zu(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new zu(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new zu(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new zu(this.root,e,this.comparator,!0)}}]),e}(),zu=function(){function e(t,n,r,i){se(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return le(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),qu=function(){function e(t,n,r,i,a){se(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return le(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Bo();if(this.right.isRed())throw Bo();var e=this.left.check();if(e!==this.right.check())throw Bo();return e+(this.isRed()?0:1)}}]),e}();qu.EMPTY=null,qu.RED=!0,qu.BLACK=!1,qu.EMPTY=new(function(){function e(){se(this,e),this.size=0}return le(e,[{key:"key",get:function(){throw Bo()}},{key:"value",get:function(){throw Bo()}},{key:"color",get:function(){throw Bo()}},{key:"left",get:function(){throw Bo()}},{key:"right",get:function(){throw Bo()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new qu(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Ku=function(){function e(t){se(this,e),this.comparator=t,this.data=new Uu(this.comparator)}return le(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Qu(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Qu(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Qu=function(){function e(t){se(this,e),this.iter=t}return le(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Wu(e){return e.hasNext()?e.getNext():void 0}var Hu=function(){function e(t){se(this,e),this.fields=t,t.sort(lu.comparator)}return le(e,[{key:"unionWith",value:function(t){var n,r=new Ku(lu.comparator),i=fe(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=fe(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=fe(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return ru(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var Gu=function(e){function t(e){se(this,t),this.binaryString=e}return le(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return nu(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Gu.EMPTY_BYTE_STRING=new Gu("");var Yu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ju(e){if(Uo(!!e),"string"==typeof e){var t=0,n=Yu.exec(e);if(Uo(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Xu(e.seconds),nanos:Xu(e.nanos)}}function Xu(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Zu(e){return"string"==typeof e?Gu.fromBase64String(e):Gu.fromUint8Array(e)}function $u(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function es(e){var t=e.mapValue.fields.__previous_value__;return $u(t)?es(t):t}function ts(e){var t=Ju(e.mapValue.fields.__local_write_time__.timestampValue);return new au(t.seconds,t.nanos)}var ns=le((function e(t,n,r,i,a,o,u,s){se(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),rs=function(){function e(t,n){se(this,e),this.projectId=t,this.database=n||"(default)"}return le(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function is(e){return null==e}function as(e){return 0===e&&1/e==-1/0}function os(e){return"number"==typeof e&&Number.isInteger(e)&&!as(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var us={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ss={nullValue:"NULL_VALUE"};function cs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?$u(e)?4:Es(e)?9007199254740991:10:Bo()}function ls(e,t){if(e===t)return!0;var n=cs(e);if(n!==cs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ts(e).isEqual(ts(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Ju(e.timestampValue),r=Ju(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Zu(e.bytesValue).isEqual(Zu(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Xu(e.geoPointValue.latitude)===Xu(t.geoPointValue.latitude)&&Xu(e.geoPointValue.longitude)===Xu(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Xu(e.integerValue)===Xu(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Xu(e.doubleValue),r=Xu(t.doubleValue);return n===r?as(n)===as(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ru(e.arrayValue.values||[],t.arrayValue.values||[],ls);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Fu(n)!==Fu(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ls(n[i],r[i])))return!1;return!0}(e,t);default:return Bo()}}function fs(e,t){return void 0!==(e.values||[]).find((function(e){return ls(e,t)}))}function hs(e,t){if(e===t)return 0;var n=cs(e),r=cs(t);if(n!==r)return nu(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return nu(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Xu(e.integerValue||e.doubleValue),r=Xu(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ds(e.timestampValue,t.timestampValue);case 4:return ds(ts(e),ts(t));case 5:return nu(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Zu(e),r=Zu(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=nu(n[i],r[i]);if(0!==a)return a}return nu(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=nu(Xu(e.latitude),Xu(t.latitude));return 0!==n?n:nu(Xu(e.longitude),Xu(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=hs(n[i],r[i]);if(a)return a}return nu(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===us.mapValue&&t===us.mapValue)return 0;if(e===us.mapValue)return 1;if(t===us.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=nu(r[o],a[o]);if(0!==u)return u;var s=hs(n[r[o]],i[a[o]]);if(0!==s)return s}return nu(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Bo()}}function ds(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return nu(e,t);var n=Ju(e),r=Ju(t),i=nu(n.seconds,r.seconds);return 0!==i?i:nu(n.nanos,r.nanos)}function ps(e){return vs(e)}function vs(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Ju(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Zu(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,fu.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=fe(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=vs(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=fe(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(vs(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Bo();var t,n}function ms(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function gs(e){return!!e&&"integerValue"in e}function ys(e){return!!e&&"arrayValue"in e}function bs(e){return!!e&&"nullValue"in e}function ks(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ws(e){return!!e&&"mapValue"in e}function xs(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Vu(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=xs(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=xs(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Es(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ss(e){return"nullValue"in e?ss:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?ms(rs.empty(),fu.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Bo()}function _s(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?ms(rs.empty(),fu.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?us:Bo()}function Is(e,t){var n=hs(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function As(e,t){var n=hs(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Ts=function(){function e(t){se(this,e),this.value=t}return le(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!ws(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xs(t)}},{key:"setAll",value:function(e){var t=this,n=lu.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=xs(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());ws(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return ls(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];ws(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Vu(t,(function(t,n){return e[t]=n}));var r,i=fe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(xs(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Ns(e){var t=[];return Vu(e.fields,(function(e,n){var r=new lu([e]);if(ws(n)){var i=Ns(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=fe(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Hu(t)}var Cs=function(){function e(t,n,r,i,a,o){se(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return le(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Ts.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Ts.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=ou.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,ou.min(),ou.min(),Ts.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,ou.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,ou.min(),Ts.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,ou.min(),Ts.empty(),2)}}]),e}(),Ds=le((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;se(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ut=null}));function Os(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Ds(e,t,n,r,i,a,o)}function Ps(e){var t=zo(e);if(null===t.ut){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+ps(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),is(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return ps(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return ps(e)})).join(",")),t.ut=n}return t.ut}function Rs(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Js(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!ls(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Zs(e.startAt,t.startAt)&&Zs(e.endAt,t.endAt)}function Ls(e){return fu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function js(e,t){return e.filters.filter((function(e){return e instanceof Vs&&e.field.isEqual(t)}))}function Ms(e,t,n){var r,i=ss,a=!0,o=fe(js(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=ss,c=!0;switch(u.op){case"<":case"<=":s=Ss(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=ss}Is({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Is({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Fs(e,t,n){var r,i=us,a=!0,o=fe(js(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=us,c=!0;switch(u.op){case">=":case">":s=_s(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=us}As({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];As({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Vs=function(e){pe(n,e);var t=ye(n);function n(e,r,i){var a;return se(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return le(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(hs(t,this.value)):null!==t&&cs(this.value)===cs(t)&&this.at(hs(t,this.value))}},{key:"at",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Bo()}}},{key:"ht",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new Bs(e,t,r):"array-contains"===t?new Ks(e,r):"in"===t?new Qs(e,r):"not-in"===t?new Ws(e,r):"array-contains-any"===t?new Hs(e,r):new n(e,t,r)}},{key:"ct",value:function(e,t,n){return"in"===t?new Us(e,n):new zs(e,n)}}]),n}(function(){return le((function e(){se(this,e)}))}()),Bs=function(e){pe(n,e);var t=ye(n);function n(e,r,i){var a;return se(this,n),(a=t.call(this,e,r,i)).key=fu.fromName(i.referenceValue),a}return le(n,[{key:"matches",value:function(e){var t=fu.comparator(e.key,this.key);return this.at(t)}}]),n}(Vs),Us=function(e){pe(n,e);var t=ye(n);function n(e,r){var i;return se(this,n),(i=t.call(this,e,"in",r)).keys=qs("in",r),i}return le(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Vs),zs=function(e){pe(n,e);var t=ye(n);function n(e,r){var i;return se(this,n),(i=t.call(this,e,"not-in",r)).keys=qs("not-in",r),i}return le(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Vs);function qs(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return fu.fromName(e.referenceValue)}))}var Ks=function(e){pe(n,e);var t=ye(n);function n(e,r){return se(this,n),t.call(this,e,"array-contains",r)}return le(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return ys(t)&&fs(t.arrayValue,this.value)}}]),n}(Vs),Qs=function(e){pe(n,e);var t=ye(n);function n(e,r){return se(this,n),t.call(this,e,"in",r)}return le(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&fs(this.value.arrayValue,t)}}]),n}(Vs),Ws=function(e){pe(n,e);var t=ye(n);function n(e,r){return se(this,n),t.call(this,e,"not-in",r)}return le(n,[{key:"matches",value:function(e){if(fs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!fs(this.value.arrayValue,t)}}]),n}(Vs),Hs=function(e){pe(n,e);var t=ye(n);function n(e,r){return se(this,n),t.call(this,e,"array-contains-any",r)}return le(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!ys(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return fs(t.value.arrayValue,e)}))}}]),n}(Vs),Gs=le((function e(t,n){se(this,e),this.position=t,this.inclusive=n})),Ys=le((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";se(this,e),this.field=t,this.dir=n}));function Js(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Xs(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?fu.comparator(fu.fromName(o.referenceValue),n.key):hs(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Zs(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ls(e.position[n],t.position[n]))return!1;return!0}var $s=le((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;se(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.lt=null,this.ft=null,this.startAt,this.endAt}));function ec(e,t,n,r,i,a,o,u){return new $s(e,t,n,r,i,a,o,u)}function tc(e){return new $s(e)}function nc(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function rc(e){var t,n=fe(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.ht())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function ic(e){return null!==e.collectionGroup}function ac(e){var t=zo(e);if(null===t.lt){t.lt=[];var n=rc(t),r=nc(t);if(null!==n&&null===r)n.isKeyField()||t.lt.push(new Ys(n)),t.lt.push(new Ys(lu.keyField(),"asc"));else{var i,a=!1,o=fe(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.lt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new Ys(lu.keyField(),s))}}}return t.lt}function oc(e){var t=zo(e);if(!t.ft)if("F"===t.limitType)t.ft=Os(t.path,t.collectionGroup,ac(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=fe(ac(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Ys(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Gs(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Gs(t.startAt.position,t.startAt.inclusive):null;t.ft=Os(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.ft}function uc(e,t,n){return new $s(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function sc(e,t){return Rs(oc(e),oc(t))&&e.limitType===t.limitType}function cc(e){return"".concat(Ps(oc(e)),"|lt:").concat(e.limitType)}function lc(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(ps(t.value));var t})).join(", "),"]")),is(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return ps(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return ps(e)})).join(",")),"Target(".concat(t,")")}(oc(e)),"; limitType=").concat(e.limitType,")")}function fc(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):fu.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=fe(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=fe(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Xs(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,ac(e),t))&&!(e.endAt&&!function(e,t,n){var r=Xs(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,ac(e),t))}(e,t)}function hc(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function dc(e){return function(t,n){var r,i=!1,a=fe(ac(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=pc(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function pc(e,t,n){var r=e.field.isKeyField()?fu.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?hs(r,i):Bo()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Bo()}}function vc(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:as(t)?"-0":t}}function mc(e){return{integerValue:""+e}}function gc(e,t){return os(t)?mc(t):vc(e,t)}var yc=le((function e(){se(this,e),this._=void 0}));function bc(e,t,n){return e instanceof xc?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ec?Sc(e,t):e instanceof _c?Ic(e,t):function(e,t){var n=wc(e,t),r=Tc(n)+Tc(e._t);return gs(n)&&gs(e._t)?mc(r):vc(e.wt,r)}(e,t)}function kc(e,t,n){return e instanceof Ec?Sc(e,t):e instanceof _c?Ic(e,t):n}function wc(e,t){return e instanceof Ac?gs(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var xc=function(e){pe(n,e);var t=ye(n);function n(){return se(this,n),t.apply(this,arguments)}return le(n)}(yc),Ec=function(e){pe(n,e);var t=ye(n);function n(e){var r;return se(this,n),(r=t.call(this)).elements=e,r}return le(n)}(yc);function Sc(e,t){var n,r=Nc(t),i=fe(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return ls(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var _c=function(e){pe(n,e);var t=ye(n);function n(e){var r;return se(this,n),(r=t.call(this)).elements=e,r}return le(n)}(yc);function Ic(e,t){var n,r=Nc(t),i=fe(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!ls(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Ac=function(e){pe(n,e);var t=ye(n);function n(e,r){var i;return se(this,n),(i=t.call(this)).wt=e,i._t=r,i}return le(n)}(yc);function Tc(e){return Xu(e.integerValue||e.doubleValue)}function Nc(e){return ys(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Cc=le((function e(t,n){se(this,e),this.field=t,this.transform=n}));var Dc=le((function e(t,n){se(this,e),this.version=t,this.transformResults=n})),Oc=function(){function e(t,n){se(this,e),this.updateTime=t,this.exists=n}return le(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Pc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Rc=le((function e(){se(this,e)}));function Lc(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Hc(e.key,Oc.none()):new Bc(e.key,e.data,Oc.none());var n,r=e.data,i=Ts.empty(),a=new Ku(lu.comparator),o=fe(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Uc(e.key,i,new Hu(a.toArray()),Oc.none())}function jc(e,t,n){e instanceof Bc?function(e,t,n){var r=e.value.clone(),i=qc(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Uc?function(e,t,n){if(Pc(e.precondition,t)){var r=qc(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(zc(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Mc(e,t,n,r){return e instanceof Bc?function(e,t,n,r){if(!Pc(e.precondition,t))return n;var i=e.value.clone(),a=Kc(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Uc?function(e,t,n,r){if(!Pc(e.precondition,t))return n;var i=Kc(e.fieldTransforms,r,t),a=t.data;return a.setAll(zc(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Pc(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Fc(e,t){var n,r=null,i=fe(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=wc(a.transform,o||null);null!=u&&(null===r&&(r=Ts.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Vc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ru(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ec&&t instanceof Ec||e instanceof _c&&t instanceof _c?ru(e.elements,t.elements,ls):e instanceof Ac&&t instanceof Ac?ls(e._t,t._t):e instanceof xc&&t instanceof xc}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Bc=function(e){pe(n,e);var t=ye(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return se(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return le(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Rc),Uc=function(e){pe(n,e);var t=ye(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return se(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return le(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Rc);function zc(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function qc(e,t,n){var r=new Map;Uo(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,kc(o,u,n[i]))}return r}function Kc(e,t,n){var r,i=new Map,a=fe(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,bc(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Qc,Wc,Hc=function(e){pe(n,e);var t=ye(n);function n(e,r){var i;return se(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return le(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Rc),Gc=function(e){pe(n,e);var t=ye(n);function n(e,r){var i;return se(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return le(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Rc),Yc=le((function e(t){se(this,e),this.count=t}));function Jc(e){switch(e){default:return Bo();case qo.CANCELLED:case qo.UNKNOWN:case qo.DEADLINE_EXCEEDED:case qo.RESOURCE_EXHAUSTED:case qo.INTERNAL:case qo.UNAVAILABLE:case qo.UNAUTHENTICATED:return!1;case qo.INVALID_ARGUMENT:case qo.NOT_FOUND:case qo.ALREADY_EXISTS:case qo.PERMISSION_DENIED:case qo.FAILED_PRECONDITION:case qo.ABORTED:case qo.OUT_OF_RANGE:case qo.UNIMPLEMENTED:case qo.DATA_LOSS:return!0}}function Xc(e){if(void 0===e)return Mo("GRPC error has no .code"),qo.UNKNOWN;switch(e){case Qc.OK:return qo.OK;case Qc.CANCELLED:return qo.CANCELLED;case Qc.UNKNOWN:return qo.UNKNOWN;case Qc.DEADLINE_EXCEEDED:return qo.DEADLINE_EXCEEDED;case Qc.RESOURCE_EXHAUSTED:return qo.RESOURCE_EXHAUSTED;case Qc.INTERNAL:return qo.INTERNAL;case Qc.UNAVAILABLE:return qo.UNAVAILABLE;case Qc.UNAUTHENTICATED:return qo.UNAUTHENTICATED;case Qc.INVALID_ARGUMENT:return qo.INVALID_ARGUMENT;case Qc.NOT_FOUND:return qo.NOT_FOUND;case Qc.ALREADY_EXISTS:return qo.ALREADY_EXISTS;case Qc.PERMISSION_DENIED:return qo.PERMISSION_DENIED;case Qc.FAILED_PRECONDITION:return qo.FAILED_PRECONDITION;case Qc.ABORTED:return qo.ABORTED;case Qc.OUT_OF_RANGE:return qo.OUT_OF_RANGE;case Qc.UNIMPLEMENTED:return qo.UNIMPLEMENTED;case Qc.DATA_LOSS:return qo.DATA_LOSS;default:return Bo()}}(Wc=Qc||(Qc={}))[Wc.OK=0]="OK",Wc[Wc.CANCELLED=1]="CANCELLED",Wc[Wc.UNKNOWN=2]="UNKNOWN",Wc[Wc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wc[Wc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wc[Wc.NOT_FOUND=5]="NOT_FOUND",Wc[Wc.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wc[Wc.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wc[Wc.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wc[Wc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wc[Wc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wc[Wc.ABORTED=10]="ABORTED",Wc[Wc.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wc[Wc.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wc[Wc.INTERNAL=13]="INTERNAL",Wc[Wc.UNAVAILABLE=14]="UNAVAILABLE",Wc[Wc.DATA_LOSS=15]="DATA_LOSS";var Zc=function(){function e(t,n){se(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return le(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=fe(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Vu(this.inner,(function(t,n){var r,i=fe(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Bu(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),$c=new Uu(fu.comparator);function el(){return $c}var tl=new Uu(fu.comparator);function nl(){for(var e=tl,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function rl(e){var t=tl;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function il(){return ol()}function al(){return ol()}function ol(){return new Zc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var ul=new Uu(fu.comparator),sl=new Ku(fu.comparator);function cl(){for(var e=sl,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var ll=new Ku(nu);function fl(){return ll}var hl=function(){function e(t,n,r,i,a){se(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return le(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,dl.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ou.min(),r,fl(),el(),cl())}}]),e}(),dl=function(){function e(t,n,r,i,a){se(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return le(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Gu.EMPTY_BYTE_STRING,n,cl(),cl(),cl())}}]),e}(),pl=le((function e(t,n,r,i){se(this,e),this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=i})),vl=le((function e(t,n){se(this,e),this.targetId=t,this.It=n})),ml=le((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gu.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;se(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),gl=function(){function e(){se(this,e),this.Tt=0,this.Et=kl(),this.At=Gu.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}return le(e,[{key:"current",get:function(){return this.Rt}},{key:"resumeToken",get:function(){return this.At}},{key:"Pt",get:function(){return 0!==this.Tt}},{key:"vt",get:function(){return this.bt}},{key:"Vt",value:function(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}},{key:"St",value:function(){var e=cl(),t=cl(),n=cl();return this.Et.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Bo()}})),new dl(this.At,this.Rt,e,t,n)}},{key:"Dt",value:function(){this.bt=!1,this.Et=kl()}},{key:"Ct",value:function(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}},{key:"xt",value:function(e){this.bt=!0,this.Et=this.Et.remove(e)}},{key:"Nt",value:function(){this.Tt+=1}},{key:"kt",value:function(){this.Tt-=1}},{key:"Ot",value:function(){this.bt=!0,this.Rt=!0}}]),e}(),yl=function(){function e(t){se(this,e),this.Mt=t,this.Ft=new Map,this.$t=el(),this.Bt=bl(),this.Lt=new Ku(nu)}return le(e,[{key:"Ut",value:function(e){var t,n=fe(e.gt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.yt&&e.yt.isFoundDocument()?this.qt(r,e.yt):this.Kt(r,e.key,e.yt)}}catch(u){n.e(u)}finally{n.f()}var i,a=fe(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Kt(o,e.key,e.yt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Gt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Qt(n);switch(e.state){case 0:t.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||t.removeTarget(n);break;case 3:t.jt(n)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:t.jt(n)&&(t.Wt(n),r.Vt(e.resumeToken));break;default:Bo()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((function(e,r){n.jt(r)&&t(r)}))}},{key:"zt",value:function(e){var t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){var i=r.target;if(Ls(i))if(0===n){var a=new fu(i.path);this.Kt(t,a,Cs.newNoDocument(a,ou.min()))}else Uo(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}},{key:"Yt",value:function(e){var t=this,n=new Map;this.Ft.forEach((function(r,i){var a=t.Ht(i);if(a){if(r.current&&Ls(a.target)){var o=new fu(a.target.path);null!==t.$t.get(o)||t.Xt(i,o)||t.Kt(i,o,Cs.newNoDocument(o,e))}r.vt&&(n.set(i,r.St()),r.Dt())}}));var r=cl();this.Bt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ht(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$t.forEach((function(t,n){return n.setReadTime(e)}));var i=new hl(e,n,this.Lt,this.$t,r);return this.$t=el(),this.Bt=bl(),this.Lt=new Ku(nu),i}},{key:"qt",value:function(e,t){if(this.jt(e)){var n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}}},{key:"Kt",value:function(e,t,n){if(this.jt(e)){var r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ft.delete(e)}},{key:"Jt",value:function(e){var t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Nt",value:function(e){this.Qt(e).Nt()}},{key:"Qt",value:function(e){var t=this.Ft.get(e);return t||(t=new gl,this.Ft.set(e,t)),t}},{key:"Zt",value:function(e){var t=this.Bt.get(e);return t||(t=new Ku(nu),this.Bt=this.Bt.insert(e,t)),t}},{key:"jt",value:function(e){var t=null!==this.Ht(e);return t||jo("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ht",value:function(e){var t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}},{key:"Wt",value:function(e){var t=this;this.Ft.set(e,new gl),this.Mt.getRemoteKeysForTarget(e).forEach((function(n){t.Kt(e,n,null)}))}},{key:"Xt",value:function(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}]),e}();function bl(){return new Uu(fu.comparator)}function kl(){return new Uu(fu.comparator)}var wl={asc:"ASCENDING",desc:"DESCENDING"},xl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},El=le((function e(t,n){se(this,e),this.databaseId=t,this.dt=n}));function Sl(e,t){return e.dt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function _l(e,t){return e.dt?t.toBase64():t.toUint8Array()}function Il(e,t){return Sl(e,t.toTimestamp())}function Al(e){return Uo(!!e),ou.fromTimestamp(function(e){var t=Ju(e);return new au(t.seconds,t.nanos)}(e))}function Tl(e,t){return function(e){return new su(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Nl(e){var t=su.fromString(e);return Uo(Zl(t)),t}function Cl(e,t){return Tl(e.databaseId,t.path)}function Dl(e,t){var n=Nl(t);if(n.get(1)!==e.databaseId.projectId)throw new Ko(qo.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ko(qo.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new fu(Ll(n))}function Ol(e,t){return Tl(e.databaseId,t)}function Pl(e){var t=Nl(e);return 4===t.length?su.emptyPath():Ll(t)}function Rl(e){return new su(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ll(e){return Uo(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function jl(e,t,n){return{name:Cl(e,t),fields:n.value.mapValue.fields}}function Ml(e,t,n){var r=Dl(e,t.name),i=Al(t.updateTime),a=new Ts({mapValue:{fields:t.fields}}),o=Cs.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Fl(e,t){return"found"in t?function(e,t){Uo(!!t.found),t.found.name,t.found.updateTime;var n=Dl(e,t.found.name),r=Al(t.found.updateTime),i=new Ts({mapValue:{fields:t.found.fields}});return Cs.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Uo(!!t.missing),Uo(!!t.readTime);var n=Dl(e,t.missing),r=Al(t.readTime);return Cs.newNoDocument(n,r)}(e,t):Bo()}function Vl(e,t){var n;if(t instanceof Bc)n={update:jl(e,t.key,t.value)};else if(t instanceof Hc)n={delete:Cl(e,t.key)};else if(t instanceof Uc)n={update:jl(e,t.key,t.data),updateMask:Xl(t.fieldMask)};else{if(!(t instanceof Gc))return Bo();n={verify:Cl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof xc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ec)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof _c)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ac)return{fieldPath:t.field.canonicalString(),increment:n._t};throw Bo()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Il(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Bo()}(e,t.precondition)),n}function Bl(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Oc.updateTime(Al(e.updateTime)):void 0!==e.exists?Oc.exists(e.exists):Oc.none()}(t.currentDocument):Oc.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Uo("REQUEST_TIME"===t.setToServerValue),n=new xc;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Ec(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new _c(i)}else"increment"in t?n=new Ac(e,t.increment):Bo();var a=lu.fromServerFormat(t.fieldPath);return new Cc(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Dl(e,t.update.name),a=new Ts({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Hu(t.map((function(e){return lu.fromServerFormat(e)})))}(t.updateMask);return new Uc(i,a,o,n,r)}return new Bc(i,a,n,r)}if(t.delete){var u=Dl(e,t.delete);return new Hc(u,n)}if(t.verify){var s=Dl(e,t.verify);return new Gc(s,n)}return Bo()}function Ul(e,t){return{documents:[Ol(e,t.path)]}}function zl(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Ol(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ol(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(ks(e.value))return{unaryFilter:{field:Hl(e.field),op:"IS_NAN"}};if(bs(e.value))return{unaryFilter:{field:Hl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ks(e.value))return{unaryFilter:{field:Hl(e.field),op:"IS_NOT_NAN"}};if(bs(e.value))return{unaryFilter:{field:Hl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hl(e.field),op:Wl(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Hl(e.field),direction:Ql(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.dt||is(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function ql(e){var t=Pl(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Uo(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Kl(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Ys(Gl(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return is(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Gs(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Gs(n,t)}(n.endAt)),ec(t,i,u,o,s,"F",c,l)}function Kl(e){return e?void 0!==e.unaryFilter?[Jl(e)]:void 0!==e.fieldFilter?[Yl(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Kl(e)})).reduce((function(e,t){return e.concat(t)})):Bo():[]}function Ql(e){return wl[e]}function Wl(e){return xl[e]}function Hl(e){return{fieldPath:e.canonicalString()}}function Gl(e){return lu.fromServerFormat(e.fieldPath)}function Yl(e){return Vs.create(Gl(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Bo()}}(e.fieldFilter.op),e.fieldFilter.value)}function Jl(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Gl(e.unaryFilter.field);return Vs.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Gl(e.unaryFilter.field);return Vs.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Gl(e.unaryFilter.field);return Vs.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Gl(e.unaryFilter.field);return Vs.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Bo()}}function Xl(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Zl(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function $l(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=tf(t)),t=ef(e.get(n),t);return tf(t)}function ef(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function tf(e){return e+"\x01\x01"}function nf(e){var t=e.length;if(Uo(t>=2),2===t)return Uo("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),su.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Bo(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Bo()}a=o+2}return new su(r)}var rf=["userId","batchId"];function af(e,t){return[e,$l(t)]}function of(e,t,n){return[e,$l(t),n]}var uf={},sf=["prefixPath","collectionGroup","readTime","documentId"],cf=["prefixPath","collectionGroup","documentId"],lf=["collectionGroup","readTime","prefixPath","documentId"],ff=["canonicalId","targetId"],hf=["targetId","path"],df=["path","targetId"],pf=["collectionId","parent"],vf=["indexId","uid"],mf=["uid","sequenceNumber"],gf=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],yf=["indexId","uid","orderedDocumentKey"],bf=["userId","collectionPath","documentId"],kf=["userId","collectionPath","largestBatchId"],wf=["userId","collectionGroup","largestBatchId"],xf=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Ef=[].concat(Ue(xf),["documentOverlays"]),Sf=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],_f=Sf,If=[].concat(_f,["indexConfiguration","indexState","indexEntries"]),Af=function(e){pe(n,e);var t=ye(n);function n(e,r){var i;return se(this,n),(i=t.call(this)).ee=e,i.currentSequenceNumber=r,i}return le(n)}(xu);function Tf(e,t){var n=zo(e);return Au.N(n.ee,t)}var Nf=function(){function e(t,n,r,i){se(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return le(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&jc(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=fe(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Mc(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=fe(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Mc(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=al();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Lc(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(ou.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),cl())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&ru(this.mutations,e.mutations,(function(e,t){return Vc(e,t)}))&&ru(this.baseMutations,e.baseMutations,(function(e,t){return Vc(e,t)}))}}]),e}(),Cf=function(){function e(t,n,r,i){se(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return le(e,null,[{key:"from",value:function(t,n,r){Uo(t.mutations.length===r.length);for(var i=ul,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Df=function(){function e(t,n){se(this,e),this.largestBatchId=t,this.mutation=n}return le(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Of=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ou.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ou.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Gu.EMPTY_BYTE_STRING;se(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return le(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Pf=le((function e(t){se(this,e),this.ne=t}));function Rf(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Lf(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Cl(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Sl(e,t.version.toTimestamp())}}(e.ne,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:jf(t.version)};else{if(!t.isUnknownDocument())return Bo();r.unknownDocument={path:n.path.toArray(),version:jf(t.version)}}return r}function Lf(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function jf(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Mf(e){var t=new au(e.seconds,e.nanoseconds);return ou.fromTimestamp(t)}function Ff(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Bl(e.ne,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Bl(e.ne,t)})),u=au.fromMillis(t.localWriteTimeMs);return new Nf(t.batchId,u,n,o)}function Vf(e){var t,n,r=Mf(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Mf(e.lastLimboFreeSnapshotVersion):ou.min();return void 0!==e.query.documents?(Uo(1===(n=e.query).documents.length),t=oc(tc(Pl(n.documents[0])))):t=function(e){return oc(ql(e))}(e.query),new Of(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Gu.fromBase64String(e.resumeToken))}function Bf(e,t){var n,r=jf(t.snapshotVersion),i=jf(t.lastLimboFreeSnapshotVersion);n=Ls(t.target)?Ul(e.ne,t.target):zl(e.ne,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ps(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Uf(e){var t=ql({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?uc(t,t.limit,"L"):t}function zf(e,t){return new Df(t.largestBatchId,Bl(e.ne,t.overlayMutation))}function qf(e,t){var n=t.path.lastSegment();return[e,$l(t.path.popLast()),n]}function Kf(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:jf(r.readTime),documentKey:$l(r.documentKey.path),largestBatchId:r.largestBatchId}}var Qf=function(){function e(){se(this,e)}return le(e,[{key:"getBundleMetadata",value:function(e,t){return Wf(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Mf(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Wf(e).put({bundleId:(n=t).id,createTime:jf(Al(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Hf(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Uf(t.bundledQuery),readTime:Mf(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Hf(e).put(function(e){return{name:e.name,readTime:jf(Al(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Wf(e){return Tf(e,"bundles")}function Hf(e){return Tf(e,"namedQueries")}var Gf=function(){function e(t,n){se(this,e),this.wt=t,this.userId=n}return le(e,[{key:"getOverlay",value:function(e,t){var n=this;return Yf(e).get(qf(this.userId,t)).next((function(e){return e?zf(n.wt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=il();return _u.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Df(t,a);i.push(r.ie(e,o))})),_u.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add($l(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Yf(e).W("collectionPathOverlayIndex",i))})),_u.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=il(),a=$l(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Yf(e).K("collectionPathOverlayIndex",o).next((function(e){var t,n=fe(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=zf(r.wt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=il(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Yf(e).J({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=zf(a.wt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ie",value:function(e,t){return Yf(e).put(function(e,t,n){var r=u(qf(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Vl(e.ne,n.mutation)}}(this.wt,this.userId,t))}}],[{key:"se",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Yf(e){return Tf(e,"documentOverlays")}var Jf=function(){function e(){se(this,e)}return le(e,[{key:"re",value:function(e,t){this.oe(e,t),t.ue()}},{key:"oe",value:function(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(Xu(e.integerValue));else if("doubleValue"in e){var n=Xu(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),as(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he("".concat(r.seconds||"")),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Zu(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?Es(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):Bo()}},{key:"le",value:function(e,t){this.ce(t,25),this.ge(e,t)}},{key:"ge",value:function(e,t){t.he(e)}},{key:"we",value:function(e,t){var n=e.fields||{};this.ce(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.le(a,t),this.oe(n[a],t)}}},{key:"me",value:function(e,t){var n=e.values||[];this.ce(t,50);var r,i=fe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.oe(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ce(t,37),fu.fromName(e).path.forEach((function(e){n.ce(t,60),n.ge(e,t)}))}},{key:"ce",value:function(e,t){e.ae(t)}},{key:"fe",value:function(e){e.ae(2)}}]),e}();function Xf(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Zf(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Xf(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Jf.ye=new Jf;var $f=function(){function e(){se(this,e),this.buffer=new Uint8Array(1024),this.position=0}return le(e,[{key:"pe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ie(n.value),n=t.next();this.Te()}},{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){var t,n=fe(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{var a=r.codePointAt(0);this.Ie(240|a>>>18),this.Ie(128|63&a>>>12),this.Ie(128|63&a>>>6),this.Ie(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Te()}},{key:"Pe",value:function(e){var t,n=fe(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"ve",value:function(e){var t=this.Ve(e),n=Zf(t);this.Se(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"De",value:function(e){var t=this.Ve(e),n=Zf(t);this.Se(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ce",value:function(){this.xe(255),this.xe(255)}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Oe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ve",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ie",value:function(e){var t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}},{key:"Te",value:function(){this.xe(0),this.xe(1)}},{key:"Re",value:function(){this.ke(0),this.ke(1)}},{key:"xe",value:function(e){this.Se(1),this.buffer[this.position++]=e}},{key:"ke",value:function(e){this.Se(1),this.buffer[this.position++]=~e}},{key:"Se",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),eh=function(){function e(t){se(this,e),this.Me=t}return le(e,[{key:"de",value:function(e){this.Me.pe(e)}},{key:"he",value:function(e){this.Me.be(e)}},{key:"ae",value:function(e){this.Me.ve(e)}},{key:"ue",value:function(){this.Me.Ce()}}]),e}(),th=function(){function e(t){se(this,e),this.Me=t}return le(e,[{key:"de",value:function(e){this.Me.Ee(e)}},{key:"he",value:function(e){this.Me.Pe(e)}},{key:"ae",value:function(e){this.Me.De(e)}},{key:"ue",value:function(){this.Me.Ne()}}]),e}(),nh=function(){function e(){se(this,e),this.Me=new $f,this.Fe=new eh(this.Me),this.$e=new th(this.Me)}return le(e,[{key:"seed",value:function(e){this.Me.seed(e)}},{key:"Be",value:function(e){return 0===e?this.Fe:this.$e}},{key:"Oe",value:function(){return this.Me.Oe()}},{key:"reset",value:function(){this.Me.reset()}}]),e}(),rh=function(){function e(t,n,r,i){se(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return le(e,[{key:"Le",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function ih(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=ah(e.arrayValue,t.arrayValue))?n:0!==(n=ah(e.directionalValue,t.directionalValue))?n:fu.comparator(e.documentKey,t.documentKey)}function ah(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var oh=function(){function e(t){se(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];var n,r=fe(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.ht()?this.Ke=i:this.qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return le(e,[{key:"Ge",value:function(e){var t=du(e);if(void 0!==t&&!this.Qe(t))return!1;for(var n=pu(e),r=0,i=0;r<n.length&&this.Qe(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ke){var a=n[r];if(!this.je(this.Ke,a)||!this.We(this.Ue[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],o))return!1}return!0}},{key:"Qe",value:function(e){var t,n=fe(this.qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"We",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),uh=function(){function e(){se(this,e),this.ze=new sh}return le(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.ze.add(t),_u.resolve()}},{key:"getCollectionParents",value:function(e,t){return _u.resolve(this.ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return _u.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return _u.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return _u.resolve(null)}},{key:"getIndexType",value:function(e,t){return _u.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return _u.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return _u.resolve(null)}},{key:"getMinOffset",value:function(e,t){return _u.resolve(bu.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return _u.resolve(bu.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return _u.resolve()}},{key:"updateIndexEntries",value:function(e,t){return _u.resolve()}}]),e}(),sh=function(){function e(){se(this,e),this.index={}}return le(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ku(su.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Ku(su.comparator)).toArray()}}]),e}(),ch=new Uint8Array(0),lh=function(){function e(t,n){se(this,e),this.user=t,this.databaseId=n,this.He=new sh,this.Je=new Zc((function(e){return Ps(e)}),(function(e,t){return Rs(e,t)})),this.uid=t.uid||""}return le(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.He.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.He.add(t)}));var a={collectionId:r,parent:$l(i)};return fh(e).put(a)}return _u.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[iu(t),""],!1,!0);return fh(e).K(r).next((function(e){var r,i=fe(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(nf(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=dh(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=ph(e);return a.next((function(e){o.put(Kf(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=dh(e),r=ph(e),i=hh(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=hh(e),i=!0,a=new Map;return _u.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=cl(),o=[];return _u.forEach(a,(function(i,a){var u;jo("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Ps(t)));var s=function(e,t){var n=du(t);if(void 0===n)return null;var r,i=fe(js(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=fe(pu(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=fe(js(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=fe(pu(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Ms(e,o.fieldPath,e.startAt):Fs(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Gs(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=fe(pu(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Fs(e,o.fieldPath,e.endAt):Ms(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Gs(r,i)}(a,i),h=n.Ze(i,a,l),d=n.Ze(i,a,f),p=n.tn(i,a,c),v=n.en(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return _u.forEach(v,(function(n){return r.j(n,t.limit).next((function(t){t.forEach((function(t){var n=fu.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return _u.resolve(null)}))}},{key:"Ye",value:function(e){var t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}},{key:"en",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.nn(t[s/c]):ch,h=u.sn(e,f,n[s%c],r),d=u.rn(e,f,i[s%c],a),p=o.map((function(t){return u.sn(e,f,t,!0)}));l.push.apply(l,Ue(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"sn",value:function(e,t,n,r){var i=new rh(e,fu.empty(),t,n);return r?i:i.Le()}},{key:"rn",value:function(e,t,n,r){var i=new rh(e,fu.empty(),t,n);return r?i.Le():i}},{key:"Xe",value:function(e,t){var n=new oh(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=fe(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Ge(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return _u.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Ku(lu.comparator),r=!1,i=fe(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=fe(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"on",value:function(e,t){var n,r=new nh,i=fe(pu(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Be(a.kind);Jf.ye.re(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Oe()}},{key:"nn",value:function(e){var t=new nh;return Jf.ye.re(e,t.Be(0)),t.Oe()}},{key:"un",value:function(e,t){var n=new nh;return Jf.ye.re(ms(this.databaseId,t),n.Be(function(e){var t=pu(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Oe()}},{key:"tn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new nh);var i,a=0,o=fe(pu(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=fe(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.cn(t,s.fieldPath)&&ys(c))r=this.an(r,s,c);else{var h=f.Be(s.kind);Jf.ye.re(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.hn(r)}},{key:"Ze",value:function(e,t,n){return this.tn(e,t,n.position)}},{key:"hn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Oe();return t}},{key:"an",value:function(e,t,n){var r,i=Ue(e),a=[],o=fe(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=fe(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new nh;f.seed(l.Oe()),Jf.ye.re(s,f.Be(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"cn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Vs&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=dh(e),i=ph(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next((function(e){var t=[];return _u.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new mu(t.sequenceNumber,new bu(Mf(t.readTime),new fu(nf(t.documentKey)),t.largestBatchId)):mu.empty(),r=e.fields.map((function(e){var t=u(e,2),n=t[0],r=t[1];return new vu(lu.fromServerFormat(n),r)}));return new hu(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:nu(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=dh(e),a=ph(e);return this.ln(e).next((function(e){return i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return _u.forEach(t,(function(t){return a.put(Kf(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return _u.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?_u.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),_u.forEach(a,(function(r){return n.fn(e,t,r).next((function(t){var a=n.dn(i,r);return t.isEqual(a)?_u.resolve():n._n(e,i,r,t,a)}))}))}))}))}},{key:"wn",value:function(e,t,n,r){return hh(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(n,t.key),documentKey:t.key.path.toArray()})}},{key:"mn",value:function(e,t,n,r){return hh(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(n,t.key),t.key.path.toArray()])}},{key:"fn",value:function(e,t,n){var r=hh(e),i=new Ku(ih);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.un(n,t)])},(function(e,r){i=i.add(new rh(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"dn",value:function(e,t){var n=new Ku(ih),r=this.on(t,e);if(null==r)return n;var i=du(t);if(null!=i){var a=e.data.field(i.fieldPath);if(ys(a)){var o,u=fe(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new rh(t.indexId,e.key,this.nn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new rh(t.indexId,e.key,ch,r));return n}},{key:"_n",value:function(e,t,n,r,i){var a=this;jo("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Wu(a),s=Wu(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Wu(o)):l?(i(u),u=Wu(a)):(u=Wu(a),s=Wu(o))}}(r,i,ih,(function(r){o.push(a.wn(e,t,n,r))}),(function(r){o.push(a.mn(e,t,n,r))})),_u.waitFor(o)}},{key:"ln",value:function(e){var t=1;return ph(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return ih(e,t)})).filter((function(e,t,n){return!t||0!==ih(e,n[t-1])}));var r=[];r.push(e);var i,a=fe(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=ih(o,e),s=ih(o,t);if(0===u)r[0]=e.Le();else if(u>0&&s<0)r.push(o),r.push(o.Le());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,ch,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,ch,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(vh)}},{key:"getMinOffset",value:function(e,t){var n=this;return _u.mapArray(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){return e||Bo()}))})).next(vh)}}]),e}();function fh(e){return Tf(e,"collectionParents")}function hh(e){return Tf(e,"indexEntries")}function dh(e){return Tf(e,"indexConfiguration")}function ph(e){return Tf(e,"indexState")}function vh(e){Uo(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;ku(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new bu(t.readTime,t.documentKey,n)}var mh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gh=function(){function e(t,n,r){se(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return le(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function yh(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.J({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Uo(1===u)})));var c,l=[],f=fe(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=of(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return _u.waitFor(a).next((function(){return l}))}function bh(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Bo();t=e.noDocument}return JSON.stringify(t).length}gh.DEFAULT_COLLECTION_PERCENTILE=10,gh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gh.DEFAULT=new gh(41943040,gh.DEFAULT_COLLECTION_PERCENTILE,gh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gh.DISABLED=new gh(-1,0,0);var kh=function(){function e(t,n,r,i){se(this,e),this.userId=t,this.wt=n,this.indexManager=r,this.referenceDelegate=i,this.gn={}}return le(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xh(e).J({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Eh(e),o=xh(e);return o.add({}).next((function(u){Uo("number"==typeof u);var s,c=new Nf(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Vl(e.ne,t)})),i=n.mutations.map((function(t){return Vl(e.ne,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.wt,i.userId,c),f=[],h=new Ku((function(e,t){return nu(e.canonicalString(),t.canonicalString())})),d=fe(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=of(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,uf))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.gn[u]=c.keys()})),_u.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return xh(e).get(t).next((function(e){return e?(Uo(e.userId===n.userId),Ff(n.wt,e)):null}))}},{key:"yn",value:function(e,t){var n=this;return this.gn[t]?_u.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.gn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return xh(e).J({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Uo(t.batchId>=r),a=Ff(n.wt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return xh(e).J({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xh(e).K("userMutationsIndex",n).next((function(e){return e.map((function(e){return Ff(t.wt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=af(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Eh(e).J({range:i},(function(r,i,o){var s=u(r,3),c=s[0],l=s[1],f=s[2],h=nf(l);if(c===n.userId&&t.path.isEqual(h))return xh(e).get(f).next((function(e){if(!e)throw Bo();Uo(e.userId===n.userId),a.push(Ff(n.wt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ku(nu),i=[];return t.forEach((function(t){var a=af(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=Eh(e).J({range:o},(function(e,i,a){var o=u(e,3),s=o[0],c=o[1],l=o[2],f=nf(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(s)})),_u.waitFor(i).next((function(){return n.pn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=af(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new Ku(nu);return Eh(e).J({range:o},(function(e,t,a){var o=u(e,3),c=o[0],l=o[1],f=o[2],h=nf(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.pn(e,s)}))}},{key:"pn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(xh(e).get(t).next((function(e){if(null===e)throw Bo();Uo(e.userId===n.userId),r.push(Ff(n.wt,e))})))})),_u.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return yh(e.ee,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.In(t.batchId)})),_u.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"In",value:function(e){delete this.gn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return _u.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Eh(e).J({range:r},(function(e,n,r){if(e[0]===t.userId){var a=nf(e[1]);i.push(a)}else r.done()})).next((function(){Uo(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return wh(e,this.userId,t)}},{key:"Tn",value:function(e){var t=this;return Sh(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"se",value:function(t,n,r,i){return Uo(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function wh(e,t,n){var r=af(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Eh(e).J({range:a,H:!0},(function(e,n,r){var a=u(e,3),s=a[0],c=a[1];a[2];s===t&&c===i&&(o=!0),r.done()})).next((function(){return o}))}function xh(e){return Tf(e,"mutations")}function Eh(e){return Tf(e,"documentMutations")}function Sh(e){return Tf(e,"mutationQueues")}var _h=function(){function e(t){se(this,e),this.En=t}return le(e,[{key:"next",value:function(){return this.En+=2,this.En}}],[{key:"An",value:function(){return new e(0)}},{key:"Rn",value:function(){return new e(-1)}}]),e}(),Ih=function(){function e(t,n){se(this,e),this.referenceDelegate=t,this.wt=n}return le(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.bn(e).next((function(n){var r=new _h(n.highestTargetId);return n.highestTargetId=r.next(),t.Pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.bn(e).next((function(e){return ou.fromTimestamp(new au(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.bn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.bn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.vn(e,t).next((function(){return n.bn(e).next((function(r){return r.targetCount+=1,n.Vn(t,r),n.Pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.vn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Ah(e).delete(t.targetId)})).next((function(){return n.bn(e)})).next((function(t){return Uo(t.targetCount>0),t.targetCount-=1,n.Pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Ah(e).J((function(o,u){var s=Vf(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return _u.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Ah(e).J((function(e,n){var r=Vf(n);t(r)}))}},{key:"bn",value:function(e){return Th(e).get("targetGlobalKey").next((function(e){return Uo(null!==e),e}))}},{key:"Pn",value:function(e,t){return Th(e).put("targetGlobalKey",t)}},{key:"vn",value:function(e,t){return Ah(e).put(Bf(this.wt,t))}},{key:"Vn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.bn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Ps(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Ah(e).J({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Vf(n);Rs(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Nh(e);return t.forEach((function(t){var o=$l(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),_u.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Nh(e);return _u.forEach(t,(function(t){var a=$l(t.path);return _u.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Nh(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Nh(e),i=cl();return r.J({range:n,H:!0},(function(e,t,n){var r=nf(e[1]),a=new fu(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=$l(t.path),r=IDBKeyRange.bound([n],[iu(n)],!1,!0),i=0;return Nh(e).J({index:"documentTargetsIndex",H:!0,range:r},(function(e,t,n){var r=u(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"te",value:function(e,t){return Ah(e).get(t).next((function(e){return e?Vf(e):null}))}}]),e}();function Ah(e){return Tf(e,"targets")}function Th(e){return Tf(e,"targetGlobal")}function Nh(e){return Tf(e,"targetDocuments")}function Ch(e,t){var n=u(e,2),r=n[0],i=n[1],a=u(t,2),o=a[0],s=a[1],c=nu(r,o);return 0===c?nu(i,s):c}var Dh=function(){function e(t){se(this,e),this.Sn=t,this.buffer=new Ku(Ch),this.Dn=0}return le(e,[{key:"Cn",value:function(){return++this.Dn}},{key:"xn",value:function(e){var t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Ch(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Oh=function(){function e(t,n,r){se(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Nn=null}return le(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}},{key:"stop",value:function(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}},{key:"started",get:function(){return null!==this.Nn}},{key:"kn",value:function(e){var t=this;jo("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,oe(ie().mark((function e(){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Nn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Cu(e.t0)){e.next=12;break}jo("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Eu(e.t0);case 14:return e.next=16,t.kn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Ph=function(){function e(t,n){se(this,e),this.On=t,this.params=n}return le(e,[{key:"calculateTargetCount",value:function(e,t){return this.On.Mn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return _u.resolve(Mu.ot);var r=new Dh(t);return this.On.forEachTarget(e,(function(e){return r.xn(e.sequenceNumber)})).next((function(){return n.On.Fn(e,(function(e){return r.xn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.On.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.On.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(jo("LruGarbageCollector","Garbage collection skipped; disabled"),_u.resolve(mh)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(jo("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),mh):n.$n(e,t)}))}},{key:"getCacheSize",value:function(e){return this.On.getCacheSize(e)}},{key:"$n",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(jo("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Lo()<=We.DEBUG&&jo("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),_u.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Rh=function(){function e(t,n){se(this,e),this.db=t,this.garbageCollector=function(e,t){return new Ph(e,t)}(this,n)}return le(e,[{key:"Mn",value:function(e){var t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Bn",value:function(e){var t=0;return this.Fn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Fn",value:function(e,t){return this.Ln(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Lh(e,n)}},{key:"removeReference",value:function(e,t,n){return Lh(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Lh(e,t)}},{key:"Un",value:function(e,t){return function(e,t){var n=!1;return Sh(e).Y((function(r){return wh(e,r,t).next((function(e){return e&&(n=!0),_u.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ln(e,(function(o,u){if(u<=t){var s=n.Un(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,ou.min()),Nh(e).delete([0,$l(o.path)])}))}));i.push(s)}})).next((function(){return _u.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Lh(e,t)}},{key:"Ln",value:function(e,t){var n,r=Nh(e),i=Mu.ot;return r.J({index:"documentTargetsIndex"},(function(e,r){var a=u(e,2),o=a[0],s=(a[1],r.path),c=r.sequenceNumber;0===o?(i!==Mu.ot&&t(new fu(nf(n)),i),i=c,n=s):i=Mu.ot})).next((function(){i!==Mu.ot&&t(new fu(nf(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Lh(e,t){return Nh(e).put(function(e,t){return{targetId:0,path:$l(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var jh=function(){function e(){se(this,e),this.changes=new Zc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return le(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Cs.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?_u.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Mh=function(){function e(t){se(this,e),this.wt=t}return le(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Uh(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Uh(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Lf(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Cs.newInvalidDocument(t);return Uh(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(zh(t))},(function(e,i){r=n.Kn(t,i)})).next((function(){return r}))}},{key:"Gn",value:function(e,t){var n=this,r={size:0,document:Cs.newInvalidDocument(t)};return Uh(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(zh(t))},(function(e,i){r={document:n.Kn(t,i),size:bh(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=el();return this.Qn(e,t,(function(e,t){var i=n.Kn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"jn",value:function(e,t){var n=this,r=el(),i=new Uu(fu.comparator);return this.Qn(e,t,(function(e,t){var a=n.Kn(e,t);r=r.insert(e,a),i=i.insert(e,bh(t))})).next((function(){return{documents:r,Wn:i}}))}},{key:"Qn",value:function(e,t,n){if(t.isEmpty())return _u.resolve();var r=new Ku(Kh);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(zh(r.first()),zh(r.last())),a=r.getIterator(),o=a.getNext();return Uh(e).J({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=fu.fromSegments([].concat(Ue(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Kh(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.q(zh(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),Lf(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Uh(e).K(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=el(),i=fe(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Kn(fu.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=el(),o=qh(t,n),u=qh(t,bu.max());return Uh(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Kn(fu.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Vh(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Bh(e).get("remoteDocumentGlobalKey").next((function(e){return Uo(!!e),e}))}},{key:"qn",value:function(e,t){return Bh(e).put("remoteDocumentGlobalKey",t)}},{key:"Kn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Ml(e.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=fu.fromSegments(t.noDocument.path),i=Mf(t.noDocument.readTime);n=Cs.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Bo();var a=fu.fromSegments(t.unknownDocument.path),o=Mf(t.unknownDocument.version);n=Cs.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new au(e[0],e[1]);return ou.fromTimestamp(t)}(t.readTime)),n}(this.wt,t);if(!n.isNoDocument()||!n.version.isEqual(ou.min()))return n}return Cs.newInvalidDocument(e)}}]),e}();function Fh(e){return new Mh(e)}var Vh=function(e){pe(n,e);var t=ye(n);function n(e,r){var i;return se(this,n),(i=t.call(this)).zn=e,i.trackRemovals=r,i.Hn=new Zc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return le(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Ku((function(e,t){return nu(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Hn.get(a);if(n.push(t.zn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Rf(t.zn.wt,o);i=i.add(a.path.popLast());var c=bh(s);r+=c-u.size,n.push(t.zn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Rf(t.zn.wt,o.convertToNoDocument(ou.min()));n.push(t.zn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.zn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.zn.updateMetadata(e,r)),_u.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.zn.Gn(e,t).next((function(e){return n.Hn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.zn.jn(e,t).next((function(e){var t=e.documents;return e.Wn.forEach((function(e,r){n.Hn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(jh);function Bh(e){return Tf(e,"remoteDocumentGlobal")}function Uh(e){return Tf(e,"remoteDocumentsV14")}function zh(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function qh(e,t){var n=t.documentKey.path.toArray();return[e,Lf(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Kh(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=nu(n[a],r[a]))return i;return(i=nu(n.length,r.length))||((i=nu(n[n.length-2],r[r.length-2]))||nu(n[n.length-1],r[r.length-1]))}var Qh=le((function e(t,n){se(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Wh=function(){function e(t,n,r,i){se(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return le(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&Mc(r.mutation,e,Hu.empty(),au.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,cl()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cl(),i=il();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=nl();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=il();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,cl())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=el(),a=ol(),o=ol();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Uc)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),Mc(o.mutation,t,o.mutation.getFieldMask(),au.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Qh(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=ol(),i=new Uu((function(e,t){return e-t})),a=cl();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=fe(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Hu.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||cl()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=al();c.forEach((function(e){if(!a.has(e)){var n=Lc(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return _u.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return fu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ic(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):_u.resolve(il()),u=-1,s=a;return o.next((function(t){return _u.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?_u.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,cl())})).next((function(e){return{batchId:u,changes:rl(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new fu(t)).next((function(e){var t=nl();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=nl();return this.indexManager.getCollectionParents(e,i).next((function(o){return _u.forEach(o,(function(o){var u=function(e,t){return new $s(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,Cs.newInvalidDocument(n)))}));var n=nl();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&Mc(a.mutation,i,Hu.empty(),au.now()),fc(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):_u.resolve(Cs.newInvalidDocument(t))}}]),e}(),Hh=function(){function e(t){se(this,e),this.wt=t,this.Jn=new Map,this.Yn=new Map}return le(e,[{key:"getBundleMetadata",value:function(e,t){return _u.resolve(this.Jn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:Al(n.createTime)}),_u.resolve()}},{key:"getNamedQuery",value:function(e,t){return _u.resolve(this.Yn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:Uf(e.bundledQuery),readTime:Al(e.readTime)}}(t)),_u.resolve()}}]),e}(),Gh=function(){function e(){se(this,e),this.overlays=new Uu(fu.comparator),this.Xn=new Map}return le(e,[{key:"getOverlay",value:function(e,t){return _u.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=il();return _u.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ie(e,t,i)})),_u.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Xn.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Xn.delete(n)),_u.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=il(),i=t.length+1,a=new fu(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return _u.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Uu((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=il(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=il(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return _u.resolve(s)}},{key:"ie",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Df(t,n));var a=this.Xn.get(t);void 0===a&&(a=cl(),this.Xn.set(t,a)),this.Xn.set(t,a.add(n.key))}}]),e}(),Yh=function(){function e(){se(this,e),this.Zn=new Ku(Jh.ts),this.es=new Ku(Jh.ns)}return le(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Jh(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new Jh(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new fu(new su([])),r=new Jh(n,e),i=new Jh(n,e+1),a=[];return this.es.forEachInRange([r,i],(function(e){t.rs(e),a.push(e.key)})),a}},{key:"cs",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new fu(new su([])),n=new Jh(t,e),r=new Jh(t,e+1),i=cl();return this.es.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Jh(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Jh=function(){function e(t,n){se(this,e),this.key=t,this.ls=n}return le(e,null,[{key:"ts",value:function(e,t){return fu.comparator(e.key,t.key)||nu(e.ls,t.ls)}},{key:"ns",value:function(e,t){return nu(e.ls,t.ls)||fu.comparator(e.key,t.key)}}]),e}(),Xh=function(){function e(t,n){se(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new Ku(Jh.ts)}return le(e,[{key:"checkEmpty",value:function(e){return _u.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Nf(i,t,n,r);this.mutationQueue.push(a);var o,u=fe(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ds=this.ds.add(new Jh(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return _u.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return _u.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return _u.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return _u.resolve(0===this.mutationQueue.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return _u.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Jh(t,0),i=new Jh(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],(function(e){var t=n._s(e.ls);a.push(t)})),_u.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ku(nu);return t.forEach((function(e){var t=new Jh(e,0),i=new Jh(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],(function(e){r=r.add(e.ls)}))})),_u.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;fu.isDocumentKey(i)||(i=i.child(""));var a=new Jh(new fu(i),0),o=new Ku(nu);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)}),a),_u.resolve(this.gs(o))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Uo(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ds;return _u.forEach(t.mutations,(function(i){var a=new Jh(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ds=r}))}},{key:"In",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Jh(t,0),r=this.ds.firstAfterOrEqual(n);return _u.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,_u.resolve()}},{key:"ys",value:function(e,t){return this.ws(e)}},{key:"ws",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"_s",value:function(e){var t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Zh=function(){function e(t){se(this,e),this.ps=t,this.docs=new Uu(fu.comparator),this.size=0}return le(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return _u.resolve(n?n.document.mutableCopy():Cs.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=el();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Cs.newInvalidDocument(e))})),_u.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=el(),i=new fu(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||ku(yu(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return _u.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Bo()}},{key:"Is",value:function(e,t){return _u.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new $h(this)}},{key:"getSize",value:function(e){return _u.resolve(this.size)}}]),e}(),$h=function(e){pe(n,e);var t=ye(n);function n(e){var r;return se(this,n),(r=t.call(this)).zn=e,r}return le(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.zn.addEntry(e,i)):t.zn.removeEntry(r)})),_u.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.zn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.zn.getEntries(e,t)}}]),n}(jh),ed=function(){function e(t){se(this,e),this.persistence=t,this.Ts=new Zc((function(e){return Ps(e)}),Rs),this.lastRemoteSnapshotVersion=ou.min(),this.highestTargetId=0,this.Es=0,this.As=new Yh,this.targetCount=0,this.Rs=_h.An()}return le(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach((function(e,n){return t(n)})),_u.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return _u.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return _u.resolve(this.Es)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),_u.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),_u.resolve()}},{key:"vn",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new _h(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.vn(t),this.targetCount+=1,_u.resolve()}},{key:"updateTargetData",value:function(e,t){return this.vn(t),_u.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,_u.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Ts.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Ts.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),_u.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return _u.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return _u.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),_u.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),_u.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.us(t),_u.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return _u.resolve(n)}},{key:"containsKey",value:function(e,t){return _u.resolve(this.As.containsKey(t))}}]),e}(),td=function(){function e(t,n){var r=this;se(this,e),this.bs={},this.overlays={},this.Ps=new Mu(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new ed(this),this.indexManager=new uh,this.remoteDocumentCache=new Zh((function(e){return r.referenceDelegate.Ss(e)})),this.wt=new Pf(n),this.Ds=new Hh(this.wt)}return le(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.vs=!1,Promise.resolve()}},{key:"started",get:function(){return this.vs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Gh,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.bs[e.toKey()];return n||(n=new Xh(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;jo("MemoryPersistence","Starting transaction:",e);var i=new nd(this.Ps.next());return this.referenceDelegate.Cs(),n(i).next((function(e){return r.referenceDelegate.xs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ns",value:function(e,t){return _u.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),nd=function(e){pe(n,e);var t=ye(n);function n(e){var r;return se(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return le(n)}(xu),rd=function(){function e(t){se(this,e),this.persistence=t,this.ks=new Yh,this.Os=null}return le(e,[{key:"Fs",get:function(){if(this.Os)return this.Os;throw Bo()}},{key:"addReference",value:function(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),_u.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),_u.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Fs.add(t.toString()),_u.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ks.us(t.targetId).forEach((function(e){return n.Fs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Fs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Cs",value:function(){this.Os=new Set}},{key:"xs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _u.forEach(this.Fs,(function(r){var i=fu.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i,ou.min())}))})).next((function(){return t.Os=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.Fs.delete(t.toString()):n.Fs.add(t.toString())}))}},{key:"Ss",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return _u.or([function(){return _u.resolve(n.ks.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ns(e,t)}])}}],[{key:"Ms",value:function(t){return new e(t)}}]),e}(),id=function(){function e(t){se(this,e),this.wt=t}return le(e,[{key:"O",value:function(e,t,n,r){var i=this,a=new Iu("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",rf,{unique:!0}),e.createObjectStore("documentMutations")}(e),ad(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=_u.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),ad(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ou.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").K().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",rf,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return _u.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Bs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ls(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Us(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ks(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:bf});t.createIndex("collectionPathOverlayIndex",kf,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",wf,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:sf});t.createIndex("documentKeyIndex",cf),t.createIndex("collectionGroupIndex",lf)}(e)})).next((function(){return i.Gs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.Qs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:vf}).createIndex("sequenceNumberIndex",mf,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:gf}).createIndex("documentKeyIndex",yf,{unique:!1})}(e)}))),o}},{key:"Ls",value:function(e){var t=0;return e.store("remoteDocuments").J((function(e,n){t+=bh(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Bs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.K().next((function(n){return _u.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",i).next((function(r){return _u.forEach(r,(function(r){Uo(r.userId===n.userId);var i=Ff(t.wt,r);return yh(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Us",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.J((function(n,i){var a=new su(n),o=function(e){return[0,$l(e)]}(a);r.push(t.get(o).next((function(n){return n?_u.resolve():function(n){return t.put({targetId:0,path:$l(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return _u.waitFor(r)}))}))}},{key:"qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:pf});var n=t.store("collectionParents"),r=new sh,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:$l(i)})}};return t.store("remoteDocuments").J({H:!0},(function(e,t){var n=new su(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").J({H:!0},(function(e,t){var n=u(e,3),r=(n[0],n[1]),a=(n[2],nf(r));return i(a.popLast())}))}))}},{key:"Ks",value:function(e){var t=this,n=e.store("targets");return n.J((function(e,r){var i=Vf(r),a=Bf(t.wt,i);return n.put(a)}))}},{key:"Gs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.J((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new fu(su.fromString(i.document.name).popFirst(5)):i.noDocument?fu.fromSegments(i.noDocument.path):i.unknownDocument?fu.fromSegments(i.unknownDocument.path):Bo()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return _u.waitFor(r)}))}},{key:"Qs",value:function(e,t){var n=this,r=t.store("mutations"),i=Fh(this.wt),a=new td(rd.Ms,this.wt.ne);return r.K().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:cl();Ff(n.wt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),_u.forEach(r,(function(e,r){var o=new Oo(r),u=Gf.se(n.wt,o),s=a.getIndexManager(o),c=kh.se(o,n.wt,s,a.referenceDelegate);return new Wh(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new Af(t,Mu.ot),e).next()}))}))}}]),e}();function ad(e){e.createObjectStore("targetDocuments",{keyPath:hf}).createIndex("documentTargetsIndex",df,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ff,{unique:!0}),e.createObjectStore("targetGlobal")}var od="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ud=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:14;if(se(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.js=a,this.window=o,this.document=u,this.Ws=c,this.zs=l,this.Hs=f,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=function(e){return Promise.resolve()},!e.V())throw new Ko(qo.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Rh(this,i),this.ei=n+"main",this.wt=new Pf(s),this.ni=new Au(this.ei,this.Hs,new id(this.wt)),this.Vs=new Ih(this.referenceDelegate,this.wt),this.remoteDocumentCache=Fh(this.wt),this.Ds=new Qf,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===l&&Mo("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return le(e,[{key:"start",value:function(){var e=this;return this.ii().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Ko(qo.FAILED_PRECONDITION,od);return e.ri(),e.oi(),e.ui(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Vs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ps=new Mu(t,e.Ws)})).then((function(){e.vs=!0})).catch((function(t){return e.ni&&e.ni.close(),Promise.reject(t)}))}},{key:"ci",value:function(e){var t=this;return this.ti=function(){var n=oe(ie().mark((function n(r){return ie().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ni.F(function(){var t=oe(ie().mark((function t(n){return ie().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget(oe(ie().mark((function e(){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ii();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ii",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return cd(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.ai(t).next((function(t){t||(e.isPrimary=!1,e.js.enqueueRetryable((function(){return e.ti(!1)})))}))})).next((function(){return e.hi(t)})).next((function(n){return e.isPrimary&&!n?e.li(t).next((function(){return!1})):!!n&&e.fi(t).next((function(){return!0}))}))})).catch((function(t){if(Cu(t))return jo("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return jo("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.js.enqueueRetryable((function(){return e.ti(t)})),e.isPrimary=t}))}},{key:"ai",value:function(e){var t=this;return sd(e).get("owner").next((function(e){return _u.resolve(t.di(e))}))}},{key:"_i",value:function(e){return cd(e).delete(this.clientId)}},{key:"wi",value:function(){var e=oe(ie().mark((function e(){var t,n,r,i,a=this;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.mi(this.Zs,18e5)){e.next=6;break}return this.Zs=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Tf(e,"clientMetadata");return t.K().next((function(e){var n=a.gi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return _u.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.si){n=fe(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.si.removeItem(this.yi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ui",value:function(){var e=this;this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ii().then((function(){return e.wi()})).then((function(){return e.ui()}))}))}},{key:"di",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"hi",value:function(e){var t=this;return this.zs?_u.resolve(!0):sd(e).get("owner").next((function(n){if(null!==n&&t.mi(n.leaseTimestampMs,5e3)&&!t.pi(n.ownerId)){if(t.di(n)&&t.networkEnabled)return!0;if(!t.di(n)){if(!n.allowTabSynchronization)throw new Ko(qo.FAILED_PRECONDITION,od);return!1}}return!(!t.networkEnabled||!t.inForeground)||cd(e).K().next((function(e){return void 0===t.gi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&jo("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=oe(ie().mark((function e(){var t=this;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.vs=!1,this.Ii(),this.Xs&&(this.Xs.cancel(),this.Xs=null),this.Ti(),this.Ei(),e.next=7,this.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Af(e,Mu.ot);return t.li(n).next((function(){return t._i(n)}))}));case 7:this.ni.close(),this.Ai();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"gi",value:function(e,t){var n=this;return e.filter((function(e){return n.mi(e.updateTimeMs,t)&&!n.pi(e.clientId)}))}},{key:"Ri",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return cd(t).K().next((function(t){return e.gi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.vs}},{key:"getMutationQueue",value:function(e,t){return kh.se(e,this.wt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new lh(e,this.wt.ne.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Gf.se(this.wt,e)}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;jo("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Hs)?If:14===i?_f:13===i?Sf:12===i?Ef:11===i?xf:void Bo();return this.ni.runTransaction(e,o,u,(function(i){return a=new Af(i,r.Ps?r.Ps.next():Mu.ot),"readwrite-primary"===t?r.ai(a).next((function(e){return!!e||r.hi(a)})).next((function(t){if(!t)throw Mo("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.js.enqueueRetryable((function(){return r.ti(!1)})),new Ko(qo.FAILED_PRECONDITION,wu);return n(a)})).next((function(e){return r.fi(a).next((function(){return e}))})):r.bi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"bi",value:function(e){var t=this;return sd(e).get("owner").next((function(e){if(null!==e&&t.mi(e.leaseTimestampMs,5e3)&&!t.pi(e.ownerId)&&!t.di(e)&&!(t.zs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Ko(qo.FAILED_PRECONDITION,od)}))}},{key:"fi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return sd(e).put("owner",t)}},{key:"li",value:function(e){var t=this,n=sd(e);return n.get("owner").next((function(e){return t.di(e)?(jo("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):_u.resolve()}))}},{key:"mi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Mo("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=function(){e.js.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ii()}))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ti",value:function(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}},{key:"oi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=function(){t.Ii(),Te()&&navigator.appVersion.match(/Version\/1[45]/)&&t.js.enterRestrictedMode(!0),t.js.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Js))}},{key:"Ei",value:function(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}},{key:"pi",value:function(e){var t;try{var n=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return jo("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Mo("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ii",value:function(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(Dn){Mo("Failed to set zombie client id.",Dn)}}},{key:"Ai",value:function(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(Dn){}}},{key:"yi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"V",value:function(){return Au.V()}}]),e}();function sd(e){return Tf(e,"owner")}function cd(e){return Tf(e,"clientMetadata")}function ld(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var fd=function(){function e(t,n,r,i){se(this,e),this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=i}return le(e,null,[{key:"Vi",value:function(t,n){var r,i=cl(),a=cl(),o=fe(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),hd=function(){function e(){se(this,e),this.Si=!1}return le(e,[{key:"initialize",value:function(e,t){this.Di=e,this.indexManager=t,this.Si=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ci(e,t).next((function(a){return a||i.xi(e,t,r,n)})).next((function(n){return n||i.Ni(e,t)}))}},{key:"Ci",value:function(e,t){return _u.resolve(null)}},{key:"xi",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(ou.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next((function(a){var o=i.ki(t,a);return i.Oi(t,o,n,r)?i.Ni(e,t):(Lo()<=We.DEBUG&&jo("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),lc(t)),i.Mi(e,o,t,gu(r,-1)))}))}},{key:"ki",value:function(e,t){var n=new Ku(dc(e));return t.forEach((function(t,r){fc(e,r)&&(n=n.add(r))})),n}},{key:"Oi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ni",value:function(e,t){return Lo()<=We.DEBUG&&jo("QueryEngine","Using full collection scan to execute query:",lc(t)),this.Di.getDocumentsMatchingQuery(e,t,bu.min())}},{key:"Mi",value:function(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),dd=function(){function e(t,n,r,i){se(this,e),this.persistence=t,this.Fi=n,this.wt=i,this.$i=new Uu(nu),this.Bi=new Zc((function(e){return Ps(e)}),Rs),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}return le(e,[{key:"qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wh(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.$i)}))}}]),e}();function pd(e,t,n,r){return new dd(e,t,n,r)}function vd(e,t){return md.apply(this,arguments)}function md(){return md=oe(ie().mark((function e(t,n){var r;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zo(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=cl(),s=fe(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=fe(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var d,p=fe(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,g=fe(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;u=u.add(y.key)}}catch(b){g.e(b)}finally{g.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{Ki:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),md.apply(this,arguments)}function gd(e,t){var n=zo(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=_u.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Uo(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=cl(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function yd(e){var t=zo(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Vs.getLastRemoteSnapshotVersion(e)}))}function bd(e,t){var n=zo(e),r=t.snapshotVersion,i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Vs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Vs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Gu.EMPTY_BYTE_STRING,ou.min()).withLastLimboFreeSnapshotVersion(ou.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Vs.updateTargetData(e,c))}}));var u=el(),s=cl();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(kd(e,a,t.documentUpdates).next((function(e){u=e.Gi,s=e.Qi}))),!r.isEqual(ou.min())){var c=n.Vs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return _u.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.$i=i,e}))}function kd(e,t,n){var r=cl(),i=cl();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=el();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(ou.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):jo("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Gi:r,Qi:i}}))}function wd(e,t){var n=zo(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function xd(e,t){var n=zo(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Vs.getTargetData(e,t).next((function(i){return i?(r=i,_u.resolve(r)):n.Vs.allocateTargetId(e).next((function(i){return r=new Of(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e}))}function Ed(e,t,n){return Sd.apply(this,arguments)}function Sd(){return Sd=oe(ie().mark((function e(t,n,r){var i,a,o;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=zo(t),a=i.$i.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Cu(e.t1)){e.next=12;break}throw e.t1;case 12:jo("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.$i=i.$i.remove(n),i.Bi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Sd.apply(this,arguments)}function _d(e,t,n){var r=zo(e),i=ou.min(),a=cl();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=zo(e),i=r.Bi.get(n);return void 0!==i?_u.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,oc(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Fi.getDocumentsMatchingQuery(e,t,n?i:ou.min(),n?a:cl())})).next((function(e){return Td(r,hc(t),e),{documents:e,ji:a}}))}))}function Id(e,t){var n=zo(e),r=zo(n.Vs),i=n.$i.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.te(e,t).next((function(e){return e?e.target:null}))}))}function Ad(e,t){var n=zo(e),r=n.Li.get(t)||ou.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Ui.getAllFromCollectionGroup(e,t,gu(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Td(n,t,e),e}))}function Td(e,t,n){var r=ou.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Li.set(t,r)}function Nd(e,t,n,r){return Cd.apply(this,arguments)}function Cd(){return Cd=oe(ie().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=zo(t),o=cl(),u=el(),s=fe(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Wi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.zi(l)).setReadTime(n.Hi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Ui.newChangeBuffer({trackRemovals:!0}),e.next=7,xd(a,function(e){return oc(tc(su.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return kd(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Vs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Vs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Gi,t.Qi)})).next((function(){return t.Gi}))}))})));case 9:case"end":return e.stop()}}),e)}))),Cd.apply(this,arguments)}function Dd(e,t){return Od.apply(this,arguments)}function Od(){return Od=oe(ie().mark((function e(t,n){var r,i,a,o=arguments;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:cl(),e.next=3,xd(t,oc(Uf(n.bundledQuery)));case 3:return i=e.sent,a=zo(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Al(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ds.saveNamedQuery(e,n);var o=i.withResumeToken(Gu.EMPTY_BYTE_STRING,t);return a.$i=a.$i.insert(o.targetId,o),a.Vs.updateTargetData(e,o).next((function(){return a.Vs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Vs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Od.apply(this,arguments)}function Pd(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Rd(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Ld(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var jd=function(){function e(t,n,r,i){se(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return le(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Ko(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Mo("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Md=function(){function e(t,n,r){se(this,e),this.targetId=t,this.state=n,this.error=r}return le(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ko(i.error.code,i.error.message))),a?new e(t,i.state,r):(Mo("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Fd=function(){function e(t,n){se(this,e),this.clientId=t,this.activeTargetIds=n}return le(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=fl(),o=0;i&&o<r.activeTargetIds.length;++o)i=os(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Mo("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Vd=function(){function e(t,n){se(this,e),this.clientId=t,this.onlineState=n}return le(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Mo("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Bd=function(){function e(){se(this,e),this.activeTargetIds=fl()}return le(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Ud=function(){function e(t,n,r,i,a){se(this,e),this.window=t,this.js=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Uu(nu),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=Pd(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new Bd),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.ar=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return le(e,[{key:"start",value:function(){var e=oe(ie().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ri();case 2:t=e.sent,n=fe(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Pd(this.persistenceKey,i)))&&(o=Fd.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=fe(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(d){c.e(d)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Ld(this.persistenceKey,e));if(n){var r=Md.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Ld(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return jo("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){jo("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){jo("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(jo("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void Mo("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable(oe(ie().mark((function e(){var r,i,a,o,u,s,c;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.ar.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}s=function(e){var t=Mu.ot;if(null!=e)try{var n=JSON.parse(e);Uo("number"==typeof n),t=n}catch(e){Mo("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Mu.ot&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new jd(this.currentUser,e,t,n),i=Rd(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=Rd(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=Ld(this.persistenceKey,e),i=new Md(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return Fd.Ji(n,t)}},{key:"vr",value:function(e,t){var n=this.ar.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return jd.Ji(new Oo(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return Md.Ji(r,t)}},{key:"wr",value:function(e){return Vd.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"Vr",value:function(){var e=oe(ie().mark((function e(t){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:jo("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Mr(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=fl();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"V",value:function(e){return!(!e||!e.localStorage)}}]),e}(),zd=function(){function e(){se(this,e),this.Fr=new Bd,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return le(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new Bd,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),qd=function(){function e(){se(this,e)}return le(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Kd=function(){function e(){var t=this;se(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Kr()},this.Gr=[],this.Qr()}return le(e,[{key:"Br",value:function(e){this.Gr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){jo("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=fe(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Kr",value:function(){jo("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=fe(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"V",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Qd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Wd=function(){function e(t){se(this,e),this.jr=t.jr,this.Wr=t.Wr}return le(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),Hd=function(e){pe(n,e);var t=ye(n);function n(e){var r;return se(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return le(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Co;o.listenOnce(_o.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case So.NO_ERROR:var t=o.getResponseJson();jo("Connection","XHR received:",JSON.stringify(t)),i(t);break;case So.TIMEOUT:jo("Connection",'RPC "'+e+'" timed out'),a(new Ko(qo.DEADLINE_EXCEEDED,"Request time out"));break;case So.HTTP_ERROR:var n=o.getStatus();if(jo("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(qo).indexOf(t)>=0?t:qo.UNKNOWN}(r.status);a(new Ko(u,r.message))}else a(new Ko(qo.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Ko(qo.UNAVAILABLE,"Connection failed."));break;default:Bo()}}finally{jo("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=xo(),a=Eo(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new To({})),this.uo(o.initMessageHeaders,t,n),"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ae())||"object"===typeof navigator&&"ReactNative"===navigator.product||Ae().indexOf("Electron/")>=0||function(){var e=Ae();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||Ae().indexOf("MSAppHost/")>=0||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");jo("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Wd({jr:function(e){l?jo("Connection","Not sending because WebChannel is closed:",e):(c||(jo("Connection","Opening WebChannel transport."),s.open(),c=!0),jo("Connection","WebChannel sending:",e),s.send(e))},Wr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,No.EventType.OPEN,(function(){l||jo("Connection","WebChannel transport opened.")})),h(s,No.EventType.CLOSE,(function(){l||(l=!0,jo("Connection","WebChannel transport closed"),f.eo())})),h(s,No.EventType.ERROR,(function(e){l||(l=!0,Fo("Connection","WebChannel transport errored:",e),f.eo(new Ko(qo.UNAVAILABLE,"The operation could not be completed")))})),h(s,No.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Uo(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){jo("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Qc[e];if(void 0!==t)return Xc(t)}(a),u=i.message;void 0===o&&(o=qo.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new Ko(o,u)),s.close()}else jo("Connection","WebChannel received:",n),f.no(n)}})),h(a,Io.STAT_EVENT,(function(e){e.stat===Ao.PROXY?jo("Connection","Detected buffering proxy"):e.stat===Ao.NOPROXY&&jo("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){se(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return le(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);jo("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.co(e,a,o,n).then((function(e){return jo("RestConnection","Received: ",e),e}),(function(t){throw Fo("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ao",value:function(e,t,n,r,i){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Po,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=Qd[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function Gd(){return"undefined"!=typeof window?window:null}function Yd(){return"undefined"!=typeof document?document:null}function Jd(e){return new El(e,!0)}var Xd=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;se(this,e),this.js=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return le(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&jo("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),Zd=function(){function e(t,n,r,i,a,o,u,s){se(this,e),this.js=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new Xd(t,n)}return le(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=oe(ie().mark((function e(){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Oo()})))}},{key:"Mo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Oo",value:function(){var e=oe(ie().mark((function e(){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=oe(ie().mark((function e(t,n){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===qo.RESOURCE_EXHAUSTED?(Mo(n.toString()),Mo("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===qo.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=u(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new Ko(qo.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.Vo=n.js.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(oe(ie().mark((function t(){return ie().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return jo("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.js.enqueueAndForget((function(){return t.Po===e?n():(jo("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),$d=function(e){pe(n,e);var t=ye(n);function n(e,r,i,a,o,u){var s;return se(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s}return le(n,[{key:"Ko",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Bo()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.dt?(Uo(void 0===t||"string"==typeof t),Gu.fromBase64String(t||"")):(Uo(void 0===t||t instanceof Uint8Array),Gu.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?qo.UNKNOWN:Xc(e.code);return new Ko(t,e.message||"")}(o);n=new ml(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Dl(e,s.document.name),l=Al(s.document.updateTime),f=new Ts({mapValue:{fields:s.document.fields}}),h=Cs.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new pl(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Dl(e,v.document),g=v.readTime?Al(v.readTime):ou.min(),y=Cs.newNoDocument(m,g),b=v.removedTargetIds||[];n=new pl([],b,y.key,y)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var w=Dl(e,k.document),x=k.removedTargetIds||[];n=new pl([],x,w,null)}else{if(!("filter"in t))return Bo();t.filter;var E=t.filter;E.targetId;var S=E.count||0,_=new Yc(S),I=E.targetId;n=new vl(I,_)}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return ou.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?ou.min():t.readTime?Al(t.readTime):ou.min()}(e);return this.listener.Go(t,n)}},{key:"Qo",value:function(e){var t={};t.database=Rl(this.wt),t.addTarget=function(e,t){var n,r=t.target;return(n=Ls(r)?{documents:Ul(e,r)}:{query:zl(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=_l(e,t.resumeToken):t.snapshotVersion.compareTo(ou.min())>0&&(n.readTime=Sl(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Bo()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,e);n&&(t.labels=n),this.Mo(t)}},{key:"jo",value:function(e){var t={};t.database=Rl(this.wt),t.removeTarget=e,this.Mo(t)}}]),n}(Zd),ep=function(e){pe(n,e);var t=ye(n);function n(e,r,i,a,o,u){var s;return se(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s.Wo=!1,s}return le(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,mn(ve(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Ko",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(Uo(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(Uo(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Al(e.updateTime):Al(t);return n.isEqual(ou.min())&&(n=Al(t)),new Dc(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Al(e.commitTime);return this.listener.Jo(n,t)}return Uo(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=Rl(this.wt),this.Mo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Vl(t.wt,e)}))};this.Mo(n)}}]),n}(Zd),tp=function(e){pe(n,e);var t=ye(n);function n(e,r,i,a){var o;return se(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.wt=a,o.Zo=!1,o}return le(n,[{key:"tu",value:function(){if(this.Zo)throw new Ko(qo.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=u(i,2),o=a[0],s=a[1];return r.bo.ro(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===qo.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Ko(qo.UNKNOWN,e.toString())}))}},{key:"ao",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=u(i,2),o=a[0],s=a[1];return r.bo.ao(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===qo.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Ko(qo.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return le((function e(){se(this,e)}))}()),np=function(){function e(t,n){se(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return le(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(Mo(t),this.su=!1):jo("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),rp=le((function e(t,n,r,i,a){var o=this;se(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(oe(ie().mark((function e(){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=pp(o),!e.t0){e.next=5;break}return jo("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=oe(ie().mark((function e(t){var n;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=zo(t)).lu.add(4),e.next=4,op(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,ip(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new np(r,i)}));function ip(e){return ap.apply(this,arguments)}function ap(){return ap=oe(ie().mark((function e(t){var n,r,i;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!pp(t)){e.next=18;break}n=fe(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),ap.apply(this,arguments)}function op(e){return up.apply(this,arguments)}function up(){return up=oe(ie().mark((function e(t){var n,r,i;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=fe(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),up.apply(this,arguments)}function sp(e,t){var n=zo(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),dp(n)?hp(n):qp(n).Co()&&lp(n,t))}function cp(e,t){var n=zo(e),r=qp(n);n.hu.delete(t),r.Co()&&fp(n,t),0===n.hu.size&&(r.Co()?r.ko():pp(n)&&n._u.set("Unknown"))}function lp(e,t){e.wu.Nt(t.targetId),qp(e).Qo(t)}function fp(e,t){e.wu.Nt(t),qp(e).jo(t)}function hp(e){e.wu=new yl({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},te:function(t){return e.hu.get(t)||null}}),qp(e).start(),e._u.iu()}function dp(e){return pp(e)&&!qp(e).Do()&&e.hu.size>0}function pp(e){return 0===zo(e).lu.size}function vp(e){e.wu=void 0}function mp(e){return gp.apply(this,arguments)}function gp(){return gp=oe(ie().mark((function e(t){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){lp(t,e)}));case 1:case"end":return e.stop()}}),e)}))),gp.apply(this,arguments)}function yp(e,t){return bp.apply(this,arguments)}function bp(){return bp=oe(ie().mark((function e(t,n){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:vp(t),dp(t)?(t._u.uu(n),hp(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),bp.apply(this,arguments)}function kp(e,t,n){return wp.apply(this,arguments)}function wp(){return wp=oe(ie().mark((function e(t,n,r){var i;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof ml&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=oe(ie().mark((function e(t,n){var r,i,a,o;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=fe(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),jo("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,xp(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof pl?t.wu.Ut(n):n instanceof vl?t.wu.zt(n):t.wu.Gt(n),r.isEqual(ou.min())){e.next=29;break}return e.prev=14,e.next=17,yd(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.Yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(Gu.EMPTY_BYTE_STRING,n.snapshotVersion)),fp(e,t);var r=new Of(n.target,t,1,n.sequenceNumber);lp(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),jo("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,xp(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),wp.apply(this,arguments)}function xp(e,t,n){return Ep.apply(this,arguments)}function Ep(){return Ep=oe(ie().mark((function e(t,n,r){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Cu(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,op(t);case 5:t._u.set("Offline"),r||(r=function(){return yd(t.localStore)}),t.asyncQueue.enqueueRetryable(oe(ie().mark((function e(){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jo("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,ip(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Ep.apply(this,arguments)}function Sp(e,t){return t().catch((function(n){return xp(e,n,t)}))}function _p(e){return Ip.apply(this,arguments)}function Ip(){return Ip=oe(ie().mark((function e(t){var n,r,i,a;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=zo(t),r=Kp(n),i=n.au.length>0?n.au[n.au.length-1].batchId:-1;case 2:if(!Ap(n)){e.next=19;break}return e.prev=3,e.next=6,wd(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.au.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,Tp(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,xp(n,e.t0);case 17:e.next=2;break;case 19:Np(n)&&Cp(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Ip.apply(this,arguments)}function Ap(e){return pp(e)&&e.au.length<10}function Tp(e,t){e.au.push(t);var n=Kp(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function Np(e){return pp(e)&&!Kp(e).Do()&&e.au.length>0}function Cp(e){Kp(e).start()}function Dp(e){return Op.apply(this,arguments)}function Op(){return Op=oe(ie().mark((function e(t){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Kp(t).Xo();case 1:case"end":return e.stop()}}),e)}))),Op.apply(this,arguments)}function Pp(e){return Rp.apply(this,arguments)}function Rp(){return Rp=oe(ie().mark((function e(t){var n,r,i,a;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Kp(t),r=fe(t.au);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Rp.apply(this,arguments)}function Lp(e,t,n){return jp.apply(this,arguments)}function jp(){return jp=oe(ie().mark((function e(t,n,r){var i,a;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.au.shift(),a=Cf.from(i,n,r),e.next=3,Sp(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,_p(t);case 5:case"end":return e.stop()}}),e)}))),jp.apply(this,arguments)}function Mp(e,t){return Fp.apply(this,arguments)}function Fp(){return Fp=oe(ie().mark((function e(t,n){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Kp(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=oe(ie().mark((function e(t,n){var r,i;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Jc(i=n.code)||i===qo.ABORTED){e.next=7;break}return r=t.au.shift(),Kp(t).No(),e.next=5,Sp(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,_p(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Np(t)&&Cp(t);case 5:case"end":return e.stop()}}),e)}))),Fp.apply(this,arguments)}function Vp(e,t){return Bp.apply(this,arguments)}function Bp(){return Bp=oe(ie().mark((function e(t,n){var r,i;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=zo(t)).asyncQueue.verifyOperationInProgress(),jo("RemoteStore","RemoteStore received new credentials"),i=pp(r),r.lu.add(3),e.next=6,op(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,ip(r);case 12:case"end":return e.stop()}}),e)}))),Bp.apply(this,arguments)}function Up(e,t){return zp.apply(this,arguments)}function zp(){return zp=oe(ie().mark((function e(t,n){var r;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=zo(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,ip(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,op(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),zp.apply(this,arguments)}function qp(e){return e.mu||(e.mu=function(e,t,n){var r=zo(e);return r.tu(),new $d(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:mp.bind(null,e),Jr:yp.bind(null,e),Go:kp.bind(null,e)}),e.fu.push(function(){var t=oe(ie().mark((function t(n){return ie().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),dp(e)?hp(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:vp(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function Kp(e){return e.gu||(e.gu=function(e,t,n){var r=zo(e);return r.tu(),new ep(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:Dp.bind(null,e),Jr:Mp.bind(null,e),Yo:Pp.bind(null,e),Jo:Lp.bind(null,e)}),e.fu.push(function(){var t=oe(ie().mark((function t(n){return ie().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,_p(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.au.length>0&&(jo("RemoteStore","Stopping write stream with ".concat(e.au.length," pending writes")),e.au=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var Qp=function(){function e(t,n,r,i,a){se(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Qo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return le(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ko(qo.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Wp(e,t){if(Mo("AsyncQueue","".concat(t,": ").concat(e)),Cu(e))return new Ko(qo.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Hp=function(){function e(t){se(this,e),this.comparator=t?function(e,n){return t(e,n)||fu.comparator(e.key,n.key)}:function(e,t){return fu.comparator(e.key,t.key)},this.keyedMap=nl(),this.sortedSet=new Uu(this.comparator)}return le(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Gp=function(){function e(){se(this,e),this.yu=new Uu(fu.comparator)}return le(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Bo():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Yp=function(){function e(t,n,r,i,a,o,u,s){se(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return le(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Hp.emptySet(n),a,r,i,!0,!1)}}]),e}(),Jp=le((function e(){se(this,e),this.Iu=void 0,this.listeners=[]})),Xp=le((function e(){se(this,e),this.queries=new Zc((function(e){return cc(e)}),sc),this.onlineState="Unknown",this.Tu=new Set}));function Zp(e,t){return $p.apply(this,arguments)}function $p(){return $p=oe(ie().mark((function e(t,n){var r,i,a,o,u;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=zo(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Jp),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Wp(e.t0,"Initialization of query '".concat(lc(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&iv(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),$p.apply(this,arguments)}function ev(e,t){return tv.apply(this,arguments)}function tv(){return tv=oe(ie().mark((function e(t,n){var r,i,a,o,u;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=zo(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),tv.apply(this,arguments)}function nv(e,t){var n,r=zo(e),i=!1,a=fe(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=fe(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&iv(r)}function rv(e,t,n){var r=zo(e),i=r.queries.get(t);if(i){var a,o=fe(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function iv(e){e.Tu.forEach((function(e){e.next()}))}var av=function(){function e(t,n,r){se(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return le(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=fe(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Yp(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),a=!0):this.Vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"Vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=Yp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),ov=function(){function e(t,n){se(this,e),this.payload=t,this.byteLength=n}return le(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),uv=function(){function e(t){se(this,e),this.wt=t}return le(e,[{key:"Wi",value:function(e){return Dl(this.wt,e)}},{key:"zi",value:function(e){return e.metadata.exists?Ml(this.wt,e.document,!1):Cs.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}},{key:"Hi",value:function(e){return Al(e)}}]),e}(),sv=function(){function e(t,n,r){se(this,e),this.xu=t,this.localStore=n,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=cv(t)}return le(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=su.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new uv(this.wt),i=fe(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Wi(a.metadata.name),s=fe(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||cl()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=oe(ie().mark((function e(){var t,n,r,i,a;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nd(this.localStore,new uv(this.wt),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=fe(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Dd(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Ou:this.collectionGroups,Mu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function cv(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var lv=le((function e(t){se(this,e),this.key=t})),fv=le((function e(t){se(this,e),this.key=t})),hv=function(){function e(t,n){se(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=cl(),this.mutatedKeys=cl(),this.Lu=dc(t),this.Uu=new Hp(this.Lu)}return le(e,[{key:"qu",get:function(){return this.Fu}},{key:"Ku",value:function(e,t){var n=this,r=t?t.Gu:new Gp,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=fc(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Lu(f,s)>0||c&&n.Lu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Gu:r,Oi:u,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Gu.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bo()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],u=0===this.Bu.size&&this.current?1:0,s=u!==this.$u;return this.$u=u,0!==a.length||s?{snapshot:new Yp(this.query,e.Uu,i,a,e.mutatedKeys,0===u,s,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new Gp,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=cl(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new fv(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new lv(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.ji,this.Bu=cl();var t=this.Ku(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return Yp.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),dv=le((function e(t,n,r){se(this,e),this.query=t,this.targetId=n,this.view=r})),pv=le((function e(t){se(this,e),this.key=t,this.Xu=!1})),vv=function(){function e(t,n,r,i,a,o){se(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new Zc((function(e){return cc(e)}),sc),this.ec=new Map,this.nc=new Set,this.sc=new Uu(fu.comparator),this.ic=new Map,this.rc=new Yh,this.oc={},this.uc=new Map,this.cc=_h.Rn(),this.onlineState="Unknown",this.ac=void 0}return le(e,[{key:"isPrimaryClient",get:function(){return!0===this.ac}}]),e}();function mv(e,t){return gv.apply(this,arguments)}function gv(){return gv=oe(ie().mark((function e(t,n){var r,i,a,o,u,s;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=cm(t),!(o=r.tc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,xd(r.localStore,oc(n));case 8:return u=e.sent,r.isPrimaryClient&&sp(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,yv(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),gv.apply(this,arguments)}function yv(e,t,n,r){return bv.apply(this,arguments)}function bv(){return bv=oe(ie().mark((function e(t,n,r,i){var a,o,u,s,c,l;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hc=function(e,n,r){return function(){var e=oe(ie().mark((function e(t,n,r,i){var a,o,u;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ku(r),e.t0=a.Oi,!e.t0){e.next=6;break}return e.next=5,_d(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ku(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Vv(t,n.targetId,u.zu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,_d(t.localStore,n,!0);case 3:return a=e.sent,o=new hv(n,a.ji),u=o.Ku(a.documents),s=dl.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),Vv(t,r,c.zu),l=new dv(n,r,o),e.abrupt("return",(t.tc.set(n,l),t.ec.has(r)?t.ec.get(r).push(n):t.ec.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),bv.apply(this,arguments)}function kv(e,t){return wv.apply(this,arguments)}function wv(){return wv=oe(ie().mark((function e(t,n){var r,i,a;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=zo(t),i=r.tc.get(n),!((a=r.ec.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ec.set(i.targetId,a.filter((function(e){return!sc(e,n)}))),void r.tc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Ed(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),cp(r.remoteStore,i.targetId),Mv(r,i.targetId)})).catch(Eu);case 9:e.next=14;break;case 11:return Mv(r,i.targetId),e.next=14,Ed(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),wv.apply(this,arguments)}function xv(e,t,n){return Ev.apply(this,arguments)}function Ev(){return Ev=oe(ie().mark((function e(t,n,r){var i,a,o;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lm(t),e.prev=1,e.next=4,function(e,t){var n,r,i=zo(e),a=au.now(),o=t.reduce((function(e,t){return e.add(t.key)}),cl());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=el(),s=cl();return i.Ui.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=fe(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Fc(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Uc(c.key,l,Ns(l.value.mapValue),Oc.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:rl(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oc[e.currentUser.toKey()];r||(r=new Uu(nu)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,zv(i,a.changes);case 9:return e.next=11,_p(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Wp(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Ev.apply(this,arguments)}function Sv(e,t){return _v.apply(this,arguments)}function _v(){return _v=oe(ie().mark((function e(t,n){var r,i;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zo(t),e.prev=1,e.next=4,bd(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ic.get(t);n&&(Uo(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?Uo(n.Xu):e.removedDocuments.size>0&&(Uo(n.Xu),n.Xu=!1))})),e.next=8,zv(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Eu(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),_v.apply(this,arguments)}function Iv(e,t,n){var r=zo(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.tc.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=zo(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=fe(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&iv(n)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Av(e,t,n){return Tv.apply(this,arguments)}function Tv(){return Tv=oe(ie().mark((function e(t,n,r){var i,a,o,u,s,c;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=zo(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ic.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Uu(fu.comparator)).insert(o,Cs.newNoDocument(o,ou.min())),s=cl().add(o),c=new hl(ou.min(),new Map,new Ku(nu),u,s),e.next=9,Sv(i,c);case 9:i.sc=i.sc.remove(o),i.ic.delete(n),Uv(i),e.next=16;break;case 14:return e.next=16,Ed(i.localStore,n,!1).then((function(){return Mv(i,n,r)})).catch(Eu);case 16:case"end":return e.stop()}}),e)}))),Tv.apply(this,arguments)}function Nv(e,t){return Cv.apply(this,arguments)}function Cv(){return Cv=oe(ie().mark((function e(t,n){var r,i,a;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zo(t),i=n.batch.batchId,e.prev=1,e.next=4,gd(r.localStore,n);case 4:return a=e.sent,jv(r,i,null),Lv(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,zv(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Eu(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Cv.apply(this,arguments)}function Dv(e,t,n){return Ov.apply(this,arguments)}function Ov(){return Ov=oe(ie().mark((function e(t,n,r){var i,a;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zo(t),e.prev=1,e.next=4,function(e,t){var n=zo(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Uo(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,jv(i,n,r),Lv(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,zv(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Eu(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Ov.apply(this,arguments)}function Pv(e,t){return Rv.apply(this,arguments)}function Rv(){return Rv=oe(ie().mark((function e(t,n){var r,i,a,o;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pp((r=zo(t)).remoteStore)||jo("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=zo(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.uc.get(i)||[]).push(n),r.uc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Wp(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Rv.apply(this,arguments)}function Lv(e,t){(e.uc.get(t)||[]).forEach((function(e){e.resolve()})),e.uc.delete(t)}function jv(e,t,n){var r=zo(e),i=r.oc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function Mv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=fe(e.ec.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.tc.delete(a),n&&e.Zu.lc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach((function(t){e.rc.containsKey(t)||Fv(e,t)}))}function Fv(e,t){e.nc.delete(t.path.canonicalString());var n=e.sc.get(t);null!==n&&(cp(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),Uv(e))}function Vv(e,t,n){var r,i=fe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof lv?(e.rc.addReference(a.key,t),Bv(e,a)):a instanceof fv?(jo("SyncEngine","Document no longer in limbo: "+a.key),e.rc.removeReference(a.key,t),e.rc.containsKey(a.key)||Fv(e,a.key)):Bo()}}catch(o){i.e(o)}finally{i.f()}}function Bv(e,t){var n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(jo("SyncEngine","New document in limbo: "+n),e.nc.add(r),Uv(e))}function Uv(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){var t=e.nc.values().next().value;e.nc.delete(t);var n=new fu(su.fromString(t)),r=e.cc.next();e.ic.set(r,new pv(n)),e.sc=e.sc.insert(n,r),sp(e.remoteStore,new Of(oc(tc(n.path)),r,2,Mu.ot))}}function zv(e,t,n){return qv.apply(this,arguments)}function qv(){return qv=oe(ie().mark((function e(t,n,r){var i,a,o,u;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=zo(t),a=[],o=[],u=[],e.t0=i.tc.isEmpty(),e.t0){e.next=9;break}return i.tc.forEach((function(e,t){u.push(i.hc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=fd.Vi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Zu.Go(a),e.next=9,function(){var e=oe(ie().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zo(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return _u.forEach(n,(function(t){return _u.forEach(t.Pi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return _u.forEach(t.vi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Cu(e.t0)){e.next=10;break}throw e.t0;case 10:jo("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=fe(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.$i.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.$i=r.$i.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),qv.apply(this,arguments)}function Kv(e,t){return Qv.apply(this,arguments)}function Qv(){return Qv=oe(ie().mark((function e(t,n){var r,i;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=zo(t)).currentUser.isEqual(n)){e.next=11;break}return jo("SyncEngine","User change. New user:",n.toKey()),e.next=5,vd(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.uc.forEach((function(e){e.forEach((function(e){e.reject(new Ko(qo.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.uc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,zv(r,i.Ki);case 11:case"end":return e.stop()}}),e)}))),Qv.apply(this,arguments)}function Wv(e,t){var n=zo(e),r=n.ic.get(t);if(r&&r.Xu)return cl().add(r.key);var i=cl(),a=n.ec.get(t);if(!a)return i;var o,u=fe(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.tc.get(s);i=i.unionWith(c.view.qu)}}catch(l){u.e(l)}finally{u.f()}return i}function Hv(e,t){return Gv.apply(this,arguments)}function Gv(){return Gv=oe(ie().mark((function e(t,n){var r,i,a;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zo(t),e.next=3,_d(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&Vv(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),Gv.apply(this,arguments)}function Yv(e,t){return Jv.apply(this,arguments)}function Jv(){return Jv=oe(ie().mark((function e(t,n){var r;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zo(t),e.abrupt("return",Ad(r.localStore,n).then((function(e){return zv(r,e)})));case 2:case"end":return e.stop()}}),e)}))),Jv.apply(this,arguments)}function Xv(e,t,n,r){return Zv.apply(this,arguments)}function Zv(){return Zv=oe(ie().mark((function e(t,n,r,i){var a,o;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=zo(t),e.next=3,function(e,t){var n=zo(e),r=zo(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.yn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):_u.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,_p(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(jv(a,n,i||null),Lv(a,n),function(e,t){zo(zo(e).mutationQueue).In(t)}(a.localStore,n)):Bo();case 11:return e.next=13,zv(a,o);case 13:e.next=16;break;case 15:jo("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Zv.apply(this,arguments)}function $v(e,t){return em.apply(this,arguments)}function em(){return em=oe(ie().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(cm(r=zo(t)),lm(r),!0!==n||!0===r.ac){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,tm(r,i.toArray());case 5:return a=e.sent,r.ac=!0,e.next=9,Up(r.remoteStore,!0);case 9:o=fe(a);try{for(o.s();!(u=o.n()).done;)s=u.value,sp(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ac){e.next=25;break}return c=[],l=Promise.resolve(),r.ec.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Mv(r,t),Ed(r.localStore,t,!0)})),cp(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,tm(r,c);case 21:return function(e){var t=zo(e);t.ic.forEach((function(e,n){cp(t.remoteStore,n)})),t.rc.cs(),t.ic=new Map,t.sc=new Uu(fu.comparator)}(r),r.ac=!1,e.next=25,Up(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),em.apply(this,arguments)}function tm(e,t,n){return nm.apply(this,arguments)}function nm(){return nm=oe(ie().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,g;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=zo(t),a=[],o=[],u=fe(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ec.get(c))||0===f.length){e.next=34;break}return e.next=11,xd(i.localStore,oc(f[0]));case 11:l=e.sent,h=fe(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.tc.get(p),e.next=20,Hv(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Id(i.localStore,c);case 36:return g=e.sent,e.next=39,xd(i.localStore,g);case 39:return l=e.sent,e.next=42,yv(i,rm(g),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Go(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),nm.apply(this,arguments)}function rm(e){return ec(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function im(e){var t=zo(e);return zo(zo(t.localStore).persistence).Ri()}function am(e,t,n,r){return om.apply(this,arguments)}function om(){return om=oe(ie().mark((function e(t,n,r,i){var a,o,u,s;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=zo(t)).ac){e.next=3;break}return e.abrupt("return",void jo("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ec.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Ad(a.localStore,hc(o[0]));case 10:return u=e.sent,s=hl.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,zv(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Ed(a.localStore,n,!0);case 17:return Mv(a,n,i),e.abrupt("break",20);case 19:Bo();case 20:case"end":return e.stop()}}),e)}))),om.apply(this,arguments)}function um(e,t,n){return sm.apply(this,arguments)}function sm(){return sm=oe(ie().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=cm(t)).ac){e.next=45;break}a=fe(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ec.has(u)){e.next=10;break}return jo("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Id(i.localStore,u);case 12:return s=e.sent,e.next=15,xd(i.localStore,s);case 15:return c=e.sent,e.next=18,yv(i,rm(s),c.targetId,!1);case 18:sp(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=fe(r),e.prev=30,h=ie().mark((function e(){var t;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ec.has(t),!e.t0){e.next=5;break}return e.next=5,Ed(i.localStore,t,!1).then((function(){cp(i.remoteStore,t),Mv(i,t)})).catch(Eu);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),sm.apply(this,arguments)}function cm(e){var t=zo(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Sv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wv.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Av.bind(null,t),t.Zu.Go=nv.bind(null,t.eventManager),t.Zu.lc=rv.bind(null,t.eventManager),t}function lm(e){var t=zo(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Nv.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Dv.bind(null,t),t}function fm(e,t,n){var r=zo(e);(function(){var e=oe(ie().mark((function e(t,n,r){var i,a,o,u,s;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=zo(e),r=Al(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(cv(i)),a=new sv(i,t.localStore,n.wt),e.next=15,n.fc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.fc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,zv(t,s.Mu,void 0);case 31:return e.next=33,function(e,t){var n=zo(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Ou));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Fo("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var hm=function(){function e(){se(this,e),this.synchronizeTabs=!1}return le(e,[{key:"initialize",value:function(){var e=oe(ie().mark((function e(t){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.wt=Jd(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),e.next=5,this.persistence.start();case 5:this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e,t){return null}},{key:"gc",value:function(e,t){return null}},{key:"wc",value:function(e){return pd(this.persistence,new hd,e.initialUser,this.wt)}},{key:"_c",value:function(e){return new td(rd.Ms,this.wt)}},{key:"dc",value:function(e){return new zd}},{key:"terminate",value:function(){var e=oe(ie().mark((function e(){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),dm=function(e){pe(n,e);var t=ye(n);function n(e,r,i){var a;return se(this,n),(a=t.call(this)).yc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return le(n,[{key:"initialize",value:function(){var e=oe(ie().mark((function e(t){var r=this;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mn(ve(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.yc.initialize(this,t);case 4:return e.next=6,lm(this.yc.syncEngine);case 6:return e.next=8,_p(this.yc.remoteStore);case 8:return e.next=10,this.persistence.ci((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wc",value:function(e){return pd(this.persistence,new hd,e.initialUser,this.wt)}},{key:"mc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Oh(n,e.asyncQueue,t)}},{key:"gc",value:function(e,t){var n=new ju(t,this.persistence);return new Lu(e.asyncQueue,n)}},{key:"_c",value:function(e){var t=ld(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?gh.withCacheSize(this.cacheSizeBytes):gh.DEFAULT;return new ud(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Gd(),Yd(),this.wt,this.sharedClientState,!!this.forceOwnership)}},{key:"dc",value:function(e){return new zd}}]),n}(hm),pm=function(e){pe(n,e);var t=ye(n);function n(e,r){var i;return se(this,n),(i=t.call(this,e,r,!1)).yc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return le(n,[{key:"initialize",value:function(){var e=oe(ie().mark((function e(t){var r,i=this;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mn(ve(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.yc.syncEngine,e.t0=this.sharedClientState instanceof Ud,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:Xv.bind(null,r),Or:am.bind(null,r),Mr:um.bind(null,r),Ri:im.bind(null,r),Nr:Yv.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.ci(function(){var e=oe(ie().mark((function e(t){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$v(i.yc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dc",value:function(e){var t=Gd();if(!Ud.V(t))throw new Ko(qo.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=ld(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ud(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(dm),vm=function(){function e(){se(this,e)}return le(e,[{key:"initialize",value:function(){var e=oe(ie().mark((function e(t,n){var r=this;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Iv(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Kv.bind(null,this.syncEngine),e.next=12,Up(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Xp}},{key:"createDatastore",value:function(e){var t,n=Jd(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Hd(t));return function(e,t,n,r){return new tp(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Iv(o.syncEngine,e,0)},a=Kd.V()?new Kd:new qd,new rp(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new vv(e,t,n,r,i,a);return o&&(u.ac=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=oe(ie().mark((function e(t){var n;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=zo(t),jo("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,op(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function mm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return oe(ie().mark((function r(){var i;return ie().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return oe(ie().mark((function e(){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var gm=function(){function e(t){se(this,e),this.observer=t,this.muted=!1}return le(e,[{key:"next",value:function(e){this.observer.next&&this.Ic(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Tc",value:function(){this.muted=!0}},{key:"Ic",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),ym=function(){function e(t,n){var r=this;se(this,e),this.Ec=t,this.wt=n,this.metadata=new Qo,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return le(e,[{key:"close",value:function(){return this.Ec.cancel()}},{key:"getMetadata",value:function(){var e=oe(ie().mark((function e(){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fc",value:function(){var e=oe(ie().mark((function e(){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Rc",value:function(){var e=oe(ie().mark((function e(){var t,n,r,i;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ac.decode(t),r=Number(n),isNaN(r)&&this.Pc("length string (".concat(n,") is not valid number")),e.next=9,this.vc(r);case 9:return i=e.sent,e.abrupt("return",new ov(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"bc",value:function(){var e=oe(ie().mark((function e(){var t,n;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Vc()<0)){e.next=7;break}return e.next=3,this.Sc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Vc())<0&&this.Pc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=oe(ie().mark((function e(t){var n;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Sc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ac.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Pc",value:function(e){throw this.Ec.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Sc",value:function(){var e=oe(ie().mark((function e(){var t,n;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ec.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),bm=function(){function e(t){se(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return le(e,[{key:"lookup",value:function(){var e=oe(ie().mark((function e(t){var n,r=this;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Ko(qo.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=oe(ie().mark((function e(t,n){var r,i,a,o,u,s;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zo(t),i=Rl(r.wt)+"/documents",a={documents:n.map((function(e){return Cl(r.wt,e)}))},e.next=5,r.ao("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Fl(r.wt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Uo(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Hc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=oe(ie().mark((function e(){var t,n=this;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=fu.fromPath(t);n.mutations.push(new Gc(r,n.precondition(r)))})),e.next=7,function(){var e=oe(ie().mark((function e(t,n){var r,i,a;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zo(t),i=Rl(r.wt)+"/documents",a={writes:n.map((function(e){return Vl(r.wt,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Bo();t=ou.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Ko(qo.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Oc.updateTime(t):Oc.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ou.min()))throw new Ko(qo.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Oc.updateTime(t)}return Oc.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),km=function(){function e(t,n,r,i,a){se(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Dc=r.maxAttempts,this.So=new Xd(this.asyncQueue,"transaction_retry")}return le(e,[{key:"run",value:function(){this.Dc-=1,this.Cc()}},{key:"Cc",value:function(){var e=this;this.So.Io(oe(ie().mark((function t(){var n,r;return ie().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new bm(e.datastore),(r=e.xc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Nc(t)}))}))})).catch((function(t){e.Nc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"xc",value:function(e){try{var t=this.updateFunction(e);return!is(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Nc",value:function(e){var t=this;this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Cc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Jc(t)}return!1}}]),e}(),wm=function(){function e(t,n,r,i){var a=this;se(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Oo.UNAUTHENTICATED,this.clientId=tu.I(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=oe(ie().mark((function e(t){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jo("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return jo("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return le(e,[{key:"getConfiguration",value:function(){var e=oe(ie().mark((function e(){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Ko(qo.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Qo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(oe(ie().mark((function n(){var r;return ie().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Wp(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function xm(e,t){return Em.apply(this,arguments)}function Em(){return Em=oe(ie().mark((function e(t,n){var r,i;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),jo("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=oe(ie().mark((function e(t){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,vd(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Em.apply(this,arguments)}function Sm(e,t){return _m.apply(this,arguments)}function _m(){return _m=oe(ie().mark((function e(t,n){var r,i;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Im(t);case 3:return r=e.sent,jo("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Vp(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Vp(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),_m.apply(this,arguments)}function Im(e){return Am.apply(this,arguments)}function Am(){return Am=oe(ie().mark((function e(t){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return jo("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,xm(t,new hm);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Am.apply(this,arguments)}function Tm(e){return Nm.apply(this,arguments)}function Nm(){return Nm=oe(ie().mark((function e(t){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return jo("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Sm(t,new vm);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Nm.apply(this,arguments)}function Cm(e){return Im(e).then((function(e){return e.persistence}))}function Dm(e){return Im(e).then((function(e){return e.localStore}))}function Om(e){return Tm(e).then((function(e){return e.remoteStore}))}function Pm(e){return Tm(e).then((function(e){return e.syncEngine}))}function Rm(e){return Lm.apply(this,arguments)}function Lm(){return Lm=oe(ie().mark((function e(t){var n,r;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tm(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=mv.bind(null,n.syncEngine),r.onUnlisten=kv.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Lm.apply(this,arguments)}function jm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Qo;return e.asyncQueue.enqueueAndForget(oe(ie().mark((function i(){return ie().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new gm({next:function(a){t.enqueueAndForget((function(){return ev(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Ko(qo.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Ko(qo.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new av(tc(n.path),a,{includeMetadataChanges:!0,Du:!0});return Zp(e,o)},i.next=3,Rm(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Mm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Qo;return e.asyncQueue.enqueueAndForget(oe(ie().mark((function i(){return ie().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new gm({next:function(n){t.enqueueAndForget((function(){return ev(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Ko(qo.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new av(n,a,{includeMetadataChanges:!0,Du:!0});return Zp(e,o)},i.next=3,Rm(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Fm=new Map;function Vm(e,t,n){if(!n)throw new Ko(qo.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Bm(e,t,n,r){if(!0===t&&!0===r)throw new Ko(qo.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Um(e){if(!fu.isDocumentKey(e))throw new Ko(qo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function zm(e){if(fu.isDocumentKey(e))throw new Ko(qo.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function qm(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Bo()}function Km(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ko(qo.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=qm(e);throw new Ko(qo.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Qm(e,t){if(t<=0)throw new Ko(qo.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Wm=function(){function e(t){var n;if(se(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Ko(qo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ko(qo.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Bm("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return le(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Hm=function(){function e(t,n,r){se(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wm({}),this._settingsFrozen=!1,t instanceof rs?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ko(qo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rs(e.options.projectId)}(t))}return le(e,[{key:"app",get:function(){if(!this._app)throw new Ko(qo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Ko(qo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wm(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ho;switch(e.type){case"gapi":var t=e.client;return Uo(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Xo(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Ko(qo.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Fm.get(e);t&&(jo("ComponentProvider","Removing Datastore"),Fm.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Gm(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Km(e,Hm))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Fo("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Oo.MOCK_USER;else{o=Ie(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Ko(qo.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Oo(s)}e._authCredentials=new Go(new Wo(o,u))}}var Ym=function(){function e(t,n,r){se(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return le(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Xm(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Jm=function(){function e(t,n,r){se(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return le(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Xm=function(e){pe(n,e);var t=ye(n);function n(e,r,i){var a;return se(this,n),(a=t.call(this,e,r,tc(i)))._path=i,a.type="collection",a}return le(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Ym(this.firestore,null,new fu(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Jm);function Zm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Be(e),Vm("collection","path",t),e instanceof Hm){var a=su.fromString.apply(su,[t].concat(r));return zm(a),new Xm(e,null,a)}if(!(e instanceof Ym||e instanceof Xm))throw new Ko(qo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(su.fromString.apply(su,[t].concat(r)));return zm(o),new Xm(e.firestore,null,o)}function $m(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Be(e),1===arguments.length&&(t=tu.I()),Vm("doc","path",t),e instanceof Hm){var a=su.fromString.apply(su,[t].concat(r));return Um(a),new Ym(e,null,new fu(a))}if(!(e instanceof Ym||e instanceof Xm))throw new Ko(qo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(su.fromString.apply(su,[t].concat(r)));return Um(o),new Ym(e.firestore,e instanceof Xm?e.converter:null,new fu(o))}function eg(e,t){return e=Be(e),t=Be(t),(e instanceof Ym||e instanceof Xm)&&(t instanceof Ym||t instanceof Xm)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function tg(e,t){return e=Be(e),t=Be(t),e instanceof Jm&&t instanceof Jm&&e.firestore===t.firestore&&sc(e._query,t._query)&&e.converter===t.converter}var ng=function(){function e(){var t=this;se(this,e),this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new Xd(this,"async_queue_retry"),this.Kc=function(){var e=Yd();e&&jo("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=Yd();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}return le(e,[{key:"isShuttingDown",get:function(){return this.Fc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Gc(),this.Qc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;var t=Yd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Gc(),this.Fc)return new Promise((function(){}));var n=new Qo;return this.Qc((function(){return t.Fc&&t.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Mc.push(e),t.jc()}))}},{key:"jc",value:function(){var e=oe(ie().mark((function e(){var t=this;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Mc.length){e.next=14;break}return e.prev=1,e.next=4,this.Mc[0]();case 4:this.Mc.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Cu(e.t0)){e.next=12;break}throw e.t0;case 12:jo("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Mc.length>0&&this.So.Io((function(){return t.jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){var t=this,n=this.Oc.then((function(){return t.Lc=!0,e().catch((function(e){t.Bc=e,t.Lc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Mo("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Lc=!1,e}))}));return this.Oc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Gc(),this.qc.indexOf(e)>-1&&(t=0);var i=Qp.createAndSchedule(this,e,t,n,(function(e){return r.Wc(e)}));return this.$c.push(i),i}},{key:"Gc",value:function(){this.Bc&&Bo()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=oe(ie().mark((function e(){var t;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Oc,e.next=3,t;case 3:if(t!==this.Oc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t,n=fe(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Jc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=fe(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Yc",value:function(e){this.qc.push(e)}},{key:"Wc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function rg(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=fe(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var ig=function(){function e(){se(this,e),this._progressObserver={},this._taskCompletionResolver=new Qo,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return le(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),ag=function(e){pe(n,e);var t=ye(n);function n(e,r,i){var a;return se(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new ng,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return le(n,[{key:"_terminate",value:function(){return this._firestoreClient||ug(this),this._firestoreClient.terminate()}}]),n}(Hm);function og(e){return e._firestoreClient||ug(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ug(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new ns(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new wm(e._authCredentials,e._appCheckCredentials,e._queue,r)}function sg(e,t,n){var r=new Qo;return e.asyncQueue.enqueue(oe(ie().mark((function i(){return ie().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,xm(e,n);case 3:return i.next=5,Sm(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===qo.FAILED_PRECONDITION||e.code===qo.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function cg(e){return function(e){return e.asyncQueue.enqueue(oe(ie().mark((function t(){var n,r;return ie().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Cm(e);case 2:return n=t.sent,t.next=5,Om(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=zo(e);return t.lu.delete(0),ip(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(og(e=Km(e,ag)))}function lg(e){return function(e){return e.asyncQueue.enqueue(oe(ie().mark((function t(){var n,r;return ie().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Cm(e);case 2:return n=t.sent,t.next=5,Om(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=oe(ie().mark((function e(t){var n;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=zo(t)).lu.add(0),e.next=4,op(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(og(e=Km(e,ag)))}function fg(e,t){var n=og(e=Km(e,ag)),r=new ig;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new ym(e,t)}(function(e,t){if(e instanceof Uint8Array)return mm(e,t);if(e instanceof ArrayBuffer)return mm(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Jd(t));e.asyncQueue.enqueueAndForget(oe(ie().mark((function t(){return ie().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=fm,t.next=3,Pm(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function hg(e,t){return function(e,t){return e.asyncQueue.enqueue(oe(ie().mark((function n(){return ie().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=zo(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ds.getNamedQuery(e,t)}))},n.next=3,Dm(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(og(e=Km(e,ag)),t).then((function(t){return t?new Jm(e,null,t.query):null}))}function dg(e){if(e._initialized||e._terminated)throw new Ko(qo.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var pg=function(){function e(){se(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Ko(qo.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lu(n)}return le(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var vg=function(){function e(t){se(this,e),this._byteString=t}return le(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Gu.fromBase64String(t))}catch(t){throw new Ko(qo.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Gu.fromUint8Array(t))}}]),e}(),mg=le((function e(t){se(this,e),this._methodName=t})),gg=function(){function e(t,n){if(se(this,e),!isFinite(t)||t<-90||t>90)throw new Ko(qo.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Ko(qo.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return le(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return nu(this._lat,e._lat)||nu(this._long,e._long)}}]),e}(),yg=/^__.*__$/,bg=function(){function e(t,n,r){se(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return le(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Uc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bc(e,this.data,t,this.fieldTransforms)}}]),e}(),kg=function(){function e(t,n,r){se(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return le(e,[{key:"toMutation",value:function(e,t){return new Uc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function wg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bo()}}var xg=function(){function e(t,n,r,i,a,o){se(this,e),this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return le(e,[{key:"path",get:function(){return this.settings.path}},{key:"Zc",get:function(){return this.settings.Zc}},{key:"ta",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ea",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}},{key:"ra",value:function(e){return this.ta({path:void 0,na:!0})}},{key:"oa",value:function(e){return zg(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.sa(this.path.get(e))}},{key:"sa",value:function(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(wg(this.Zc)&&yg.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}]),e}(),Eg=function(){function e(t,n,r){se(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||Jd(t)}return le(e,[{key:"aa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new xg({Zc:e,methodName:t,ca:n,path:lu.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}]),e}();function Sg(e){var t=e._freezeSettings(),n=Jd(e._databaseId);return new Eg(e._databaseId,!!t.ignoreUndefinedProperties,n)}function _g(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.aa(a.merge||a.mergeFields?2:0,t,n,i);Fg("Data must be an object, but it was:",o,r);var u,s,c=jg(r,o);if(a.merge)u=new Hu(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=fe(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=Vg(t,d,n);if(!o.contains(p))throw new Ko(qo.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));qg(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Hu(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new bg(new Ts(c),u,s)}var Ig=function(e){pe(n,e);var t=ye(n);function n(){return se(this,n),t.apply(this,arguments)}return le(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Zc)throw 1===e.Zc?e.oa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.oa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(mg);function Ag(e,t,n){return new xg({Zc:3,ca:t.settings.ca,methodName:e._methodName,na:n},t.databaseId,t.wt,t.ignoreUndefinedProperties)}var Tg=function(e){pe(n,e);var t=ye(n);function n(){return se(this,n),t.apply(this,arguments)}return le(n,[{key:"_toFieldTransform",value:function(e){return new Cc(e.path,new xc)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(mg),Ng=function(e){pe(n,e);var t=ye(n);function n(e,r){var i;return se(this,n),(i=t.call(this,e)).ha=r,i}return le(n,[{key:"_toFieldTransform",value:function(e){var t=Ag(this,e,!0),n=this.ha.map((function(e){return Lg(e,t)})),r=new Ec(n);return new Cc(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(mg),Cg=function(e){pe(n,e);var t=ye(n);function n(e,r){var i;return se(this,n),(i=t.call(this,e)).ha=r,i}return le(n,[{key:"_toFieldTransform",value:function(e){var t=Ag(this,e,!0),n=this.ha.map((function(e){return Lg(e,t)})),r=new _c(n);return new Cc(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(mg),Dg=function(e){pe(n,e);var t=ye(n);function n(e,r){var i;return se(this,n),(i=t.call(this,e)).la=r,i}return le(n,[{key:"_toFieldTransform",value:function(e){var t=new Ac(e.wt,gc(e.wt,this.la));return new Cc(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(mg);function Og(e,t,n,r){var i=e.aa(1,t,n);Fg("Data must be an object, but it was:",i,r);var a=[],o=Ts.empty();Vu(r,(function(e,r){var u=Ug(t,e,n);r=Be(r);var s=i.ia(u);if(r instanceof Ig)a.push(u);else{var c=Lg(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Hu(a);return new kg(o,u,i.fieldTransforms)}function Pg(e,t,n,r,i,a){var o=e.aa(1,t,n),u=[Vg(t,r,n)],s=[i];if(a.length%2!=0)throw new Ko(qo.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(Vg(t,a[c])),s.push(a[c+1]);for(var l=[],f=Ts.empty(),h=u.length-1;h>=0;--h)if(!qg(l,u[h])){var d=u[h],p=s[h];p=Be(p);var v=o.ia(d);if(p instanceof Ig)l.push(d);else{var m=Lg(p,v);null!=m&&(l.push(d),f.set(d,m))}}var g=new Hu(l);return new kg(f,g,o.fieldTransforms)}function Rg(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Lg(n,e.aa(r?4:3,t))}function Lg(e,t){if(Mg(e=Be(e)))return Fg("Unsupported field value:",t,e),jg(e,t);if(e instanceof mg)return function(e,t){if(!wg(t.Zc))throw t.oa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.oa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=fe(e);try{for(a.s();!(n=a.n()).done;){var o=Lg(n.value,t.ra(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Be(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return gc(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=au.fromDate(e);return{timestampValue:Sl(t.wt,n)}}if(e instanceof au){var r=new au(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Sl(t.wt,r)}}if(e instanceof gg)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof vg)return{bytesValue:_l(t.wt,e._byteString)};if(e instanceof Ym){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.oa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Tl(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa("Unsupported field value: ".concat(qm(e)))}(e,t)}function jg(e,t){var n={};return Bu(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Vu(e,(function(e,r){var i=Lg(r,t.ea(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Mg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof au||e instanceof gg||e instanceof vg||e instanceof Ym||e instanceof mg)}function Fg(e,t,n){if(!Mg(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=qm(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function Vg(e,t,n){if((t=Be(t))instanceof pg)return t._internalPath;if("string"==typeof t)return Ug(e,t);throw zg("Field path arguments must be of type string or ",e,!1,void 0,n)}var Bg=new RegExp("[~\\*/\\[\\]]");function Ug(e,t,n){if(t.search(Bg)>=0)throw zg("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return be(pg,Ue(t.split(".")))._internalPath}catch(r){throw zg("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function zg(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Ko(qo.INVALID_ARGUMENT,u+e+s)}function qg(e,t){return e.some((function(e){return e.isEqual(t)}))}var Kg=function(){function e(t,n,r,i,a){se(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return le(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Ym(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Qg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Wg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Qg=function(e){pe(n,e);var t=ye(n);function n(){return se(this,n),t.apply(this,arguments)}return le(n,[{key:"data",value:function(){return mn(ve(n.prototype),"data",this).call(this)}}]),n}(Kg);function Wg(e,t){return"string"==typeof t?Ug(e,t):t instanceof pg?t._internalPath:t._delegate._internalPath}var Hg=function(){function e(t,n){se(this,e),this.hasPendingWrites=t,this.fromCache=n}return le(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Gg=function(e){pe(n,e);var t=ye(n);function n(e,r,i,a,o,u){var s;return se(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return le(n,[{key:"exists",value:function(){return mn(ve(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Yg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Wg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Kg),Yg=function(e){pe(n,e);var t=ye(n);function n(){return se(this,n),t.apply(this,arguments)}return le(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return mn(ve(n.prototype),"data",this).call(this,e)}}]),n}(Gg),Jg=function(){function e(t,n,r,i){se(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Hg(i.hasPendingWrites,i.fromCache),this.query=r}return le(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Yg(n._firestore,n._userDataWriter,r.key,r,new Hg(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ko(qo.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Yg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Hg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Yg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Hg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Xg(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Xg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bo()}}function Zg(e,t){return e instanceof Gg&&t instanceof Gg?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Jg&&t instanceof Jg&&e._firestore===t._firestore&&tg(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function $g(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Ko(qo.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ey=le((function e(){se(this,e)}));function ty(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var ny=function(e){pe(n,e);var t=ye(n);function n(e,r,i){var a;return se(this,n),(a=t.call(this)).fa=e,a.da=r,a._a=i,a.type="where",a}return le(n,[{key:"_apply",value:function(e){var t=Sg(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Ko(qo.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){vy(o,a);var s,c=[],l=fe(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(py(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=py(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||vy(o,a),u=Rg(n,"where",o,"in"===a||"not-in"===a);var h=Vs.create(i,a,u);return function(e,t){if(t.ht()){var n=rc(e);if(null!==n&&!n.isEqual(t.field))throw new Ko(qo.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=nc(e);null!==r&&my(e,t.field,r)}var i=function(e,t){var n,r=fe(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Ko(qo.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Ko(qo.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new Jm(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new $s(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(ey);var ry=function(e){pe(n,e);var t=ye(n);function n(e,r){var i;return se(this,n),(i=t.call(this)).fa=e,i.wa=r,i.type="orderBy",i}return le(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Ko(qo.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Ko(qo.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ys(t,n);return function(e,t){if(null===nc(e)){var n=rc(e);null!==n&&my(e,n,t.field)}}(e,r),r}(e._query,this.fa,this.wa);return new Jm(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new $s(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(ey);function iy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=Wg("orderBy",e);return new ry(r,n)}var ay=function(e){pe(n,e);var t=ye(n);function n(e,r,i){var a;return se(this,n),(a=t.call(this)).type=e,a.ma=r,a.ga=i,a}return le(n,[{key:"_apply",value:function(e){return new Jm(e.firestore,e.converter,uc(e._query,this.ma,this.ga))}}]),n}(ey);function oy(e){return Qm("limit",e),new ay("limit",e,"F")}var uy=function(e){pe(n,e);var t=ye(n);function n(e,r,i){var a;return se(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return le(n,[{key:"_apply",value:function(e){var t=dy(e,this.type,this.ya,this.pa);return new Jm(e.firestore,e.converter,function(e,t){return new $s(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(ey);function sy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new uy("startAt",t,!0)}function cy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new uy("startAfter",t,!1)}var ly=function(e){pe(n,e);var t=ye(n);function n(e,r,i){var a;return se(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return le(n,[{key:"_apply",value:function(e){var t=dy(e,this.type,this.ya,this.pa);return new Jm(e.firestore,e.converter,function(e,t){return new $s(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(ey);function fy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ly("endBefore",t,!1)}function hy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ly("endAt",t,!0)}function dy(e,t,n,r){if(n[0]=Be(n[0]),n[0]instanceof Kg)return function(e,t,n,r,i){if(!r)throw new Ko(qo.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=fe(ac(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(ms(t,r.key));else{var c=r.data.field(s.field);if($u(c))throw new Ko(qo.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Ko(qo.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Gs(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Sg(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Ko(qo.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Ko(qo.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!ic(e)&&-1!==c.indexOf("/"))throw new Ko(qo.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(su.fromString(c));if(!fu.isDocumentKey(l))throw new Ko(qo.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new fu(l);u.push(ms(t,f))}else{var h=Rg(n,r,c);u.push(h)}}return new Gs(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function py(e,t,n){if("string"==typeof(n=Be(n))){if(""===n)throw new Ko(qo.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ic(t)&&-1!==n.indexOf("/"))throw new Ko(qo.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(su.fromString(n));if(!fu.isDocumentKey(r))throw new Ko(qo.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ms(e,new fu(r))}if(n instanceof Ym)return ms(e,n._key);throw new Ko(qo.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(qm(n),"."))}function vy(e,t){if(!Array.isArray(e)||0===e.length)throw new Ko(qo.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Ko(qo.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function my(e,t,n){if(!n.isEqual(t))throw new Ko(qo.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var gy={maxAttempts:5},yy=function(){function e(){se(this,e)}return le(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xu(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Bo()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Vu(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new gg(Xu(e.latitude),Xu(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=es(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ts(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Ju(e);return new au(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=su.fromString(e);Uo(Zl(n));var r=new rs(n.get(1),n.get(3)),i=new fu(n.popFirst(5));return r.isEqual(t)||Mo("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function by(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var ky=function(e){pe(n,e);var t=ye(n);function n(e){var r;return se(this,n),(r=t.call(this)).firestore=e,r}return le(n,[{key:"convertBytes",value:function(e){return new vg(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ym(this.firestore,null,t)}}]),n}(yy),wy=function(){function e(t,n){se(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Sg(t)}return le(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=xy(e,this._firestore),i=by(r.converter,t,n),a=_g(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Oc.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=xy(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Be(t))||t instanceof pg?Pg(this._dataReader,"WriteBatch.update",i._key,t,n,o):Og(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Oc.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=xy(e,this._firestore);return this._mutations=this._mutations.concat(new Hc(t._key,Oc.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Ko(qo.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function xy(e,t){if((e=Be(e)).firestore!==t)throw new Ko(qo.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function Ey(e){e=Km(e,Ym);var t=Km(e.firestore,ag);return jm(og(t),e._key).then((function(n){return Py(t,e,n)}))}var Sy=function(e){pe(n,e);var t=ye(n);function n(e){var r;return se(this,n),(r=t.call(this)).firestore=e,r}return le(n,[{key:"convertBytes",value:function(e){return new vg(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ym(this.firestore,null,t)}}]),n}(yy);function _y(e){e=Km(e,Ym);var t=Km(e.firestore,ag),n=og(t),r=new Sy(t);return function(e,t){var n=new Qo;return e.asyncQueue.enqueueAndForget(oe(ie().mark((function r(){return ie().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=oe(ie().mark((function e(t,n,r){var i,a;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=zo(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Ko(qo.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Wp(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Dm(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Gg(t,r,e._key,n,new Hg(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Iy(e){e=Km(e,Jm);var t=Km(e.firestore,ag),n=og(t),r=new Sy(t);return $g(e._query),Mm(n,e._query).then((function(n){return new Jg(t,r,e,n)}))}function Ay(e){e=Km(e,Jm);var t=Km(e.firestore,ag),n=og(t),r=new Sy(t);return function(e,t){var n=new Qo;return e.asyncQueue.enqueueAndForget(oe(ie().mark((function r(){return ie().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=oe(ie().mark((function e(t,n,r){var i,a,o,u,s;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_d(t,n,!0);case 3:i=e.sent,a=new hv(n,i.ji),o=a.Ku(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Wp(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Dm(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Jg(t,r,e,n)}))}function Ty(e,t,n){e=Km(e,Ym);var r=Km(e.firestore,ag),i=by(e.converter,t,n);return Oy(r,[_g(Sg(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Oc.none())])}function Ny(e,t,n){e=Km(e,Ym);for(var r=Km(e.firestore,ag),i=Sg(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return Oy(r,[("string"==typeof(t=Be(t))||t instanceof pg?Pg(i,"updateDoc",e._key,t,n,o):Og(i,"updateDoc",e._key,t)).toMutation(e._key,Oc.exists(!0))])}function Cy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Be(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||rg(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(rg(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Ym)l=Km(e.firestore,ag),f=tc(e._key.path),c={next:function(t){n[s]&&n[s](Py(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=Km(e,Jm);l=Km(p.firestore,ag),f=p._query;var v=new Sy(l);c={next:function(e){n[s]&&n[s](new Jg(l,v,p,e))},error:n[s+1],complete:n[s+2]},$g(e._query)}return function(e,t,n,r){var i=new gm(r),a=new av(t,i,n);return e.asyncQueue.enqueueAndForget(oe(ie().mark((function t(){return ie().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Zp,t.next=3,Rm(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Tc(),e.asyncQueue.enqueueAndForget(oe(ie().mark((function t(){return ie().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ev,t.next=3,Rm(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(og(l),f,h,c)}function Dy(e,t){return function(e,t){var n=new gm(t);return e.asyncQueue.enqueueAndForget(oe(ie().mark((function t(){return ie().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){zo(e).Tu.add(t),t.next()},t.next=3,Rm(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Tc(),e.asyncQueue.enqueueAndForget(oe(ie().mark((function t(){return ie().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){zo(e).Tu.delete(t)},t.next=3,Rm(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(og(e=Km(e,ag)),rg(t)?t:{next:t})}function Oy(e,t){return function(e,t){var n=new Qo;return e.asyncQueue.enqueueAndForget(oe(ie().mark((function r(){return ie().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=xv,r.next=3,Pm(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(og(e),t)}function Py(e,t,n){var r=n.docs.get(t._key),i=new Sy(e);return new Gg(e,i,t._key,r,new Hg(n.hasPendingWrites,n.fromCache),t.converter)}var Ry=function(e){pe(n,e);var t=ye(n);function n(e,r){var i;return se(this,n),(i=t.call(this,e,r))._firestore=e,i}return le(n,[{key:"get",value:function(e){var t=this,r=xy(e,this._firestore),i=new Sy(this._firestore);return mn(ve(n.prototype),"get",this).call(this,e).then((function(e){return new Gg(t._firestore,i,r._key,e._document,new Hg(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){se(this,e),this._firestore=t,this._transaction=n,this._dataReader=Sg(t)}return le(e,[{key:"get",value:function(e){var t=this,n=xy(e,this._firestore),r=new ky(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Bo();var i=e[0];if(i.isFoundDocument())return new Kg(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Kg(t._firestore,r,n._key,null,n.converter);throw Bo()}))}},{key:"set",value:function(e,t,n){var r=xy(e,this._firestore),i=by(r.converter,t,n),a=_g(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=xy(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Be(t))||t instanceof pg?Pg(this._dataReader,"Transaction.update",i._key,t,n,o):Og(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=xy(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Ly(e,t,n){e=Km(e,ag);var r=Object.assign(Object.assign({},gy),n);return function(e){if(e.maxAttempts<1)throw new Ko(qo.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Qo;return e.asyncQueue.enqueueAndForget(oe(ie().mark((function i(){var a;return ie().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return Tm(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new km(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(og(e),(function(n){return t(new Ry(e,n))}),r)}function jy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ng("arrayUnion",t)}function My(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Cg("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Po=e}(Mt),Ct(new ze("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new ag(i,new Yo(e.getProvider("auth-internal")),new $o(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),qt(Do,"3.4.10",e),qt(Do,"3.4.10","esm2017")}();function Fy(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ko("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Vy(){if("undefined"===typeof Uint8Array)throw new Ko("unimplemented","Uint8Arrays are not available in this environment.")}function By(){if("undefined"==typeof atob)throw new Ko("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Uy=function(){function e(t){se(this,e),this._delegate=t}return le(e,[{key:"toBase64",value:function(){return By(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return Vy(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return By(),new e(vg.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return Vy(),new e(vg.fromUint8Array(t))}}]),e}();function zy(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=fe(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var qy=function(){function e(){se(this,e)}return le(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){dg(e=Km(e,ag));var n=og(e),r=e._freezeSettings(),i=new vm;return sg(n,i,new dm(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){dg(e=Km(e,ag));var t=og(e),n=e._freezeSettings(),r=new vm;return sg(t,r,new pm(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Ko(qo.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Qo;return e._queue.enqueueAndForgetEvenWhileRestricted(oe(ie().mark((function n(){return ie().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=oe(ie().mark((function e(t){var n;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Au.V()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Au.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(ld(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),Ky=function(){function e(t,n,r){var i=this;se(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof rs||(this._appCompat=t)}return le(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Fo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Gm(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return cg(this._delegate)}},{key:"disableNetwork",value:function(){return lg(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&Bm("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Qo;return e.asyncQueue.enqueueAndForget(oe(ie().mark((function n(){return ie().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Pv,n.next=3,Pm(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(og(e=Km(e,ag)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Dy(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Ko("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new ib(this,Zm(this._delegate,e))}catch(t){throw Jy(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new Yy(this,$m(this._delegate,e))}catch(t){throw Jy(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new tb(this,function(e,t){if(e=Km(e,Hm),Vm("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ko(qo.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Jm(e,null,function(e){return new $s(su.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Jy(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return Ly(this._delegate,(function(n){return e(new Wy(t,n))}))}},{key:"batch",value:function(){var e=this;return og(this._delegate),new Hy(new wy(this._delegate,(function(t){return Oy(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return fg(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return hg(this._delegate,e).then((function(e){return e?new tb(t,e):null}))}}]),e}(),Qy=function(e){pe(n,e);var t=ye(n);function n(e){var r;return se(this,n),(r=t.call(this)).firestore=e,r}return le(n,[{key:"convertBytes",value:function(e){return new Uy(new vg(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Yy.forKey(t,this.firestore,null)}}]),n}(yy);var Wy=function(){function e(t,n){se(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new Qy(t)}return le(e,[{key:"get",value:function(e){var t=this,n=ab(e);return this._delegate.get(n).then((function(e){return new $y(t._firestore,new Gg(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=ab(e);return n?(Fy("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=ab(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=ab(e);return this._delegate.delete(t),this}}]),e}(),Hy=function(){function e(t){se(this,e),this._delegate=t}return le(e,[{key:"set",value:function(e,t,n){var r=ab(e);return n?(Fy("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=ab(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=ab(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),Gy=function(){function e(t,n,r){se(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return le(e,[{key:"fromFirestore",value:function(e,t){var n=new Yg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new eb(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new Qy(t),n),i.set(n,a)),a}}]),e}();Gy.INSTANCES=new WeakMap;var Yy=function(){function e(t,n){se(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Qy(t)}return le(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new ib(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new ib(this.firestore,Zm(this._delegate,e))}catch(t){throw Jy(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Be(e))instanceof Ym&&eg(this._delegate,e)}},{key:"set",value:function(e,t){t=Fy("DocumentReference.set",t);try{return t?Ty(this._delegate,e,t):Ty(this._delegate,e)}catch(n){throw Jy(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Ny(this._delegate,e):Ny.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw Jy(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return Oy(Km(e.firestore,ag),[new Hc(e._key,Oc.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Xy(n),a=Zy(n,(function(t){return new $y(e.firestore,new Gg(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Cy(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?_y(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Km(e,Ym);var t=Km(e.firestore,ag);return jm(og(t),e._key,{source:"server"}).then((function(n){return Py(t,e,n)}))}(this._delegate):Ey(this._delegate),t.then((function(e){return new $y(n.firestore,new Gg(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Gy.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Ko("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Ym(n._delegate,r,new fu(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Ym(n._delegate,r,t))}}]),e}();function Jy(e,t,n){return e.message=e.message.replace(t,n),e}function Xy(e){var t,n=fe(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!zy(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function Zy(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=zy(e[0])?e[0]:zy(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var $y=function(){function e(t,n){se(this,e),this._firestore=t,this._delegate=n}return le(e,[{key:"ref",get:function(){return new Yy(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Zg(this._delegate,e._delegate)}}]),e}(),eb=function(e){pe(n,e);var t=ye(n);function n(){return se(this,n),t.apply(this,arguments)}return le(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Bo()}(void 0!==t),t}}]),n}($y),tb=function(){function e(t,n){se(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Qy(t)}return le(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,ty(this._delegate,function(e,t,n){var r=t,i=Wg("where",e);return new ny(i,r,n)}(t,n,r)))}catch(i){throw Jy(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,ty(this._delegate,iy(t,n)))}catch(r){throw Jy(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,ty(this._delegate,oy(t)))}catch(n){throw Jy(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,ty(this._delegate,function(e){return Qm("limitToLast",e),new ay("limitToLast",e,"L")}(t)))}catch(n){throw Jy(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,ty(this._delegate,sy.apply(void 0,arguments)))}catch(t){throw Jy(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,ty(this._delegate,cy.apply(void 0,arguments)))}catch(t){throw Jy(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,ty(this._delegate,fy.apply(void 0,arguments)))}catch(t){throw Jy(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,ty(this._delegate,hy.apply(void 0,arguments)))}catch(t){throw Jy(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return tg(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Ay(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Km(e,Jm);var t=Km(e.firestore,ag),n=og(t),r=new Sy(t);return Mm(n,e._query,{source:"server"}).then((function(n){return new Jg(t,r,e,n)}))}(this._delegate):Iy(this._delegate),t.then((function(e){return new rb(n.firestore,new Jg(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Xy(n),a=Zy(n,(function(t){return new rb(e.firestore,new Jg(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Cy(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Gy.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),nb=function(){function e(t,n){se(this,e),this._firestore=t,this._delegate=n}return le(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new eb(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),rb=function(){function e(t,n){se(this,e),this._firestore=t,this._delegate=n}return le(e,[{key:"query",get:function(){return new tb(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new eb(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new nb(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new eb(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Zg(this._delegate,e._delegate)}}]),e}(),ib=function(e){pe(n,e);var t=ye(n);function n(e,r){var i;return se(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return le(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new Yy(this.firestore,e):null}},{key:"doc",value:function(e){try{return new Yy(this.firestore,void 0===e?$m(this._delegate):$m(this._delegate,e))}catch(t){throw Jy(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=Km(e.firestore,ag),r=$m(e),i=by(e.converter,t);return Oy(n,[_g(Sg(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Oc.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Yy(t.firestore,e)}))}},{key:"isEqual",value:function(e){return eg(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(Gy.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(tb);function ab(e){return Km(e,Ym)}var ob,ub=function(){function e(){se(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=be(pg,n)}return le(e,[{key:"isEqual",value:function(e){return(e=Be(e))instanceof pg&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(lu.keyField().canonicalString())}}]),e}(),sb=function(){function e(t){se(this,e),this._delegate=t}return le(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new Tg("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new Ig("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=jy.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=My.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new Dg("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),cb={Firestore:Ky,GeoPoint:gg,Timestamp:au,Blob:Uy,Transaction:Wy,WriteBatch:Hy,DocumentReference:Yy,DocumentSnapshot:$y,Query:tb,QueryDocumentSnapshot:eb,QuerySnapshot:rb,CollectionReference:ib,FieldPath:ub,FieldValue:sb,setLogLevel:function(e){!function(e){Ro.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new ze("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},cb)))})(ob=pn,(function(e,t){return new Ky(e,t,new qy)})),ob.registerVersion("@firebase/firestore-compat","0.1.19");var lb="firebasestorage.googleapis.com",fb=function(e){pe(n,e);var t=ye(n);function n(e,r){var i;return se(this,n),(i=t.call(this,hb(e),"Firebase Storage: ".concat(r," (").concat(hb(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(he(i),n.prototype),i}return le(n,[{key:"_codeEquals",value:function(e){return hb(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Ce);function hb(e){return"storage/"+e}function db(){return new fb("unknown","An unknown error occurred, please check the error payload for server response.")}function pb(){return new fb("canceled","User canceled the upload/download.")}function vb(e){return new fb("invalid-argument",e)}function mb(){return new fb("app-deleted","The Firebase app was deleted.")}function gb(e){throw new fb("internal-error","Internal error: "+e)}var yb,bb=function(){function e(t,n){se(this,e),this.bucket=t,this.path_=n}return le(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new fb("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===lb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new fb("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),kb=function(){function e(t){se(this,e),this.promise_=Promise.reject(t)}return le(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function wb(e){return"string"===typeof e||e instanceof String}function xb(e,t,n,r){if(r<t)throw vb("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw vb("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Eb(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Sb(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(yb||(yb={}));var _b=function(){function e(t,n,r,i,a,o,u,s,c,l,f){var h=this;se(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return le(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=db();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?mb():pb());else i(new fb("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new Ib(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new Ib(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===yb.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new Ib(o,r))}else{var u=r.getErrorCode()===yb.ABORT;t(!1,new Ib(!1,null,u))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),Ib=le((function e(t,n,r){se(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function Ab(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Tb(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Nb(e,t){return t}var Cb=le((function e(t,n,r,i){se(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||Nb})),Db=null;function Ob(){if(Db)return Db;var e=[];e.push(new Cb("bucket")),e.push(new Cb("generation")),e.push(new Cb("metageneration")),e.push(new Cb("name","fullPath",!0));var t=new Cb("name");t.xform=function(e,t){return function(e){return!wb(e)||e.length<2?e:Tb(e)}(t)},e.push(t);var n=new Cb("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Cb("timeCreated")),e.push(new Cb("updated")),e.push(new Cb("md5Hash",null,!0)),e.push(new Cb("cacheControl",null,!0)),e.push(new Cb("contentDisposition",null,!0)),e.push(new Cb("contentEncoding",null,!0)),e.push(new Cb("contentLanguage",null,!0)),e.push(new Cb("contentType",null,!0)),e.push(new Cb("metadata","customMetadata",!0)),Db=e}function Pb(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new bb(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Rb(e,t,n){var r=Ab(t);return null===r?null:Pb(e,r,n)}var Lb=le((function e(t,n,r,i){se(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function jb(e){if(!e)throw db()}function Mb(e,t){return function(n,r){var i=Rb(e,r,t);return jb(null!==i),function(e,t,n,r){var i=Ab(t);if(null===i)return null;if(!wb(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return Eb("/b/"+o(i)+"/o/"+o(a),n,r)+Sb({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function Fb(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new fb("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new fb("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new fb("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new fb("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function Vb(e){var t=Fb(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new fb("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}var Bb=function(){function e(){var t=this;se(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=yb.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=yb.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=yb.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return le(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw gb("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw gb("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw gb("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw gb("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw gb("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),Ub=function(e){pe(n,e);var t=ye(n);function n(){return se(this,n),t.apply(this,arguments)}return le(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(Bb);function zb(){return new Ub}var qb=function(){function e(t,n){se(this,e),this._service=t,this._location=n instanceof bb?n:bb.makeFromUrl(n,t.host)}return le(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new bb(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return Tb(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new bb(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new fb("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function Kb(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=Eb(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new Lb(r,"GET",Mb(e,n),i);return a.errorHandler=Vb(t),a}(e.storage,e._location,Ob());return e.storage.makeRequestWithTokens(t,zb).then((function(e){if(null===e)throw new fb("no-download-url","The given file does not have any download URLs.");return e}))}function Qb(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new bb(e._location.bucket,n);return new qb(e.storage,r)}function Wb(e,t){if(e instanceof Yb){var n=e;if(null==n._bucket)throw new fb("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new qb(n,n._bucket);return null!=t?Wb(r,t):r}return void 0!==t?Qb(e,t):e}function Hb(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Yb)return new qb(e,t);throw vb("To use ref(service, url), the first argument must be a Storage instance.")}return Wb(e,t)}function Gb(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:bb.makeFromBucketSpec(n,e)}var Yb=function(){function e(t,n,r,i,a){se(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=lb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?bb.makeFromBucketSpec(i,this._host):Gb(this._host,this.app.options)}return le(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=bb.makeFromBucketSpec(this._url,e):this._bucket=Gb(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){xb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){xb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=oe(ie().mark((function e(){var t,n;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=oe(ie().mark((function e(){var t,n;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new qb(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new kb(mb());var a=function(e,t,n,r,i,a){var o=Sb(e.urlParams),u=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(s,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(s,r),new _b(u,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=oe(ie().mark((function e(t,n){var r,i,a,o;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=u(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Jb="@firebase/storage",Xb="0.9.7",Zb="storage";function $b(e){return Kb(e=Be(e))}function ek(e,t){return Hb(e=Be(e),t)}function tk(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Yb(r,i,a,n,Mt)}Ct(new ze(Zb,tk,"PUBLIC").setMultipleInstances(!0)),qt(Jb,Xb,""),qt(Jb,Xb,"esm2017");var nk=pn.initializeApp({apiKey:"AIzaSyBT6h1QAB_00CAW8hlqVsqUWwlTpMZq6u8",authDomain:"project1-82261.firebaseapp.com",projectId:"project1-82261",storageBucket:"project1-82261.appspot.com",messagingSenderId:"739797027577",appId:"1:739797027577:web:9e2426e4398ac0b8af3028",measurementId:"G-7KZ29QF8DF"}),rk=pn.firestore(),ik=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt(),t=arguments.length>1?arguments[1]:void 0,n=Dt(e=Be(e),Zb),r=n.getImmediate({identifier:t});return r}(nk);function ak(e,t){document.title=e+" | Genshin Impact Database",document.querySelectorAll(".navlink").forEach((function(e){e.classList.add("opacity-40"),document.getElementById(t).classList.remove("opacity-40")}))}var ok=function(){var e=u((0,r.useState)(!0),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){n(!1)}),[]),t},uk=function(e,t){var n=u((0,r.useState)(!1),2),i=n[0],a=n[1],o=u((0,r.useState)(""),2),s=o[0],c=o[1],l=u((0,r.useState)([]),2),f=l[0],h=l[1],d=u((0,r.useState)([]),2),p=d[0],v=d[1],m=u((0,r.useState)(30),2),g=m[0],y=m[1],b=u((0,r.useState)(!0),2),k=b[0],w=b[1],x=ok(),E=(0,r.useRef)("");return(0,r.useEffect)((function(){ak(e,t)}),[]),[i,a,s,c,f,h,p,v,g,function(){return y((function(e){return e+30}))},k,w,x,E]};function sk(e,t,n,r){r(!0),window.scrollTo({top:0,left:0,behavior:"instant"}),t([]);var i=n.toLowerCase();""!==i&&t(e.filter((function(e){return-1!==e.name.toLowerCase().indexOf(i)})))}function ck(e,t,n,r){var i=[];i=e?t.sort((function(e,t){return Number(t[n])-Number(e[n])})):t.sort((function(e,t){return Number(e[n])-Number(t[n])})),r(Ue(i))}var lk=function(){return(0,Z.jsxs)("div",{className:"text-center text-3xl text-[#6a91e9] font-bold my-16",children:[(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-14 w-14 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,Z.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"})}),"Loading..."]})},fk=function(e){var t=e.onclick;return(0,Z.jsx)("button",{onClick:t,className:"py-3 px-6 rounded-lg darkblue text-white mx-auto block transition duration-300 hover:bg-slate-900",children:"Load More"})},hk=function(e){var t=e.title;return(0,Z.jsxs)("h1",{className:"page__title lightcolor text-3xl sm:text-4xl font-bold group",children:[t," ",(0,Z.jsx)("span",{className:"hidden sm:group-hover:inline",children:"#"})]})},dk=function(e){e.titleIcon;var t=e.title,n=e.searchInput,r=e.searchInputHandler,i=e.searchPlaceholder,a=e.setSort,o=e.order,u=e.gridData;return(0,Z.jsxs)("div",{className:"container__grid",children:[(0,Z.jsxs)("div",{className:"flex justify-between flex-col md:flex-row md:items-center gap-4 mt-4 sticky top-8 sm:relative sm:top-0 z-50",children:[(0,Z.jsx)(hk,{title:t}),(0,Z.jsxs)("div",{className:"search__box w-full md:max-w-[350px] relative",children:[(0,Z.jsx)("input",{type:"search",name:"searchCharacter",id:"searchCharacter",className:"bg-[#23252a] py-3 pl-12 inline-block w-full mt-4 rounded-xl outline-none focus:outline-4 focus:outline-slate-500 text-white",placeholder:i,ref:n,onChange:r}),(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white/80 absolute top-7 left-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,Z.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),(0,Z.jsx)("div",{className:"filter mt-4 md:mt-0",children:(0,Z.jsxs)("button",{className:"text-white py-3 px-6 rounded-lg flex items-center justify-between gap-2 bg-[#23252a] w-full md:w-fit",onClick:a,children:["Sort by Rarity",(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 ".concat(o?"":"rotate-180 "),children:(0,Z.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5L12 3m0 0l7.5 7.5M12 3v18"})})]})}),(0,Z.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 lg:grid-cols-7 gap-4 py-8",children:u})]})},pk=function(e){var t=e.arr,n=e.limit;return t.slice(0,n).map((function(e,t){return(0,Z.jsxs)(J,{className:"group block rounded-xl bg-[#23252a] shadow-xl text-white relative grid__card",to:"/ViewCharacter/".concat(e.name),"data-name":e.name,title:e.name,children:["N/A"!==e.element&&(0,Z.jsx)("div",{className:"char__element absolute top-3 left-3 rounded-full p-1.5 bg-black bg-opacity-50 w-7 h-7 sm:w-8 sm:h-8 z-40",children:(0,Z.jsx)("img",{src:"https://firebasestorage.googleapis.com/v0/b/project1-82261.appspot.com/o/elements%2F".concat(e.element,".png?alt=media&token=4c613456-ba83-4f79-9844-68bba9917c6d"),alt:"",className:"rounded-full"})}),(0,Z.jsx)("div",{className:"icon relative ".concat("5"===e.rarity?"bg-[#e1872280]":"bg-[#ae92d680]"," rounded-t-xl"),children:(0,Z.jsx)("img",{src:e.images.icon,alt:e.name+" avatar",className:"mx-auto rounded-t-xl"})}),(0,Z.jsx)("div",{className:"characters__name text-center py-3 px-1",children:(0,Z.jsx)("p",{className:"group-hover:text-[#6291e9] transition duration-300 text-ellipsis overflow-hidden",children:e.name})})]},t)}))},vk=function(){var e=u(uk("Characters","characters"),14),t=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],c=e[6],l=e[7],f=e[8],h=e[9],d=e[10],p=e[11],v=e[12],m=e[13];function g(){return g=oe(ie().mark((function e(){var t,r;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),t=Zm(rk,"characters"),r=ty(t,iy("rarity","desc"),iy("name")),e.next=5,Iy(r).then((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),s(t)})).catch((function(){return a("Error loading Character Data. Refresh webpage and try again.")}));case 5:n(!1);case 6:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}return(0,r.useEffect)((function(){!function(){g.apply(this,arguments)}()}),[]),(0,r.useEffect)((function(){v||(c.length>0&&ck(d,c,"rarity",l),ck(d,o,"rarity",s))}),[d]),t?(0,Z.jsx)(lk,{}):i?(0,Z.jsx)(ne,{message:i}):(0,Z.jsxs)("div",{className:"characters__container",children:[(0,Z.jsx)(dk,{title:"Game Characters",searchInput:m,searchInputHandler:function(){return sk(o,l,m.current.value,p)},searchPlaceholder:"Search for Character Name...",setSort:function(){return p(!d)},order:d,gridData:(0,Z.jsx)(pk,{arr:o.length>0&&0===c.length?o:c,limit:f})}),!c.length>0?f<o.length&&(0,Z.jsx)(fk,{onclick:h}):f<c.length&&(0,Z.jsx)(fk,{onclick:h})]})},mk=function(){var e=V().name,t=u((0,r.useState)(""),2),n=t[0],i=t[1],a=u((0,r.useState)(),2),o=a[0],s=a[1],c=u((0,r.useState)([]),2),l=c[0],f=c[1],h=u((0,r.useState)(""),2),d=h[0],p=h[1],v=u((0,r.useState)(!1),2),m=v[0],g=v[1],y=F();function b(){return b=oe(ie().mark((function e(t){var n;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(),g(!0),n=$m(rk,"characters",t),e.next=5,Ey(n).then(function(){var e=oe(ie().mark((function e(t){var n,r;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.exists()){e.next=9;break}return s(t.data()),e.next=4,$b(ek(ik,"elements/".concat(t.data().element,".png"))).then((function(e){p(e)}));case 4:if(n=[],t.data().constellations)for(r in t.data().constellations)n.push(tt(tt({},t.data().constellations[r]),{},{img:t.data().constImg[r]}));f(n),e.next=10;break;case 9:y("/Characters",{replace:!0});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){return console.log("404")}));case 5:g(!1);case 6:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}return(0,r.useEffect)((function(){void 0!==e?function(e){b.apply(this,arguments)}(e):y("/Error",{replace:!0}),i(e),ak("".concat(e),"characters")}),[]),(0,Z.jsxs)("div",{className:"char__container",children:[(0,Z.jsxs)(J,{to:"/Characters",id:"return",className:"flex items-center gap-1 lightcolor transition duration-300 opacity-70 hover:opacity-100 font-semibold w-max",children:[(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,Z.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})}),(0,Z.jsx)("span",{className:"text-xl",children:"Return to Characters"})]}),(0,Z.jsx)("h1",{className:"page__title lightcolor text-4xl font-bold mt-4 text-center sm:text-left",children:n}),m&&(0,Z.jsx)(lk,{}),o&&(0,Z.jsxs)("div",{className:"wrapper mt-8 px-4 sm:px-8 py-8 rounded-xl shadow-2xl mb-10 darkblue",children:[(0,Z.jsxs)("div",{className:"char__details lg:flex lg:gap-4",children:[(0,Z.jsx)("div",{className:"char__card shrink-0 text-white",children:(0,Z.jsx)("img",{src:o.images.cover2,className:"w-[350px] mx-auto lg:mx-0",alt:o.name})}),(0,Z.jsx)("div",{className:"char__stats text-white mt-6 lg:mt-0",children:(0,Z.jsxs)("div",{className:" shadow overflow-hidden sm:rounded-lg",children:[(0,Z.jsx)("div",{className:"px-4 pb-6 sm:px-6",children:(0,Z.jsxs)("h3",{className:"text-2xl leading-6 font-bold lightcolor flex items-center flex-col sm:flex-row gap-2 text-center sm:text-left",children:[(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,Z.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Character Information"]})}),(0,Z.jsx)("div",{className:"pt-4 border-t-4 border-blue-900 text-white",children:(0,Z.jsxs)("dl",{children:[(0,Z.jsxs)("div",{className:"px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,Z.jsx)("dt",{className:"font-bold text-gray-200",children:"Name"}),(0,Z.jsx)("dd",{className:"mt-1 sm:mt-0 sm:col-span-2",children:o.name})]}),(0,Z.jsxs)("div",{className:"px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,Z.jsx)("dt",{className:"font-bold text-gray-200",children:"Element"}),"N/A"!==o.element?(0,Z.jsx)("dd",{className:"mt-1 sm:mt-0 sm:col-span-2",children:(0,Z.jsx)("img",{src:d,alt:"Element",className:"w-8 h-8",title:o.element})}):(0,Z.jsx)("dd",{className:"mt-1 sm:mt-0 sm:col-span-2",children:(0,Z.jsx)("p",{children:"N/A"})})]}),(0,Z.jsxs)("div",{className:"px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,Z.jsx)("dt",{className:"font-bold text-gray-200",children:"Weapon Type"}),(0,Z.jsx)("dd",{className:"mt-1 sm:mt-0 sm:col-span-2",children:o.weapontype})]}),(0,Z.jsxs)("div",{className:"px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,Z.jsx)("dt",{className:"text-sm font-bold text-gray-200",children:"Rarity"}),(0,Z.jsxs)("dd",{className:"mt-1 sm:mt-0 sm:col-span-2 flex items-center gap-1",children:[o.rarity,(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Z.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})]})]}),(0,Z.jsxs)("div",{className:"px-4 py-5 grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,Z.jsx)("dt",{className:"font-bold text-gray-200",children:"Ascension Stats"}),(0,Z.jsx)("dd",{className:"mt-1 sm:mt-0 sm:col-span-2",children:"Elemental Mastery"!==o.substat?o.substat+" %":o.substat})]}),(0,Z.jsxs)("div",{className:"px-4 py-5 grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,Z.jsx)("dt",{className:"font-bold text-gray-200",children:"Affiliation"}),(0,Z.jsx)("dd",{className:"mt-1 sm:mt-0 sm:col-span-2",children:o.affiliation})]}),(0,Z.jsxs)("div",{className:"px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,Z.jsx)("dt",{className:"font-bold text-gray-200",children:"Birthday"}),(0,Z.jsx)("dd",{className:"mt-1 sm:mt-0 sm:col-span-2",children:o.birthday})]}),(0,Z.jsxs)("div",{className:"px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,Z.jsx)("dt",{className:"font-bold text-gray-200",children:"Description"}),(0,Z.jsx)("dd",{className:"mt-1 sm:mt-0 sm:col-span-2",children:o.description})]}),(0,Z.jsxs)("div",{className:"px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,Z.jsx)("dt",{className:"font-bold text-gray-200",children:"Constellation"}),(0,Z.jsx)("dd",{className:"mt-1 sm:mt-0 sm:col-span-2",children:o.constellation})]}),(0,Z.jsxs)("div",{className:"px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,Z.jsx)("dt",{className:"font-bold text-gray-200",children:"CV"}),(0,Z.jsxs)("dd",{className:"mt-1 sm:mt-0 sm:col-span-2",children:[(0,Z.jsxs)("p",{className:"cv__cn",children:["CN: ",o.cv.chinese]}),(0,Z.jsxs)("p",{className:"cv__en",children:["EN: ",o.cv.english]}),(0,Z.jsxs)("p",{className:"cv__jp",children:["JP: ",o.cv.japanese]}),(0,Z.jsxs)("p",{className:"cv__kr",children:["KR: ",o.cv.korean]})]})]})]})})]})})]}),o.constellations&&(0,Z.jsxs)("div",{className:"mt-12 constellations max-w-screen-lg",children:[(0,Z.jsxs)("h2",{className:"constellations__title text-2xl lightcolor font-bold",children:["Constellation - ",o.constellation]}),(0,Z.jsx)("div",{className:"constellation__details mt-6 flex flex-col gap-8",children:l&&l.map((function(e,t){return(0,Z.jsxs)("div",{className:"cons__rows flex items-center gap-4 flex-col sm:flex-row text-center sm:text-left",children:[(0,Z.jsx)("div",{className:"cons__icon rounded-full p-2 bg-black/50 w-[80px] shrink-0",children:(0,Z.jsx)("img",{src:e.img,alt:""})}),(0,Z.jsxs)("div",{className:"cons__details",children:[(0,Z.jsx)("p",{className:"cons__name text-white font-bold text-xl",children:e.name}),(0,Z.jsx)("p",{className:"cons__desc text-white mt-2 sm:mt-0",children:e.effect})]})]},t)}))})]})]})]})},gk=function(e){var t=e.arr,n=e.limit;return t.slice(0,n).map((function(e,t){return(0,Z.jsxs)(J,{className:"group rounded-xl bg-[#23252a] shadow-xl text-white relative flex flex-col grid__card",to:"/ViewWeapons/".concat(e.name),"data-name":e.name,title:e.name,children:[(0,Z.jsxs)("div",{className:"weap_rarity absolute top-3 left-3 rounded-full p-1.5 bg-black/50 w-7 h-7 sm:w-8 sm:h-8 z-40 flex items-center justify-center",children:[e.rarity,(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Z.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})]}),(0,Z.jsx)("div",{className:"icon relative ".concat(e.rarity>="4"?"5"===e.rarity?"bg-[#e1872280]":"bg-[#ae92d680]":"bg-gray-600"," rounded-t-xl ").concat(!e.images.icon&&"flex-grow"),children:(0,Z.jsx)("img",{src:e.images.icon,alt:"",className:"mx-auto rounded-t-xl"})}),(0,Z.jsx)("div",{className:"characters__name text-center py-3 px-1",children:(0,Z.jsx)("p",{className:"group-hover:text-[#6291e9] transition duration-300 text-ellipsis overflow-hidden",children:e.name})})]},t)}))},yk=function(){var e=u(uk("Weapons","weapons"),14),t=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],c=e[6],l=e[7],f=e[8],h=e[9],d=e[10],p=e[11],v=e[12],m=e[13];function g(){return(g=oe(ie().mark((function e(){var t,r;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),t=Zm(rk,"weapons"),r=ty(t,iy("rarity","desc"),iy("name")),e.next=5,Iy(r).then((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),s(t)})).catch((function(){return a("Error loading Weapons Data. Try again later.")}));case 5:n(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,r.useEffect)((function(){!function(){g.apply(this,arguments)}()}),[]),(0,r.useEffect)((function(){v||(c.length>0&&ck(d,c,"rarity",l),ck(d,o,"rarity",s))}),[d]),t?(0,Z.jsx)(lk,{}):i?(0,Z.jsx)(ne,{message:i}):(0,Z.jsxs)("div",{className:"weapons__container",children:[(0,Z.jsx)(dk,{title:"Weapons",searchInput:m,searchInputHandler:function(){return sk(o,l,m.current.value,p)},searchPlaceholder:"Search for Weapon Name...",setSort:function(){return p(!d)},order:d,gridData:(0,Z.jsx)(gk,{arr:o.length>0&&0===c.length?o:c,limit:f})}),!c.length>0?o.length>0&&f<o.length&&(0,Z.jsx)(fk,{onclick:h}):c.length>0&&f<c.length&&(0,Z.jsx)(fk,{onclick:h})]})};function bk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bk(Object(n),!0).forEach((function(t){Ek(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wk(e){return wk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wk(e)}function xk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ek(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}(e,t)||Ik(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _k(e){return function(e){if(Array.isArray(e))return Ak(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ik(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ik(e,t){if(e){if("string"===typeof e)return Ak(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ak(e,t):void 0}}function Ak(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Tk=function(){},Nk={},Ck={},Dk=null,Ok={mark:Tk,measure:Tk};try{"undefined"!==typeof window&&(Nk=window),"undefined"!==typeof document&&(Ck=document),"undefined"!==typeof MutationObserver&&(Dk=MutationObserver),"undefined"!==typeof performance&&(Ok=performance)}catch($E){}var Pk=(Nk.navigator||{}).userAgent,Rk=void 0===Pk?"":Pk,Lk=Nk,jk=Ck,Mk=Dk,Fk=Ok,Vk=(Lk.document,!!jk.documentElement&&!!jk.head&&"function"===typeof jk.addEventListener&&"function"===typeof jk.createElement),Bk=~Rk.indexOf("MSIE")||~Rk.indexOf("Trident/"),Uk="svg-inline--fa",zk="data-fa-i2svg",qk="data-fa-pseudo-element",Kk="data-prefix",Qk="data-icon",Wk="fontawesome-i2svg",Hk=["HTML","HEAD","STYLE","SCRIPT"],Gk=function(){try{return!0}catch($E){return!1}}(),Yk={fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit",fa:"solid"},Jk={solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"},Xk={fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},Zk={"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},$k=/fa[srltdbk\-\ ]/,ew="fa-layers-text",tw=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Kit)?.*/i,nw={900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},rw=[1,2,3,4,5,6,7,8,9,10],iw=rw.concat([11,12,13,14,15,16,17,18,19,20]),aw=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],ow="duotone-group",uw="swap-opacity",sw="primary",cw="secondary",lw=[].concat(_k(Object.keys(Jk)),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",ow,uw,sw,cw]).concat(rw.map((function(e){return"".concat(e,"x")}))).concat(iw.map((function(e){return"w-".concat(e)}))),fw=Lk.FontAwesomeConfig||{};if(jk&&"function"===typeof jk.querySelector){[["data-family-prefix","familyPrefix"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=Sk(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=jk.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(fw[r]=i)}))}var hw=kk(kk({},{familyPrefix:"fa",styleDefault:"solid",replacementClass:Uk,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0}),fw);hw.autoReplaceSvg||(hw.observeMutations=!1);var dw={};Object.keys(hw).forEach((function(e){Object.defineProperty(dw,e,{enumerable:!0,set:function(t){hw[e]=t,pw.forEach((function(e){return e(dw)}))},get:function(){return hw[e]}})})),Lk.FontAwesomeConfig=dw;var pw=[];var vw=16,mw={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function gw(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function yw(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function bw(e){return e.classList?yw(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function kw(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ww(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")}),"")}function xw(e){return e.size!==mw.size||e.x!==mw.x||e.y!==mw.y||e.rotate!==mw.rotate||e.flipX||e.flipY}function Ew(){var e="fa",t=Uk,n=dw.familyPrefix,r=dw.replacementClass,i=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(n!==e||r!==t){var a=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),u=new RegExp("\\.".concat(t),"g");i=i.replace(a,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(u,".".concat(r))}return i}var Sw=!1;function _w(){dw.autoAddCss&&!Sw&&(!function(e){if(e&&Vk){var t=jk.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=jk.head.childNodes,r=null,i=n.length-1;i>-1;i--){var a=n[i],o=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=a)}jk.head.insertBefore(t,r)}}(Ew()),Sw=!0)}var Iw={mixout:function(){return{dom:{css:Ew,insertCss:_w}}},hooks:function(){return{beforeDOMElementCreation:function(){_w()},beforeI2svg:function(){_w()}}}},Aw=Lk||{};Aw.___FONT_AWESOME___||(Aw.___FONT_AWESOME___={}),Aw.___FONT_AWESOME___.styles||(Aw.___FONT_AWESOME___.styles={}),Aw.___FONT_AWESOME___.hooks||(Aw.___FONT_AWESOME___.hooks={}),Aw.___FONT_AWESOME___.shims||(Aw.___FONT_AWESOME___.shims=[]);var Tw=Aw.___FONT_AWESOME___,Nw=[],Cw=!1;function Dw(e){Vk&&(Cw?setTimeout(e,0):Nw.push(e))}function Ow(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,a=void 0===i?[]:i;return"string"===typeof e?kw(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(kw(e[n]),'" ')}),"").trim()}(r),">").concat(a.map(Ow).join(""),"</").concat(t,">")}function Pw(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}Vk&&((Cw=(jk.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(jk.readyState))||jk.addEventListener("DOMContentLoaded",(function e(){jk.removeEventListener("DOMContentLoaded",e),Cw=1,Nw.map((function(e){return e()}))})));var Rw=function(e,t,n,r){var i,a,o,u=Object.keys(e),s=u.length,c=void 0!==r?function(e,t){return function(n,r,i,a){return e.call(t,n,r,i,a)}}(t,r):t;for(void 0===n?(i=1,o=e[u[0]]):(i=0,o=n);i<s;i++)o=c(o,e[a=u[i]],a,e);return o};function Lw(e){var t=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);return 1===t.length?t[0].toString(16):null}function jw(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function Mw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,a=jw(t);"function"!==typeof Tw.hooks.addPack||i?Tw.styles[e]=kk(kk({},Tw.styles[e]||{}),a):Tw.hooks.addPack(e,jw(t)),"fas"===e&&Mw("fa",t)}var Fw=Tw.styles,Vw=Tw.shims,Bw=Object.values(Xk),Uw=null,zw={},qw={},Kw={},Qw={},Ww={},Hw=Object.keys(Yk);function Gw(e,t){var n,r=t.split("-"),i=r[0],a=r.slice(1).join("-");return i!==e||""===a||(n=a,~lw.indexOf(n))?null:a}var Yw=function(){var e=function(e){return Rw(Fw,(function(t,n,r){return t[r]=Rw(n,e,{}),t}),{})};zw=e((function(e,t,n){if(t[3]&&(e[t[3]]=n),t[2]){var r=t[2].filter((function(e){return"number"===typeof e}));r.forEach((function(t){e[t.toString(16)]=n}))}return e})),qw=e((function(e,t,n){if(e[n]=n,t[2]){var r=t[2].filter((function(e){return"string"===typeof e}));r.forEach((function(t){e[t]=n}))}return e})),Ww=e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in Fw||dw.autoFetchSvg,n=Rw(Vw,(function(e,n){var r=n[0],i=n[1],a=n[2];return"far"!==i||t||(i="fas"),"string"===typeof r&&(e.names[r]={prefix:i,iconName:a}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:a}),e}),{names:{},unicodes:{}});Kw=n.names,Qw=n.unicodes,Uw=ex(dw.styleDefault)};function Jw(e,t){return(zw[e]||{})[t]}function Xw(e,t){return(Ww[e]||{})[t]}function Zw(e){return Kw[e]||{prefix:null,iconName:null}}function $w(){return Uw}!function(e){pw.push(e)}((function(e){Uw=ex(e.styleDefault)})),Yw();function ex(e){var t=Jk[e]||Jk[Yk[e]],n=e in Tw.styles?e:null;return t||n||null}function tx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.skipLookups,r=void 0!==n&&n,i=null,a=e.reduce((function(e,t){var n=Gw(dw.familyPrefix,t);if(Fw[t]?(t=Bw.includes(t)?Zk[t]:t,i=t,e.prefix=t):Hw.indexOf(t)>-1?(i=t,e.prefix=ex(t)):n?e.iconName=n:t!==dw.replacementClass&&e.rest.push(t),!r&&e.prefix&&e.iconName){var a="fa"===i?Zw(e.iconName):{},o=Xw(e.prefix,e.iconName);a.prefix&&(i=null),e.iconName=a.iconName||o||e.iconName,e.prefix=a.prefix||e.prefix,"far"!==e.prefix||Fw.far||!Fw.fas||dw.autoFetchSvg||(e.prefix="fas")}return e}),{prefix:null,iconName:null,rest:[]});return"fa"!==a.prefix&&"fa"!==i||(a.prefix=$w()||"fas"),a}var nx=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=kk(kk({},e.definitions[t]||{}),i[t]),Mw(t,i[t]);var n=Xk[t];n&&Mw(n,i[t]),Yw()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,a=r.iconName,o=r.icon,u=o[2];e[i]||(e[i]={}),u.length>0&&u.forEach((function(t){"string"===typeof t&&(e[i][t]=o)})),e[i][a]=o})),e}}],n&&xk(t.prototype,n),r&&xk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),rx=[],ix={},ax={},ox=Object.keys(ax);function ux(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=ix[e]||[];return a.forEach((function(e){t=e.apply(null,[t].concat(r))})),t}function sx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=ix[e]||[];i.forEach((function(e){e.apply(null,n)}))}function cx(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return ax[e]?ax[e].apply(null,t):void 0}function lx(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||$w();if(t)return t=Xw(n,t)||t,Pw(fx.definitions,n,t)||Pw(Tw.styles,n,t)}var fx=new nx,hx={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Vk?(sx("beforeI2svg",e),cx("pseudoElements2svg",e),cx("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===dw.autoReplaceSvg&&(dw.autoReplaceSvg=!0),dw.observeMutations=!0,Dw((function(){vx({autoReplaceSvgRoot:t}),sx("watch",e)}))}},dx={icon:function(e){if(null===e)return null;if("object"===wk(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Xw(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=ex(e[0]);return{prefix:n,iconName:Xw(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(dw.familyPrefix,"-"))>-1||e.match($k))){var r=tx(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||$w(),iconName:Xw(r.prefix,r.iconName)||r.iconName}}if("string"===typeof e){var i=$w();return{prefix:i,iconName:Xw(i,e)||e}}}},px={noAuto:function(){dw.autoReplaceSvg=!1,dw.observeMutations=!1,sx("noAuto")},config:dw,dom:hx,parse:dx,library:fx,findIconDefinition:lx,toHtml:Ow},vx=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot,n=void 0===t?jk:t;(Object.keys(Tw.styles).length>0||dw.autoFetchSvg)&&Vk&&dw.autoReplaceSvg&&px.dom.i2svg({node:n})};function mx(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return Ow(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(Vk){var t=jk.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function gx(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,a=e.iconName,o=e.transform,u=e.symbol,s=e.title,c=e.maskId,l=e.titleId,f=e.extra,h=e.watchable,d=void 0!==h&&h,p=r.found?r:n,v=p.width,m=p.height,g="fak"===i,y=[dw.replacementClass,a?"".concat(dw.familyPrefix,"-").concat(a):""].filter((function(e){return-1===f.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(f.classes).join(" "),b={children:[],attributes:kk(kk({},f.attributes),{},{"data-prefix":i,"data-icon":a,class:y,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(v," ").concat(m)})},k=g&&!~f.classes.indexOf("fa-fw")?{width:"".concat(v/m*16*.0625,"em")}:{};d&&(b.attributes[zk]=""),s&&(b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(l||gw())},children:[s]}),delete b.attributes.title);var w=kk(kk({},b),{},{prefix:i,iconName:a,main:n,mask:r,maskId:c,transform:o,symbol:u,styles:kk(kk({},k),f.styles)}),x=r.found&&n.found?cx("generateAbstractMask",w)||{children:[],attributes:{}}:cx("generateAbstractIcon",w)||{children:[],attributes:{}},E=x.children,S=x.attributes;return w.children=E,w.attributes=S,u?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,a=e.symbol,o=!0===a?"".concat(t,"-").concat(dw.familyPrefix,"-").concat(n):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:kk(kk({},i),{},{id:o}),children:r}]}]}(w):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,a=e.styles,o=e.transform;if(xw(o)&&n.found&&!r.found){var u={x:n.width/n.height/2,y:.5};i.style=ww(kk(kk({},a),{},{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(w)}function yx(e){var t=e.content,n=e.width,r=e.height,i=e.transform,a=e.title,o=e.extra,u=e.watchable,s=void 0!==u&&u,c=kk(kk(kk({},o.attributes),a?{title:a}:{}),{},{class:o.classes.join(" ")});s&&(c[zk]="");var l=kk({},o.styles);xw(i)&&(l.transform=function(e){var t=e.transform,n=e.width,r=void 0===n?16:n,i=e.height,a=void 0===i?16:i,o=e.startCentered,u=void 0!==o&&o,s="";return s+=u&&Bk?"translate(".concat(t.x/vw-r/2,"em, ").concat(t.y/vw-a/2,"em) "):u?"translate(calc(-50% + ".concat(t.x/vw,"em), calc(-50% + ").concat(t.y/vw,"em)) "):"translate(".concat(t.x/vw,"em, ").concat(t.y/vw,"em) "),s+="scale(".concat(t.size/vw*(t.flipX?-1:1),", ").concat(t.size/vw*(t.flipY?-1:1),") "),s+"rotate(".concat(t.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),l["-webkit-transform"]=l.transform);var f=ww(l);f.length>0&&(c.style=f);var h=[];return h.push({tag:"span",attributes:c,children:[t]}),a&&h.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),h}function bx(e){var t=e.content,n=e.title,r=e.extra,i=kk(kk(kk({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),a=ww(r.styles);a.length>0&&(i.style=a);var o=[];return o.push({tag:"span",attributes:i,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var kx=Tw.styles;function wx(e){var t=e[0],n=e[1],r=Sk(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(dw.familyPrefix,"-").concat(ow)},children:[{tag:"path",attributes:{class:"".concat(dw.familyPrefix,"-").concat(cw),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(dw.familyPrefix,"-").concat(sw),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}var xx={found:!1,width:512,height:512};function Ex(e,t){var n=t;return"fa"===t&&null!==dw.styleDefault&&(t=$w()),new Promise((function(r,i){cx("missingIconAbstract");if("fa"===n){var a=Zw(e)||{};e=a.iconName||e,t=a.prefix||t}if(e&&t&&kx[t]&&kx[t][e])return r(wx(kx[t][e]));!function(e,t){Gk||dw.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(kk(kk({},xx),{},{icon:dw.showMissingIcons&&e&&cx("missingIconAbstract")||{}}))}))}var Sx=function(){},_x=dw.measurePerformance&&Fk&&Fk.mark&&Fk.measure?Fk:{mark:Sx,measure:Sx},Ix='FA "6.1.1"',Ax=function(e){_x.mark("".concat(Ix," ").concat(e," ends")),_x.measure("".concat(Ix," ").concat(e),"".concat(Ix," ").concat(e," begins"),"".concat(Ix," ").concat(e," ends"))},Tx=function(e){return _x.mark("".concat(Ix," ").concat(e," begins")),function(){return Ax(e)}},Nx=function(){};function Cx(e){return"string"===typeof(e.getAttribute?e.getAttribute(zk):null)}function Dx(e){return jk.createElementNS("http://www.w3.org/2000/svg",e)}function Ox(e){return jk.createElement(e)}function Px(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ceFn,r=void 0===n?"svg"===e.tag?Dx:Ox:n;if("string"===typeof e)return jk.createTextNode(e);var i=r(e.tag);Object.keys(e.attributes||[]).forEach((function(t){i.setAttribute(t,e.attributes[t])}));var a=e.children||[];return a.forEach((function(e){i.appendChild(Px(e,{ceFn:r}))})),i}var Rx={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(Px(e),t)})),null===t.getAttribute(zk)&&dw.keepOriginalSource){var n=jk.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~bw(t).indexOf(dw.replacementClass))return Rx.replace(e);var r=new RegExp("".concat(dw.familyPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce((function(e,t){return t===dw.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}var a=n.map((function(e){return Ow(e)})).join("\n");t.setAttribute(zk,""),t.innerHTML=a}};function Lx(e){e()}function jx(e,t){var n="function"===typeof t?t:Nx;if(0===e.length)n();else{var r=Lx;"async"===dw.mutateApproach&&(r=Lk.requestAnimationFrame||Lx),r((function(){var t=!0===dw.autoReplaceSvg?Rx.replace:Rx[dw.autoReplaceSvg]||Rx.replace,r=Tx("mutate");e.map(t),r(),n()}))}}var Mx=!1;function Fx(){Mx=!0}function Vx(){Mx=!1}var Bx=null;function Ux(e){if(Mk&&dw.observeMutations){var t=e.treeCallback,n=void 0===t?Nx:t,r=e.nodeCallback,i=void 0===r?Nx:r,a=e.pseudoElementsCallback,o=void 0===a?Nx:a,u=e.observeMutationsRoot,s=void 0===u?jk:u;Bx=new Mk((function(e){if(!Mx){var t=$w();yw(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!Cx(e.addedNodes[0])&&(dw.searchPseudoElements&&o(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&dw.searchPseudoElements&&o(e.target.parentNode),"attributes"===e.type&&Cx(e.target)&&~aw.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(Kk):null,n=e.getAttribute?e.getAttribute(Qk):null;return t&&n}(e.target)){var r=tx(bw(e.target)),a=r.prefix,u=r.iconName;e.target.setAttribute(Kk,a||t),u&&e.target.setAttribute(Qk,u)}else(s=e.target)&&s.classList&&s.classList.contains&&s.classList.contains(dw.replacementClass)&&i(e.target);var s}))}})),Vk&&Bx.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function zx(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce((function(e,t){var n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e}),{})),n}function qx(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"",i=tx(bw(e));return i.prefix||(i.prefix=$w()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||i.prefix&&r.length>0&&(i.iconName=function(e,t){return(qw[e]||{})[t]}(i.prefix,e.innerText)||Jw(i.prefix,Lw(e.innerText))),i}function Kx(e){var t=yw(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return dw.autoA11y&&(n?t["aria-labelledby"]="".concat(dw.replacementClass,"-title-").concat(r||gw()):(t["aria-hidden"]="true",t.focusable="false")),t}function Qx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=qx(e),r=n.iconName,i=n.prefix,a=n.rest,o=Kx(e),u=ux("parseNodeAttributes",{},e),s=t.styleParser?zx(e):[];return kk({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:i,transform:mw,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:s,attributes:o}},u)}var Wx=Tw.styles;function Hx(e){var t="nest"===dw.autoReplaceSvg?Qx(e,{styleParser:!1}):Qx(e);return~t.extra.classes.indexOf(ew)?cx("generateLayersText",e,t):cx("generateSvgReplacementMutation",e,t)}function Gx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Vk)return Promise.resolve();var n=jk.documentElement.classList,r=function(e){return n.add("".concat(Wk,"-").concat(e))},i=function(e){return n.remove("".concat(Wk,"-").concat(e))},a=dw.autoFetchSvg?Object.keys(Yk):Object.keys(Wx),o=[".".concat(ew,":not([").concat(zk,"])")].concat(a.map((function(e){return".".concat(e,":not([").concat(zk,"])")}))).join(", ");if(0===o.length)return Promise.resolve();var u=[];try{u=yw(e.querySelectorAll(o))}catch($E){}if(!(u.length>0))return Promise.resolve();r("pending"),i("complete");var s=Tx("onTree"),c=u.reduce((function(e,t){try{var n=Hx(t);n&&e.push(n)}catch($E){Gk||"MissingIcon"===$E.name&&console.error($E)}return e}),[]);return new Promise((function(e,n){Promise.all(c).then((function(n){jx(n,(function(){r("active"),r("complete"),i("pending"),"function"===typeof t&&t(),s(),e()}))})).catch((function(e){s(),n(e)}))}))}function Yx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Hx(e).then((function(e){e&&jx([e],t)}))}var Jx=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?mw:n,i=t.symbol,a=void 0!==i&&i,o=t.mask,u=void 0===o?null:o,s=t.maskId,c=void 0===s?null:s,l=t.title,f=void 0===l?null:l,h=t.titleId,d=void 0===h?null:h,p=t.classes,v=void 0===p?[]:p,m=t.attributes,g=void 0===m?{}:m,y=t.styles,b=void 0===y?{}:y;if(e){var k=e.prefix,w=e.iconName,x=e.icon;return mx(kk({type:"icon"},e),(function(){return sx("beforeDOMElementCreation",{iconDefinition:e,params:t}),dw.autoA11y&&(f?g["aria-labelledby"]="".concat(dw.replacementClass,"-title-").concat(d||gw()):(g["aria-hidden"]="true",g.focusable="false")),gx({icons:{main:wx(x),mask:u?wx(u.icon):{found:!1,width:null,height:null,icon:{}}},prefix:k,iconName:w,transform:kk(kk({},mw),r),symbol:a,title:f,maskId:c,titleId:d,extra:{attributes:g,styles:b,classes:v}})}))}},Xx={mixout:function(){return{icon:(e=Jx,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:lx(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:lx(i||{})),e(r,kk(kk({},n),{},{mask:i}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=Gx,e.nodeCallback=Yx,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?jk:t,r=e.callback;return Gx(n,void 0===r?function(){}:r)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,r=t.title,i=t.titleId,a=t.prefix,o=t.transform,u=t.symbol,s=t.mask,c=t.maskId,l=t.extra;return new Promise((function(t,f){Promise.all([Ex(n,a),s.iconName?Ex(s.iconName,s.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(s){var f=Sk(s,2),h=f[0],d=f[1];t([e,gx({icons:{main:h,mask:d},prefix:a,iconName:n,transform:o,symbol:u,maskId:c,title:r,titleId:i,extra:l,watchable:!0})])})).catch(f)}))},e.generateAbstractIcon=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.transform,o=ww(e.styles);return o.length>0&&(r.style=o),xw(a)&&(t=cx("generateAbstractTransformGrouping",{main:i,transform:a,containerWidth:i.width,iconWidth:i.width})),n.push(t||i.icon),{children:n,attributes:r}}}},Zx={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,r=void 0===n?[]:n;return mx({type:"layer"},(function(){sx("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e((function(e){Array.isArray(e)?e.map((function(e){n=n.concat(e.abstract)})):n=n.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(dw.familyPrefix,"-layers")].concat(_k(r)).join(" ")},children:n}]}))}}}},$x={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=void 0===n?null:n,i=t.classes,a=void 0===i?[]:i,o=t.attributes,u=void 0===o?{}:o,s=t.styles,c=void 0===s?{}:s;return mx({type:"counter",content:e},(function(){return sx("beforeDOMElementCreation",{content:e,params:t}),bx({content:e.toString(),title:r,extra:{attributes:u,styles:c,classes:["".concat(dw.familyPrefix,"-layers-counter")].concat(_k(a))}})}))}}}},eE={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?mw:n,i=t.title,a=void 0===i?null:i,o=t.classes,u=void 0===o?[]:o,s=t.attributes,c=void 0===s?{}:s,l=t.styles,f=void 0===l?{}:l;return mx({type:"text",content:e},(function(){return sx("beforeDOMElementCreation",{content:e,params:t}),yx({content:e,transform:kk(kk({},mw),r),title:a,extra:{attributes:c,styles:f,classes:["".concat(dw.familyPrefix,"-layers-text")].concat(_k(u))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.title,r=t.transform,i=t.extra,a=null,o=null;if(Bk){var u=parseInt(getComputedStyle(e).fontSize,10),s=e.getBoundingClientRect();a=s.width/u,o=s.height/u}return dw.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,yx({content:e.innerHTML,width:a,height:o,transform:r,title:n,extra:i,watchable:!0})])}}},tE=new RegExp('"',"ug"),nE=[1105920,1112319];function rE(e,t){var n="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise((function(r,i){if(null!==e.getAttribute(n))return r();var a=yw(e.children).filter((function(e){return e.getAttribute(qk)===t}))[0],o=Lk.getComputedStyle(e,t),u=o.getPropertyValue("font-family").match(tw),s=o.getPropertyValue("font-weight"),c=o.getPropertyValue("content");if(a&&!u)return e.removeChild(a),r();if(u&&"none"!==c&&""!==c){var l=o.getPropertyValue("content"),f=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(u[2])?Jk[u[2].toLowerCase()]:nw[s],h=function(e){var t=e.replace(tE,""),n=function(e,t){var n,r=e.length,i=e.charCodeAt(t);return i>=55296&&i<=56319&&r>t+1&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(i-55296)+n-56320+65536:i}(t,0),r=n>=nE[0]&&n<=nE[1],i=2===t.length&&t[0]===t[1];return{value:Lw(i?t[0]:t),isSecondary:r||i}}(l),d=h.value,p=h.isSecondary,v=u[0].startsWith("FontAwesome"),m=Jw(f,d),g=m;if(v){var y=function(e){var t=Qw[e],n=Jw("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(d);y.iconName&&y.prefix&&(m=y.iconName,f=y.prefix)}if(!m||p||a&&a.getAttribute(Kk)===f&&a.getAttribute(Qk)===g)r();else{e.setAttribute(n,g),a&&e.removeChild(a);var b={iconName:null,title:null,titleId:null,prefix:null,transform:mw,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},k=b.extra;k.attributes[qk]=t,Ex(m,f).then((function(i){var a=gx(kk(kk({},b),{},{icons:{main:i,mask:{prefix:null,iconName:null,rest:[]}},prefix:f,iconName:g,extra:k,watchable:!0})),o=jk.createElement("svg");"::before"===t?e.insertBefore(o,e.firstChild):e.appendChild(o),o.outerHTML=a.map((function(e){return Ow(e)})).join("\n"),e.removeAttribute(n),r()})).catch(i)}}else r()}))}function iE(e){return Promise.all([rE(e,"::before"),rE(e,"::after")])}function aE(e){return e.parentNode!==document.head&&!~Hk.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(qk)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function oE(e){if(Vk)return new Promise((function(t,n){var r=yw(e.querySelectorAll("*")).filter(aE).map(iE),i=Tx("searchPseudoElements");Fx(),Promise.all(r).then((function(){i(),Vx(),t()})).catch((function(){i(),Vx(),n()}))}))}var uE=!1,sE=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},cE={mixout:function(){return{parse:{transform:function(e){return sE(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=sE(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,r=e.containerWidth,i=e.iconWidth,a={transform:"translate(".concat(r/2," 256)")},o="translate(".concat(32*n.x,", ").concat(32*n.y,") "),u="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),s="rotate(".concat(n.rotate," 0 0)"),c={outer:a,inner:{transform:"".concat(o," ").concat(u," ").concat(s)},path:{transform:"translate(".concat(i/2*-1," -256)")}};return{tag:"g",attributes:kk({},c.outer),children:[{tag:"g",attributes:kk({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:kk(kk({},t.icon.attributes),c.path)}]}]}}}},lE={x:0,y:0,width:"100%",height:"100%"};function fE(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var hE={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),r=n?tx(n.split(" ").map((function(e){return e.trim()}))):{prefix:null,iconName:null,rest:[]};return r.prefix||(r.prefix=$w()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.mask,o=e.maskId,u=e.transform,s=i.width,c=i.icon,l=a.width,f=a.icon,h=function(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),u="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(o," ").concat(u)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:u,containerWidth:l,iconWidth:s}),d={tag:"rect",attributes:kk(kk({},lE),{},{fill:"white"})},p=c.children?{children:c.children.map(fE)}:{},v={tag:"g",attributes:kk({},h.inner),children:[fE(kk({tag:c.tag,attributes:kk(kk({},c.attributes),h.path)},p))]},m={tag:"g",attributes:kk({},h.outer),children:[v]},g="mask-".concat(o||gw()),y="clip-".concat(o||gw()),b={tag:"mask",attributes:kk(kk({},lE),{},{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[d,m]},k={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:(t=f,"g"===t.tag?t.children:[t])},b]};return n.push(k,{tag:"rect",attributes:kk({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(g,")")},lE)}),{children:n,attributes:r}}}},dE={provides:function(e){var t=!1;Lk.matchMedia&&(t=Lk.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:kk(kk({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var i=kk(kk({},r),{},{attributeName:"opacity"}),a={tag:"circle",attributes:kk(kk({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||a.children.push({tag:"animate",attributes:kk(kk({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:kk(kk({},i),{},{values:"1;0;1;1;0;1;"})}),e.push(a),e.push({tag:"path",attributes:kk(kk({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:kk(kk({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:kk(kk({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:kk(kk({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){var n=t.mixoutsTo;rx=e,ix={},Object.keys(ax).forEach((function(e){-1===ox.indexOf(e)&&delete ax[e]})),rx.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"===typeof t[e]&&(n[e]=t[e]),"object"===wk(t[e])&&Object.keys(t[e]).forEach((function(r){n[e]||(n[e]={}),n[e][r]=t[e][r]}))})),e.hooks){var r=e.hooks();Object.keys(r).forEach((function(e){ix[e]||(ix[e]=[]),ix[e].push(r[e])}))}e.provides&&e.provides(ax)}))}([Iw,Xx,Zx,$x,eE,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=oE,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?jk:t;dw.searchPseudoElements&&oE(n)}}},{mixout:function(){return{dom:{unwatch:function(){Fx(),uE=!0}}}},hooks:function(){return{bootstrap:function(){Ux(ux("mutationObserverCallbacks",{}))},noAuto:function(){Bx&&Bx.disconnect()},watch:function(e){var t=e.observeMutationsRoot;uE?Vx():Ux(ux("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},cE,hE,dE,{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}}}}],{mixoutsTo:px});var pE=px.parse,vE=px.icon,mE=n(7),gE=n.n(mE);function yE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yE(Object(n),!0).forEach((function(t){wE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kE(e){return kE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kE(e)}function wE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xE(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function EE(e){return function(e){if(Array.isArray(e))return SE(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return SE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SE(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _E(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var IE=["style"];function AE(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=_E(t.slice(0,r)),a=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=a:e[i]=a,e}),{})}var TE=!1;try{TE=!0}catch($E){}function NE(e){return e&&"object"===kE(e)&&e.prefix&&e.iconName&&e.icon?e:pE.icon?pE.icon(e):null===e?null:e&&"object"===kE(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function CE(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?wE({},e,t):{}}var DE=r.forwardRef((function(e,t){var n=e.icon,r=e.mask,i=e.symbol,a=e.className,o=e.title,u=e.titleId,s=e.maskId,c=NE(n),l=CE("classes",[].concat(EE(function(e){var t,n=e.beat,r=e.fade,i=e.beatFade,a=e.bounce,o=e.shake,u=e.flash,s=e.spin,c=e.spinPulse,l=e.spinReverse,f=e.pulse,h=e.fixedWidth,d=e.inverse,p=e.border,v=e.listItem,m=e.flip,g=e.size,y=e.rotation,b=e.pull,k=(wE(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":a,"fa-shake":o,"fa-flash":u,"fa-spin":s,"fa-spin-reverse":l,"fa-spin-pulse":c,"fa-pulse":f,"fa-fw":h,"fa-inverse":d,"fa-border":p,"fa-li":v,"fa-flip":!0===m,"fa-flip-horizontal":"horizontal"===m||"both"===m,"fa-flip-vertical":"vertical"===m||"both"===m},"fa-".concat(g),"undefined"!==typeof g&&null!==g),wE(t,"fa-rotate-".concat(y),"undefined"!==typeof y&&null!==y&&0!==y),wE(t,"fa-pull-".concat(b),"undefined"!==typeof b&&null!==b),wE(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(k).map((function(e){return k[e]?e:null})).filter((function(e){return e}))}(e)),EE(a.split(" ")))),f=CE("transform","string"===typeof e.transform?pE.transform(e.transform):e.transform),h=CE("mask",NE(r)),d=vE(c,bE(bE(bE(bE({},l),f),h),{},{symbol:i,title:o,titleId:u,maskId:s}));if(!d)return function(){var e;!TE&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",c),null;var p=d.abstract,v={ref:t};return Object.keys(e).forEach((function(t){DE.defaultProps.hasOwnProperty(t)||(v[t]=e[t])})),OE(p[0],v)}));DE.displayName="FontAwesomeIcon",DE.propTypes={beat:gE().bool,border:gE().bool,beatFade:gE().bool,bounce:gE().bool,className:gE().string,fade:gE().bool,flash:gE().bool,mask:gE().oneOfType([gE().object,gE().array,gE().string]),maskId:gE().string,fixedWidth:gE().bool,inverse:gE().bool,flip:gE().oneOf([!0,!1,"horizontal","vertical","both"]),icon:gE().oneOfType([gE().object,gE().array,gE().string]),listItem:gE().bool,pull:gE().oneOf(["right","left"]),pulse:gE().bool,rotation:gE().oneOf([0,90,180,270]),shake:gE().bool,size:gE().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:gE().bool,spinPulse:gE().bool,spinReverse:gE().bool,symbol:gE().oneOfType([gE().bool,gE().string]),title:gE().string,titleId:gE().string,transform:gE().oneOfType([gE().string,gE().object]),swapOpacity:gE().bool},DE.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var OE=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),a=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=AE(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[_E(t)]=r}return e}),{attrs:{}}),o=r.style,u=void 0===o?{}:o,s=xE(r,IE);return a.attrs.style=bE(bE({},a.attrs.style),u),t.apply(void 0,[n.tag,bE(bE({},a.attrs),s)].concat(EE(i)))}.bind(null,r.createElement),PE={prefix:"fas",iconName:"house",icon:[576,512,[63498,63500,127968,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5C575.8 273.5 560.8 287.6 543.8 287.6H511.8L512.5 447.7C512.5 450.5 512.3 453.1 512 455.8V472C512 494.1 494.1 512 472 512H456C454.9 512 453.8 511.1 452.7 511.9C451.3 511.1 449.9 512 448.5 512H392C369.9 512 352 494.1 352 472V384C352 366.3 337.7 352 320 352H256C238.3 352 224 366.3 224 384V472C224 494.1 206.1 512 184 512H128.1C126.6 512 125.1 511.9 123.6 511.8C122.4 511.9 121.2 512 120 512H104C81.91 512 64 494.1 64 472V360C64 359.1 64.03 358.1 64.09 357.2V287.6H32.05C14.02 287.6 0 273.5 0 255.5C0 246.5 3.004 238.5 10.01 231.5L266.4 8.016C273.4 1.002 281.4 0 288.4 0C295.4 0 303.4 2.004 309.5 7.014L564.8 231.5C572.8 238.5 576.9 246.5 575.8 255.5L575.8 255.5z"]},RE=PE,LE=[{name:"Characters",bg:"https://images8.alphacoders.com/115/1155168.jpg",icon:"https://webstatic.hoyoverse.com/upload/uploadstatic/contentweb/20210622/2021062217445040081.png"},{name:"Weapons",bg:"https://images2.alphacoders.com/110/thumb-1920-1109233.jpg",icon:"https://www.genshinlab.com/wp-content/uploads/2021/10/Genshin_Icon_Bow.png"},{name:"Artifacts",bg:"https://attackofthefanboy.com/wp-content/uploads/2020/12/genshin-impact-dragonspine-weapons.jpg?w=1280",icon:"https://webstatic.hoyoverse.com/upload/contentweb/2022/08/16/f77d0c308b54728b6a1f3bc525e42955_1063974383729558189.png"},{name:"Banners",bg:"https://staticg.sportskeeda.com/editor/2022/03/81dfb-16461722006248-1920.jpg",icon:"https://api.ambr.top/assets/UI/UI_ItemIcon_223.png"},{name:"Interactive Map",bg:"https://cdn.mapgenie.io/images/games/genshin-impact/preview.jpg",icon:"https://gim.appsample.net/markers-v3/o3.png",link:"https://genshin-impact-map.appsample.com/#/"}],jE=function(){return(0,r.useEffect)((function(){ak("Home","home")})),(0,Z.jsxs)("div",{className:"home__container",children:[(0,Z.jsxs)("div",{className:"flex items-center gap-2 flex-wrap text-center justify-center sm:justify-start",children:[(0,Z.jsx)(DE,{className:"text-2xl lightcolor",icon:RE}),(0,Z.jsxs)("h1",{className:"page__title lightcolor text-4xl font-bold text-center sm:text-left group",children:["Home Page ",(0,Z.jsx)("span",{className:"hidden group-hover:inline",children:"#"})]})]}),(0,Z.jsx)("div",{className:"banners flex flex-col gap-8 mt-8 text-white text-2xl font-bold",children:LE.map((function(e,t){return e.link?(0,Z.jsxs)("a",{href:e.link,target:"_blank",rel:"noreferrer nofollower",className:"rows relative block py-10 sm:py-14 px-6 rounded-xl group shadow-2xl animation",style:{background:"url(".concat(e.bg,")center center/cover no-repeat"),animationDelay:"".concat(.1*t,"s")},children:[(0,Z.jsx)("div",{className:"overlay absolute inset-0 h-full w-full bg-black bg-opacity-40 rounded-xl transition duration-300 group-hover:bg-opacity-20 z-40"}),(0,Z.jsxs)("p",{className:"relative z-50 flex items-center gap-2",children:[(0,Z.jsx)("img",{src:e.icon,alt:"",className:"icon w-[50px]"}),e.name]})]},t):(0,Z.jsxs)(J,{to:"/".concat(e.name),className:"rows relative block py-10 sm:py-14 px-6 rounded-xl group shadow-2xl animation",style:{background:"url(".concat(e.bg,")center center/cover no-repeat"),animationDelay:"".concat(.1*t,"s")},children:[(0,Z.jsx)("div",{className:"overlay absolute inset-0 h-full w-full bg-black bg-opacity-40 rounded-xl transition duration-300 group-hover:bg-opacity-20 z-40"}),(0,Z.jsxs)("p",{className:"relative z-50 flex items-center gap-2",children:[(0,Z.jsx)("img",{src:e.icon,alt:"",className:"icon w-[60px]"}),e.name]})]},t)}))})]})},ME=function(e){var t=e.arr,n=e.limit;return t.slice(0,n).map((function(e,t){return(0,Z.jsxs)(J,{className:"group block rounded-xl bg-[#23252a] shadow-xl text-white relative grid__card",to:"/ViewArtifacts/".concat(e.name),"data-name":e.name,title:e.name,children:[(0,Z.jsxs)("div",{className:"icon relative ".concat(e.rarity.includes("5")?"bg-[#e1872280]":"bg-gray-600"," rounded-t-xl"),children:[(0,Z.jsx)("div",{className:"w-1/2 absolute inset-0 h-full bg-[#ae92d6] z-0 rounded-tl-xl"}),(0,Z.jsx)("img",{src:e.images.flower?e.images.flower:e.images.circlet,alt:"",className:"mx-auto rounded-t-xl relative z-30"})]}),(0,Z.jsx)("div",{className:"artifact__name text-center py-3 px-1",children:(0,Z.jsx)("p",{className:"group-hover:text-[#6291e9] transition duration-300 text-ellipsis overflow-hidden",children:e.name})})]},t)}))},FE=function(){var e=u(uk("Artifacts","artifacts"),14),t=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],c=e[6],l=e[7],f=e[8],h=e[9],d=e[10],p=e[11],v=e[12],m=e[13];function g(){return g=oe(ie().mark((function e(){var t,r;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),t=Zm(rk,"artifacts"),r=ty(t,oy(40)),e.next=5,Iy(r).then((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),s(t.sort((function(e,t){return Number(t.rarity[0])-Number(e.rarity[0])})))})).catch((function(){return a("Error loading Artifacts Data. Try again later.")}));case 5:n(!1);case 6:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function y(e,t,n){var r=[];r=e?t.sort((function(e,t){return Number(t.rarity[0])-Number(e.rarity[0])})):t.sort((function(e,t){return Number(e.rarity[0])-Number(t.rarity[0])})),n(Ue(r))}return(0,r.useEffect)((function(){!function(){g.apply(this,arguments)}()}),[]),(0,r.useEffect)((function(){v||(c.length>0&&y(d,c,l),y(d,o,s))}),[d]),t?(0,Z.jsx)(lk,{}):i?(0,Z.jsx)(ne,{message:i}):(0,Z.jsxs)("div",{className:"artifact__container",children:[(0,Z.jsx)(dk,{title:"Artifacts",searchInput:m,searchInputHandler:function(){return sk(o,l,m.current.value,p)},searchPlaceholder:"Search for Artifact Name...",setSort:function(){return p(!d)},order:d,gridData:(0,Z.jsx)(ME,{arr:o.length>0&&0===c.length?o:c,limit:f})}),!c.length>0?o.length>0&&f<o.length&&(0,Z.jsx)(fk,{onclick:h}):c.length>0&&f<c.length&&(0,Z.jsx)(fk,{onclick:h})]})},VE=function(e){var t=e.texts,n=u((0,r.useState)(!1),2),i=n[0],a=n[1],o=u((0,r.useState)(0),2),s=o[0],c=o[1],l=(0,r.useRef)();return(0,r.useEffect)((function(){var e;c(null===(e=l.current)||void 0===e?void 0:e.offsetHeight)}),[l]),(0,Z.jsxs)("div",{children:[(0,Z.jsx)("p",{ref:l,className:"".concat(i?"":" max-h-[100px] overflow-hidden"," transition duration-300 mt-2"),children:t}),s>=100&&(0,Z.jsxs)("button",{className:"lightcolor underline font-bold",onClick:function(){return a(!i)},children:["Show ",i?"less":"more","..."]})]})},BE=function(e){var t=e.version;return(0,Z.jsxs)("p",{className:"version mt-6 text-lg text-white",children:[(0,Z.jsx)("span",{className:"font-semibold",children:"Released:"})," Version ",t]})},UE=function(){var e=V().name,t=u((0,r.useState)(""),2),n=t[0],i=t[1],a=u((0,r.useState)(),2),o=a[0],s=a[1],c=u((0,r.useState)(""),2),l=c[0],f=c[1],h=F();function d(){return d=oe(ie().mark((function e(t){var n;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$m(rk,"weapons",t),e.next=3,Ey(n).then((function(e){if(e.exists()){var t=e.data().effect;if(""!==t){for(var n=e.data().r1,r=0;r<n.length;r++)t=t.split("{"+r+"}").join(n[r]);f(t)}s(e.data())}else h("/Weapons",{replace:!0})}));case 3:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}return(0,r.useEffect)((function(){void 0!==e?function(e){d.apply(this,arguments)}(e):h("/Error",{replace:!0}),i(e),ak("".concat(e),"weapons")}),[]),(0,Z.jsxs)("div",{className:"weapon__container",children:[(0,Z.jsxs)(J,{to:"/Weapons",id:"return",className:"flex items-center gap-1 lightcolor transition duration-300 opacity-70 hover:opacity-100 font-semibold w-max",children:[(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,Z.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})}),(0,Z.jsx)("span",{className:"text-xl",children:"Return to Weapons"})]}),(0,Z.jsx)("h1",{className:"page__title lightcolor text-4xl font-bold mt-4 text-center sm:text-left",children:n}),o&&(0,Z.jsxs)("div",{className:"mt-10 max-w-screen-xl mx-auto darkblue p-6 rounded-xl",children:[(0,Z.jsxs)("div",{className:"weapon__data rounded-xl flex items-start flex-col md:flex-row gap-5",children:[(0,Z.jsx)("div",{className:"self-center md:self-start p-4 rounded-xl weapon__icon shrink-0 ".concat(o.rarity>="4"?"5"===o.rarity?"bg-[#e1872280]":"bg-[#ae92d680]":"bg-gray-600"),children:(0,Z.jsx)("img",{src:o.images.icon,className:"mx-auto md:mx-0 w-[256px]",alt:""})}),(0,Z.jsxs)("div",{className:"weapon__details text-white",children:[(0,Z.jsx)("p",{className:"weapon__name text-3xl sm:text-4xl font-bold",children:o.name}),(0,Z.jsxs)("p",{className:"weapon__rarity flex items-center text-xl mt-2",children:[o.rarity,(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Z.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})]}),(0,Z.jsxs)("div",{className:"weapon__stats flex flex-col sm:flex-row gap-6 my-4 text-xl",children:[(0,Z.jsxs)("p",{className:"base__atk",children:[(0,Z.jsx)("span",{className:"block font-bold",children:"Base Atk (Lv.1)"}),(0,Z.jsx)("span",{className:"block",children:o.baseatk})]}),""!==o.substat&&(0,Z.jsxs)("p",{className:"sub__stat",children:[(0,Z.jsxs)("span",{className:"block font-bold",children:[o.substat," (Lv.1)"]}),(0,Z.jsxs)("span",{className:"block",children:[o.subvalue," %"]})]})]}),(0,Z.jsx)("span",{className:"weapon__type mt-4 py-2 px-3 rounded-lg bg-blue-800/30 text-opacity-70 text-white",children:o.weapontype}),(0,Z.jsx)("p",{className:"text-normal sm:text-xl opacity-40 mt-5",children:o.description})]})]}),""!==o.effectname&&(0,Z.jsxs)("div",{className:"weapon__effect mt-6 text-white",children:[(0,Z.jsxs)("h2",{className:"effect__name font-bold text-xl sm:text-2xl lightcolor",children:[o.effectname," ",(0,Z.jsx)("span",{className:"text-lg font-normal",children:(0,Z.jsx)("select",{name:"refinementLevels",className:"cursor-pointer bg-blue-800/30 py-2 px-4 outline-none",onChange:function(e){return function(e){for(var t=e.target.value,n=o[t],r=o.effect,i=0;i<n.length;i++)r=r.split("{"+i+"}").join(n[i]);f(r)}(e)},children:[1,2,3,4,5].map((function(e,t){return(0,Z.jsxs)("option",{value:"r".concat(e),children:["R",e]},t)}))})})]}),(0,Z.jsx)("p",{className:"weapon__skill mt-2",children:l})]}),(0,Z.jsxs)("div",{className:"weapon__story mt-8 text-white",children:[(0,Z.jsx)("h2",{className:"effect__name font-bold text-xl sm:text-2xl lightcolor",children:"Weapon Story"}),(0,Z.jsx)(VE,{texts:o.story?o.story:"N/A"})]}),(0,Z.jsx)(BE,{version:o.version})]})]})},zE="data:image/png;base64,UklGRjgDAABXRUJQVlA4WAoAAAAQAAAAHQAAHQAAQUxQSB8BAAABgLJt27Lmxpm7u0viIFmb/gAaadl9Ffrc111/AGkuDSrUubvLE15B1yNiAhBBo6KCUj03Vx2E+DmiufjAtX8SfbYHLHqTiGgzOlCqWWZWJZdoLlPy0Mq0gq8sbywCmm68fWmcgm1mu4CT1uf9GFWj649+nUzUBHEnohjnL9GwEuYrIlcKoGx+5j03K4EUF9GVFYjaIHpbMaDmmITHNTCsvBFtRAGwfxGRb8BNku4BHxF92QEgx0MB9uQwyolATSgZ1D8G5rEe3OQdibsbiZ1kHvoljrYl+iE0nop+f0SnRpFuSSS7pBPB9urfqw2SCfM//vzMJ8ggvfXoQ+bjqDUdfmbaN654Vxv2TAQwyuQ4eHg4cJiiEGBFisWSosA/CQBWUDgg8gEAAHALAJ0BKh4AHgAAwBIlpABOGuff8M+pOTheW/kpoiv6f+Mn5GZiX+q/lhVMf9L6HX9d5Mvn7/ge4B/KP5h/nv7F+43Gq/qadHWxOfe8PF5GIAaL+QWIXZa+MunYnRemDOJIhAAA/v/+Tl762vwv0bQjQ9rBQ1PY8gqANQa7NOc258g/+FbshI7ZN5O4dSqfM1/z3x6+nspZY/mNxp4Wy3YXqEboGnYfDl3wRPQerD/KD+Dv+t4/cLn/Qd8RLvxwaPTH9ObXoHzp8f+HEXUR2QlfuTke3+Oi4qO8ECeyaMw/R2M0UPN6jAg611/b/3FjgbW2YeTYZlGTcnyfrYTbVkFJ+watfB/Ml/7CoL/q94cpT+v+MdsMb8U/3VqR5z5HHP9OLhrLF1agkKxvlz6+S9CZIk8I/5h0KzD2fW0wtFIzc26/+rMlTYL4jLcV4FT7QimJd/4oqOa7uVruHowXSVv3+FUlVqLRNCrebUn+3Yqhah/Gc0A/PXbjpOkLd1/CsL1cScY5ni9X48cpRZFvJ9CnEwLkeY/xD94cvFRoKwNYcmit1OXfTHlwUB87H4Nt21ahSCd4zLAtPh3qoQHZ+EQnOzVZ55Htn4oGKFJaRmRBFDs0/5tNhKxkcuXisWGM9BKpTzyASra7Gzj9LEmQ4AAAAA==",qE=function(){return(0,Z.jsx)("div",{className:"circle w-[20px] h-[20px] hidden sm:flex items-center justify-center rounded-full shrink-0",style:{border:"0px solid #6a91e9"},children:(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 lightcolor",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,Z.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})})})},KE=function(e){var t=e.title;return(0,Z.jsx)("h2",{className:"lightcolor text-2xl font-bold",children:t})},QE=function(){var e=u((0,r.useState)(""),2),t=e[0],n=e[1],i=u((0,r.useState)(),2),a=i[0],o=i[1],s=V().name,c=F(),l=[{name:"flower",img:"data:image/png;base64,UklGRkADAABXRUJQVlA4WAoAAAAQAAAAHQAAHQAAQUxQSCYBAAABkGPbtmlb69m2bdu2X87cBbBt2/YLbXzbtu1/tT72wUcBImIC4P+qFuIswUzJ0VySYL785elUjBgDk8Vnd2YTZABU5hARn6cK0dIcFiDixw4dyOL8hqfU6Yg08vF3frf9WSQ+d6ajeBrJH4++U7jQOkNB84YuHfEFZt2idCCdz4TXbilMx+gcE+Rf8aUDaZ+YII5LUMkFVbxkdkmLJOQx8w5ZvKhBCr+JrI6KEhRWkFVOf1mllxCAzUt2BFzEAXEAswfsIOL3DAAQr+WwtaEKAKCUc+aLAFEgYPI5CYhC2vGljQ25M0wmFEiUdkcc/HhpjUP4Mm0CDIUMk7KjtIsEyNttK0pUBFbtriPuGAoBy6LNiI9CgXWpebyXLMKekF+Whwj8LwFWUDgg9AEAANAMAJ0BKh4AHgAAwBIlpABPLn0T8L/2O7FPuF6V5IJ6X+S/4q6hr+v/iX+VWYV/nH5VapF/jfxV17P+Z/ID3Pc4bzR/oPcA/kf8y/zf5h/EB5s3suHWnle79FwUZiZmBvQtCRoX8PgAcOm3ZGOVgAD+/s22X6QO57fvDiC6WlHqrNUCCFx6EXjRnxOZG616qn9tNvb/Sk80IdbEJ4sQcPfcYF3ZM/eGbXx/pNOkaqdrGmjXfQfC6+TU1QJhckR26kieh//xbY1OK71deSb7kqFf7IHrvM1RHi4rNWkC75+imwKef/44RYec+mrIHvRD5K/c3+NOfi5q+zANppOIpAav/Z12w+KJe4PdDlxyDQij7NWBdMNNaVnN/2R/zr8qVYLqzUVHjHXnn/+Vq870tRC5J5+bNvFJnfkUxf++WHOKUxnN7UeJEdI/8xak8aN4wvET6KaXsM0QsECgOzOdr1IHWEggu/5AKZqoW0O5FHBxRmJdJuDemU9h6A8E6XJbaqE758vW00NZuLjUOnwkdLxEfmkRXE9iJsql1R/p+3gK9xPKRAcz+t8ZwPK0QHBTugeqlmI1Et0/VPRUErgh3Zczx3s8NvFnFYfDr6T7PsZ67pBe+00x4juKdf9z8UKl/zkOWCaM6In+1mG8gIXn2dshAAAA",title:"Flower of Life",desc:"Flower of Life: Flat HP"},{name:"plume",img:"data:image/png;base64,UklGRqwCAABXRUJQVlA4WAoAAAAQAAAAHQAAHQAAQUxQSPMAAAABgLtt2/FV/PP7Zdu2jc22vXJt/W21uza32a3GZK227X544vO+ISImAP5fZRM3O1Vecm6lw0v7672BfBwrt2X4eUidg07BAn47Z8hm1/WE309oMnmOILVKwOI9g9TbOGB0m0TymC6D4SCSbzKArlAmJonLlRjCDpA8bwFkYdYaku8LgW66gGRxhRpD/hNJ3GYIdLkGpD7WGwGj9SzlTKQJjA7tYsJcggIwKlbK8PtFP2BW68Nv73t9gV177IvrydY8TeBosvLpuERHHrjmPaDs5lykAHwNxhE3skL0gXPUA2KFHHAPOsdlL+CvmlLiKfiBPwwAVlA4IJIBAAAwCgCdASoeAB4AAMASJaQAVwBzgHPW+rmOezIn46ZERpDP951KHmY/y3kp+g/9V7gH8h/ln+Y/rH7b/Bn1F/65HTOo6z6pqEQp0CgM87TOfRwUs1zn1BUDpAAA/v/k5e8ehWsiCYHeA72PA/qC/kaKlMzyJeSDuPQh/mgt8YYsBLHXZBBlHgiun3lHybzkn8HevkTg1FxknuKh/sUEWbv+hRzsZ+9/aGoRJsKdMFh8Gkfrba6HMq+5VmQXXukyWjfRGPOYTfSDSUsVnertXQjhvPZ06ybT0D/135/UfuX06VJLEMCPSLRcOgO8wkX5/+2PiucLaSSllUAjkKPikJK2uVg9ccqqM+lPnSdQhbX/lTknSdULsOKZWmCKi1R0zSTup2QHlkl3C8+FoWHWW1MPBKPONo76whf9fSIyu68HkdveHF/EF98W0QzjOu//n/9XeGX+Wfz3LGKSSLttB2l64jPmPwHcwRxJRF9lEWXJ12VVmE/M+Ana0CDOLVun2cuPJmhAcD9ZkaZ8EO+UnRgAAAA=",title:"Plume of Death",desc:"Plume of Death: Flat ATK"},{name:"sands",img:"data:image/png;base64,UklGRtQCAABXRUJQVlA4WAoAAAAQAAAAHQAAHQAAQUxQSAMBAAABgKtt+/nml7oN59q2bc7Z6zEHkStzphxDzdXm6na2bf3e4dfr+37FAUTEBIh/0JJXwsyzkPzcD6/MB7cfxbYF9paNYlnjrVkohuY9zl6zgSJE2yvttU0w7c+0Zzsn85R2mskxDtOGjRzReKp8fiqnjYLt23kMYH8fwHGnL094N61KSAm52uQttMbPAcBcvNAcPKlMBusxpAx/KV/DKQYd5esS38r1cg1R8yDOR7G8XJIiXV6c8G2o+/sKtsM5lXcA3uZqa+feANxVchwSuHWG+/mFO28B6WDkLAK4HO0bGOgbvQSwmEMyjoE9ZqTYtnnbNopxkjdppIhCT3cXudtTKP5BAFZQOCCqAQAAEAsAnQEqHgAeAADAEiWkAE80fY/wg52L03x3PgAba38SfyAzEX9z/KPVDv8B+OWu9/4HpL5ovkD/Qe4H/F/5V/ovy+7Gb2M0D4AEBAbYhleSaimQ/fGC2jfTz/ipTYXYAAD+/7nngIbTUOGaHegqf/xV8f+/9D0ltxrl6wW/9mRfSSjZtdIifwb94Q307JkEg/l+0qS9bs6CtlcV7fURl//coeTsATYDPdejZ8atDTgbQv5/qUXVT5Un1K8vMX/dZKFAk6R1PkEmhWbGqFEhh3HOeFk52Z5Fw87doFVorJTJeVfs6++wRrPr254Lgdjr8fXG76q5sSTDr6jle4UorYZMU+ElfoP5wthaXapVRU4KauxrL+HWAPe+3vlxvWQov+Jj5Ie3+bYDHWhJNb9lroth/LL3FkTLtvgftCBnc88zc//R36oKfJeoxuxlKY34QvfvlbqMpKy4rKZ4Z77iktS1W1b/MYi17vXaUquaHy6+3pT+RUymVTY++q86L//LJGUIhJZhZ/fl+Je5+DN8ylP/l2zevJyb3H+Y80AV9JCiVv5HJC/tYDgA",title:"Sands of Eon",desc:"Sands of Eon: HP% /ER% /ATK% /DEF% /Elemental Mastery"},{name:"goblet",img:"data:image/png;base64,UklGRoACAABXRUJQVlA4WAoAAAAQAAAAHQAAHQAAQUxQSNkAAAABgKNtt2ln7di23VllngwgbVpnAM4MbFcZgCrbRmfbtpOrZK21oz4iJgD+eqErURDcsnv72b3ZbogoUiglKorEV7p9Sql9ul+JEoUMRYn4CrxmZYx7AGo0IaNRDzPolFGjjYkCGelAjHtH9neQ+2iK3wayNI/M2FO0shVf4W8pQHbr57Q70CB0hNbvD1zf6mPsoNwb+HpRq19NReiCTJH18Ok6FiQ7t3yqtZTjkNx08emoLsZcQuTIqxJ9aAlmuU0ryS1mnIgL2pY7x6ZooJ+aYcABLV2ygH8QAFZQOCCAAQAAMAkAnQEqHgAeAADAEiWkAE4W/Eavk/jNOmv6r+Sv4za65qQPM0/mfJB8y/8X3BP1B/z35c/EB1AB1cu/6rn3TL0n2dRskz+2wyAM/KEEKF2yAAD+/krKNEwapi/HTSTlbaV9fl5AbxRW5L4mGqrOd/uJ2sP+tKLf67lzLAvYtOVlqx//1ZB4b2LD/pK18ImPRRrtn83gQp/5EnV8xs2HOfeWden84aiWPtq5/UcAX+Fl//d/DxKQCJTLMU7+8d/52KiblB/2nwNgq7ZPdrE35bJ//w9Yoe2Pf/UqJ8q//pIU03x/8+tv/Ww/xUKb0+2uIRl1uexgfl/yv3aFFYqdsVG39v1DTd00oeZmF1Gpx7mEiRBDhbjtvGyxv8W1J6ihpD38/+b3L8QsR7Adpq5b9/Ff/6Y0GwWsuzdQNtzTr/+JaHPEx2b0aiCwP/9d5kLJW7oZUv9U+wd9Qj/snIeiT/w0FVwqXHVQ2ANT++875i455A8PuiaqnUA5YTybBAAA",title:"Goblet of Eonothem",desc:"Goblet of Eonothem:  HP% /ATK% /DEF% /Elemental DMG Bonus% /Elemental Mastery"},{name:"circlet",img:zE,title:"Circlet of Logos",desc:"Circlet of Logos: HP% /ATK% /DEF% /Crit Rate% /Crit DMG% /Elemental Mastery"}];function f(){return f=oe(ie().mark((function e(t){var n,r;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$m(rk,"artifacts",t),e.next=3,Ey(n);case 3:(r=e.sent).exists()?o(r.data()):c("/Artifacts",{replace:!0});case 5:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}return(0,r.useEffect)((function(){void 0!==s?function(e){f.apply(this,arguments)}(s):c("/Error",{replace:!0}),n(s),ak("".concat(s),"artifacts")}),[]),(0,Z.jsxs)("div",{className:"artifact__container",children:[(0,Z.jsxs)(J,{to:"/Artifacts",id:"return",className:"flex items-center gap-1 lightcolor transition duration-300 opacity-70 hover:opacity-100 font-semibold w-max",children:[(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,Z.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})}),(0,Z.jsx)("span",{className:"text-xl",children:"Return to Artifacts"})]}),(0,Z.jsx)("h1",{className:"page__title lightcolor text-4xl font-bold text-center sm:text-left mt-4",children:t}),a&&(0,Z.jsxs)("div",{className:"artifact__details mt-10 max-w-screen-xl mx-auto darkblue p-6 rounded-xl",children:[(0,Z.jsxs)("div",{className:"artifact__data rounded-xl flex items-start flex-col md:flex-row gap-5",children:[(0,Z.jsxs)("div",{className:"icon relative ".concat(a.rarity.includes("5")?"bg-[#e1872280]":"bg-gray-600"," rounded-xl self-center md:self-start"),children:[(0,Z.jsx)("div",{className:"w-1/2 absolute inset-0 h-full bg-[#ae92d6] z-0 rounded-l-xl"}),(0,Z.jsx)("img",{src:a.images.flower?a.images.flower:a.images.circlet,alt:"",className:"mx-auto rounded-t-xl relative z-30 w-[306px]"})]}),(0,Z.jsxs)("div",{className:"artifact__info text-white pt-2",children:[(0,Z.jsx)("p",{className:"artifact__name text-3xl font-bold",children:a.name}),(0,Z.jsx)("p",{className:"rarity flex items-center gap-3 mt-2",children:a.rarity.map((function(e,t){return(0,Z.jsxs)("span",{className:"rarity__lvl flex items-center ",children:[e,(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Z.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})]},t)}))}),(0,Z.jsxs)("div",{className:"labels flex items-center gap-3 flex-wrap mt-4",children:[(0,Z.jsx)("span",{className:"artifact__type block py-2 px-3 rounded-lg bg-blue-800/30 text-opacity-90 text-white",children:"Artifact"}),(0,Z.jsx)("span",{className:"artifact__type block py-2 px-3 rounded-lg bg-blue-800/30 text-opacity-90 text-white",children:a.flower.relictype?a.flower.relictype:a.circlet.relictype})]}),(0,Z.jsx)("p",{className:"artifact__description mt-4",children:a.flower.description?a.flower.description:a.circlet.description})]})]}),(0,Z.jsxs)("div",{className:"set__bonus mt-8 text-white",children:[(0,Z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Z.jsx)(qE,{}),(0,Z.jsx)(KE,{title:"Artifact Set Bonuses: ".concat(a.name)})]}),""!==a.setBonus.two?(0,Z.jsxs)("div",{className:"max-w-screen-md columns mt-4 rounded-lg border-2 border-white/50",children:[(0,Z.jsxs)("div",{className:"sm:grid sm:grid-cols-3 bg-gray-700 rounded-t-lg border-b-2 border-white/50",children:[(0,Z.jsx)("p",{className:"font-semibold sm:border-r-2 p-3 border-white/50",children:"2-Set Bonus:"}),(0,Z.jsx)("p",{className:"col-span-2 p-3",children:a.setBonus.two})]}),(0,Z.jsxs)("div",{className:"sm:grid sm:grid-cols-3 bg-slate-800 rounded-b-lg",children:[(0,Z.jsx)("p",{className:"font-semibold p-3 sm:border-r-2 border-white/50",children:"4-Set Bonus:"}),(0,Z.jsx)("p",{className:"col-span-2 p-3",children:a.setBonus.four})]})]}):(0,Z.jsx)("div",{className:"max-w-screen-md columns mt-4 rounded-lg border-2 border-white/50",children:(0,Z.jsxs)("div",{className:"sm:grid sm:grid-cols-3 bg-gray-700 rounded-lg",children:[(0,Z.jsx)("p",{className:"font-semibold border-r-2 border-white/50 p-3",children:"1-Set Bonus:"}),(0,Z.jsx)("p",{className:"col-span-2 p-3",children:a.setBonus.one})]})})]}),(0,Z.jsxs)("div",{className:"set__bonus mt-8 text-white",children:[(0,Z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Z.jsx)(qE,{}),(0,Z.jsx)(KE,{title:"".concat(a.name," Set Pieces")})]}),(0,Z.jsx)("div",{className:"set__pieces grid p-8 sm:grid-cols-3 md:grid-cols-5 gap-4 mt-4 bg-slate-800 text-sm rounded-lg",children:a.images.flower?(0,Z.jsx)(Z.Fragment,{children:l.map((function(e,t){return(0,Z.jsxs)("div",{className:"col rounded-lg bg-slate-900 relative",title:e.title,children:[(0,Z.jsx)("div",{className:"rounded-full p-1 absolute left-3 top-3 bg-black/50",children:(0,Z.jsx)("img",{src:e.img,alt:"",className:""})}),(0,Z.jsx)("div",{className:"bg-gray-700 rounded-t-lg",children:(0,Z.jsx)("img",{src:a.images[e.name],className:"w-[150px] mx-auto rounded-lg",alt:""})}),(0,Z.jsx)("p",{className:"rounded-b-lg px-2 py-3 text-center",children:a[e.name].name})]},t)}))}):(0,Z.jsxs)("div",{className:"col rounded-lg bg-slate-900 relative",title:"Circlet of Logos",children:[(0,Z.jsx)("div",{className:"rounded-full p-1 absolute left-3 top-3 bg-black/50",children:(0,Z.jsx)("img",{src:zE,alt:"",className:""})}),(0,Z.jsx)("div",{className:"bg-gray-700 rounded-t-lg",children:(0,Z.jsx)("img",{src:a.images.circlet,className:"w-[150px] mx-auto rounded-lg",alt:""})}),(0,Z.jsx)("p",{className:"rounded-b-lg px-2 py-3 text-center",children:a.circlet.name})]})})]}),(0,Z.jsxs)("div",{className:"set__stats mt-8 text-white",children:[(0,Z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Z.jsx)(qE,{}),(0,Z.jsx)(KE,{title:"Artifact Pieces Main Stats"})]}),(0,Z.jsx)("div",{className:"stats__container flex flex-col gap-4 mt-6 sm:text-lg",children:l.map((function(e,t){return(0,Z.jsxs)("div",{className:"row flex items-center gap-2",children:[(0,Z.jsx)("img",{src:e.img,alt:e.name,className:"w-[30px]"}),(0,Z.jsx)("p",{children:e.desc})]},t)}))})]}),(0,Z.jsx)(BE,{version:a.version})]})]})},WE=function(e){return"".concat(e.getFullYear(),"/").concat((e.getMonth()+1).toString().padStart(2,"0"),"/").concat(e.getDate().toString().padStart(2,"0")," - ").concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0"),":").concat(e.getSeconds().toString().padStart(2,"0"))},HE=function(e){var t=Math.floor(e/1e3%60),n=Math.floor(e/6e4%60),r=Math.floor(e/36e5%24),i=Math.floor(e/864e5%365);return"".concat(i.toString().padStart(2,"0"),"d ").concat(r.toString().padStart(2,"0"),"h ").concat(n.toString().padStart(2,"0"),"m ").concat(t.toString().padStart(2,"0"),"s")},GE=function(e){var t=e.title,n=e.data;return(0,Z.jsxs)("div",{className:"mt-8",children:[(0,Z.jsxs)("p",{className:"text-lg",children:[(0,Z.jsxs)("span",{className:"font-bold",children:[t," "]})," "]}),(0,Z.jsx)("ul",{className:"list-disc flex flex-col gap-2 px-4 mt-2",children:null===n||void 0===n?void 0:n.map((function(e,t){return(0,Z.jsx)("li",{children:e.name},t)}))})]})},YE=function(e){var t=e.className,n=e.onClick;return(0,Z.jsx)("button",{"data-action":"prev",className:t,onClick:n,children:(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 sm:w-8 h-6 sm:h-8",children:(0,Z.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})})},JE=function(e){var t=e.title,n=e.imageData,i=ok(),a=u((0,r.useState)(0),2),o=a[0],s=a[1],c=n.length-1||0,l=n.map((function(){return r.createRef()}));(0,r.useEffect)((function(){i||(s(0),l[0].current.parentNode.scrollLeft=0)}),[n]);var f=function(e){var t=o;"PREVIOUS"===e&&(o<=0?t=c:t-=1),"NEXT"===e&&(o>=c?t=0:t+=1),h(t)},h=function(e){var t=l[e].current.offsetLeft+l[e].current.offsetWidth,n=l[e].current.parentNode.offsetLeft+l[e].current.parentNode.offsetWidth;t>=n+l[e].current.parentNode.scrollLeft?l[e].current.parentNode.scrollLeft=t-n:t<=l[e].current.parentNode.offsetLeft+l[e].current.parentNode.scrollLeft&&(l[e].current.parentNode.scrollLeft=l[e].current.offsetLeft-l[e].current.parentNode.offsetLeft),s(e)};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("div",{className:"mt-6",children:[t&&(0,Z.jsxs)("p",{className:"mb-4 lightcolor text-xl font-bold",children:[t," ",n[o].title&&n[o].title]}),(0,Z.jsxs)("div",{className:"relative group",children:[(0,Z.jsxs)("div",{className:"absolute px-4 w-full hidden sm:flex justify-between items-center top-[50%] translate-y-[-50%] z-10 transition duration-500 opacity-30 group-hover:opacity-100",children:[(0,Z.jsx)(YE,{className:"rotate-180 text-white p-1 sm:p-2 bg-black rounded-lg transition duration-300 hover:bg-black/70",onClick:function(){return f("PREVIOUS")}}),(0,Z.jsx)(YE,{className:"text-white p-1 sm:p-2 bg-black rounded-lg transition duration-300 hover:bg-black/70",onClick:function(){return f("NEXT")}})]}),(0,Z.jsx)("div",{className:"overflow-x-hidden flex gap-10",children:n.map((function(e,t){return(0,Z.jsx)("div",{className:"w-full flex-shrink-0",ref:l[t],children:(0,Z.jsx)("img",{src:e.src||e.url||e,alt:e.name||"image",className:"rounded-lg mx-auto"})},t)}))})]})]}),(0,Z.jsxs)("div",{className:"flex justify-between sm:justify-center items-center mt-4 sm:mt-6",children:[(0,Z.jsx)(YE,{className:"mobile__only rotate-180 text-white p-1 sm:p-2 bg-blue-800/30 rounded-lg sm:hidden",onClick:function(){return f("PREVIOUS")}}),(0,Z.jsx)("div",{className:"btn__group flex gap-4",children:Ue(Array(n.length||0).keys()).map((function(e,t){return(0,Z.jsx)("button",{className:"p-1.5 sm:p-2 rounded-full transition duration-300 ".concat(o===e?"bg-gray-700":"bg-gray-300 hover:bg-gray-500"),"aria-label":"navigate images",onClick:function(){return h(e)},"data-index":t,disabled:o===e},t)}))}),(0,Z.jsx)(YE,{className:"mobile__only text-white p-1 sm:p-2 bg-blue-800/30 rounded-lg sm:hidden",onClick:function(){return f("NEXT")}})]})]})},XE=function(e){var t=e.bannerData,n=e.TimeLeftAsia,r=e.TimeLeftUS,i=e.msLeftAsia,a=e.msLeftUS,o=e.corpa,u=e.startDate,s=e.endDate,c=new Date(u.replace("-",""))>new Date?"(Comming Soon)":new Date(s.replace("-",""))<new Date?"(Ended)":"";return(0,Z.jsx)("div",{className:"mt-8 banner__detail max-w-screen-lg mx-auto p-8 darkblue rounded-xl shadow-xl",children:Object.keys(t).length>0?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("span",{className:"text-2xl underline",children:["Phase: ",t.version," ",(0,Z.jsx)("span",{className:"font-bold",children:c})]}),"banner2"===t.id&&(0,Z.jsxs)("span",{className:"text-lg sm:text-2xl block mt-4",children:["Banners Ending in:",(0,Z.jsxs)("ul",{className:"list-disc px-6",children:[(0,Z.jsxs)("li",{children:[" ",n," ","(Asia/TW/HK Server)"," ",i<1e3&&"-Ended"]}),(0,Z.jsxs)("li",{children:[" ",r," ","(NA/EU Server)"," ",a<1e3&&"-Ended"]})]})]}),(0,Z.jsx)(JE,{title:"Featured Banners: ",imageData:t.featured.big}),(0,Z.jsxs)("div",{className:"mt-8",children:[(0,Z.jsx)("p",{className:"sm:text-lg",children:o}),(0,Z.jsxs)("div",{className:"mt-6",children:[(0,Z.jsx)("p",{className:"lightcolor text-xl sm:text-2xl",children:"\u203b Banner Details"}),(0,Z.jsx)("div",{className:"mt-2",children:(0,Z.jsxs)("p",{className:"text-lg",children:[(0,Z.jsx)("span",{className:"font-bold",children:"Duration:"})," ",(0,Z.jsx)("br",{}),(0,Z.jsx)("span",{className:"block",children:u})," -- ",(0,Z.jsx)("span",{className:"block",children:s})]})}),(0,Z.jsx)(GE,{title:"Featured 5* Characters and Weapons:",data:t.featured.big}),(0,Z.jsx)(GE,{title:"Featured 4* Characters:",data:t.featured.small})]})]}),(0,Z.jsxs)("div",{className:"mt-8",children:[(0,Z.jsx)("p",{className:"lightcolor text-xl sm:text-2xl",children:"\u203b Additional Details"}),(null===t||void 0===t?void 0:t.additionalDetails)&&(0,Z.jsx)("div",{className:"mb-6",children:t.additionalDetails.map((function(e,t){return(0,Z.jsx)("li",{className:"mt-2",children:e},t)}))}),(0,Z.jsxs)("p",{className:"mt-2",children:["For more information on Event Banner Wishes, go to the in-game Wish screen by pressing F3 or via Pause Menu and select Details in the bottom-left corner.",(0,Z.jsx)("br",{})," Happy Wishing!"]})]})]}):(0,Z.jsx)(ne,{message:"Failed to retrieve banner data."})})},ZE=function(){var e=u((0,r.useState)({}),2),t=e[0],n=e[1],i=u((0,r.useState)({}),2),a=i[0],o=i[1],s=u((0,r.useState)([]),2),c=s[0],l=s[1],f=Object.keys(a).length>0?a:t,h=u((0,r.useState)(!1),2),d=h[0],p=h[1],v=u((0,r.useState)(""),2),m=v[0],g=v[1],y=u((0,r.useState)(0),2),b=y[0],k=y[1],w=u((0,r.useState)(0),2),x=w[0],E=w[1],S=(0,r.useRef)(),_=(0,r.useRef)(),I=new Date((null===a||void 0===a?void 0:a.starts)||(null===t||void 0===t?void 0:t.starts))||"",A=new Date((null===a||void 0===a?void 0:a.ends)||(null===t||void 0===t?void 0:t.ends))||"",T=WE(I),N=WE(A),C=HE(b),D=HE(x);(0,r.useEffect)((function(){ak("Banners","banners"),O()}),[]),(0,r.useEffect)((function(){if(Object.keys(t).length>0)return k(new Date(t.ends).getTime()-(new Date).getTime()),E(new Date(t.ends).getTime()+432e5-(new Date).getTime()),S.current=setInterval((function(){k((function(e){return e-1e3}))}),1e3),_.current=setInterval((function(){E((function(e){return e-1e3}))}),1e3),function(){clearInterval(S.current),clearInterval(_.current)}}),[t]);var O=function(){var e=oe(ie().mark((function e(){var t,r,i;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),t=Zm(rk,"wishes"),e.prev=2,e.next=5,Iy(t);case 5:r=e.sent,i=[],r.forEach((function(e){"banner2"===e.id&&n(tt({id:e.id},e.data())),i.push({id:e.id,version:e.data().version})})),l(i),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),g("Unable to retrieve bannner data at the moment. Please try again later.");case 14:return e.prev=14,p(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=oe(ie().mark((function e(t){var n,r;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$m(rk,"wishes",t.target.value),e.prev=1,e.next=4,Ey(n);case 4:if("banner2"!==(r=e.sent).id&&r.exists()){e.next=8;break}return o({}),e.abrupt("return");case 8:o(r.data()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),g(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return b<1e3&&clearInterval(S.current),x<1e3&&clearInterval(_.current),d?(0,Z.jsx)(lk,{}):m?(0,Z.jsx)(ne,{message:m}):(0,Z.jsxs)("div",{className:"text-white",children:[(0,Z.jsx)(hk,{title:"View in-game Banners"}),(0,Z.jsxs)("div",{className:"mt-4",children:[(0,Z.jsx)("p",{className:"text-lg sm:text-xl",children:"View Banner History: "}),(0,Z.jsxs)("select",{name:"history",className:"py-3 px-4 cursor-pointer rounded-lg w-full sm:max-w-[320px] darkblue outline-none mt-1 focus:ring-4 text-sm",defaultValue:"",onChange:P,children:[(0,Z.jsx)("option",{value:"",disabled:!0,children:"Please Select"}),c.map((function(e,t){return(0,Z.jsxs)("option",{value:null===e||void 0===e?void 0:e.id,children:[null===e||void 0===e?void 0:e.version," ","banner2"===(null===e||void 0===e?void 0:e.id)&&"(On-going)"]},t)}))]})]}),(0,Z.jsx)(XE,{bannerData:f,TimeLeftAsia:C,TimeLeftUS:D,msLeftAsia:b,msLeftUS:x,corpa:"Travelers, stock up on weapons and characters in the event wish to make your party stronger in combat!",startDate:T,endDate:N})]})};i.createRoot(document.getElementById("root")).render((0,Z.jsxs)(Y,{children:[(0,Z.jsx)(X,{}),(0,Z.jsx)(ee,{}),(0,Z.jsxs)(K,{children:[(0,Z.jsx)(z,{path:"*",element:(0,Z.jsx)(ne,{message:"Page does not exist."})}),(0,Z.jsx)(z,{path:"/",element:(0,Z.jsx)(jE,{})}),(0,Z.jsx)(z,{path:"/Home",element:(0,Z.jsx)(jE,{})}),(0,Z.jsx)(z,{path:"/Characters",element:(0,Z.jsx)(vk,{})}),(0,Z.jsx)(z,{path:"/ViewCharacter/:name",element:(0,Z.jsx)(mk,{})}),(0,Z.jsx)(z,{path:"/Weapons",element:(0,Z.jsx)(yk,{})}),(0,Z.jsx)(z,{path:"/ViewWeapons/:name",element:(0,Z.jsx)(UE,{})}),(0,Z.jsx)(z,{path:"/Artifacts",element:(0,Z.jsx)(FE,{})}),(0,Z.jsx)(z,{path:"/ViewArtifacts/:name",element:(0,Z.jsx)(QE,{})}),(0,Z.jsx)(z,{path:"/Banners",element:(0,Z.jsx)(ZE,{})})]}),(0,Z.jsx)(te,{})]}))}()}();
//# sourceMappingURL=main.80cdecd5.js.map