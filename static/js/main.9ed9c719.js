/*! For license information please see main.9ed9c719.js.LICENSE.txt */
!function(){var e={888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case E:return"Profiler";case I:return"StrictMode";case C:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Ie=null;function Ee(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Se(e){_e?Ie?Ie.push(e):Ie=[e]:_e=e}function Te(){if(_e){var e=_e,t=Ie;if(Ie=_e=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ae(e,t){return e(t)}function Ce(){}var Ne=!1;function Re(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ae(e,t,n)}finally{Ne=!1,(null!==_e||null!==Ie)&&(Ce(),Te())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(le){De=!1}function Le(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,je=null,Fe=!1,Ue=null,Ve={onError:function(e){Me=!0,je=e}};function Be(e,t,n,r,i,a,o,s,u){Me=!1,je=null,Le.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(ze(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Je=i.unstable_requestPaint,Xe=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,It,Et,St=!1,Tt=[],At=null,Ct=null,Nt=null,Rt=new Map,Ot=new Map,Dt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){St=!1,null!==At&&Ft(At)&&(At=null),null!==Ct&&Ft(Ct)&&(Ct=null),null!==Nt&&Ft(Nt)&&(Nt=null),Rt.forEach(Ut),Ot.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&Bt(At,e),null!==Ct&&Bt(Ct,e),null!==Nt&&Bt(Nt,e),Rt.forEach(t),Ot.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)jt(n),null===n.blockedOn&&Dt.shift()}var qt=b.ReactCurrentBatchConfig,Wt=!0;function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return At=Mt(At,e,t,n,r,i),!0;case"dragenter":return Ct=Mt(Ct,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=j({},cn,{view:0,detail:0}),hn=an(fn),dn=j({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(j({},dn,{dataTransfer:0})),mn=an(j({},fn,{relatedTarget:0})),yn=an(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(j({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function En(){return In}var Sn=j({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Sn),An=an(j({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=an(j({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Nn=an(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=j({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Rn),Dn=[9,13,27,32],Pn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,jn=l&&(!Pn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){Se(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Gn=null;function Qn(e){Fr(e,0)}function Yn(e){if(G(bi(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Zn;if(l){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Gn=Hn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Kn(t,Gn,e,we(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Ir={};function Er(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return _r[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Sr=Er("animationend"),Tr=Er("animationiteration"),Ar=Er("animationstart"),Cr=Er("transitionend"),Nr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Nr.set(e,t),u(t,[e])}for(var Dr=0;Dr<Rr.length;Dr++){var Pr=Rr[Dr];Or(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Or(Sr,"onAnimationEnd"),Or(Tr,"onAnimationIteration"),Or(Ar,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=je;Me=!1,je=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,c),a=u}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Jt(t)){case 1:var i=Kt;break;case 4:i=Ht;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Re((function(){var r=a,i=we(n),o=[];e:{var s=Nr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Cn;break;case Sr:case Tr:case Ar:u=yn;break;case Cr:u=Nn;break;case"scroll":u=hn;break;case"wheel":u=On;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=An}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Oe(p,h))&&l.push(Kr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=An,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:bi(u),d=null==c?s:bi(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Jn;else if(Wn(s))if(Xn)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?bi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Pn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(jn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=en()):(Zt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(y=Hr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Pn&&Vn(e,t)?(e=en(),$t=Zt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=Oe(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Oe(n,a))&&o.unshift(Kr(n,u,s)):i||null!=(u=Oe(n,a))&&o.push(Kr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Jr,"")}function Zr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Ii(e){return{current:e}}function Ei(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Si(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ai=Ii(Ti),Ci=Ii(!1),Ni=Ti;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ei(Ci),Ei(Ai)}function Pi(e,t,n){if(Ai.current!==Ti)throw Error(a(168));Si(Ai,t),Si(Ci,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ai.current,Si(Ai,e),Si(Ci,Ci.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ci),Ei(Ai),Si(Ai,e)):Ei(Ci),Si(Ci,n)}var Fi=null,Ui=!1,Vi=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=kt;try{var n=Fi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge($e,zi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Wi=0,Ki=null,Hi=0,Gi=[],Qi=0,Yi=null,Ji=1,Xi="";function Zi(e,t){qi[Wi++]=Hi,qi[Wi++]=Ki,Ki=e,Hi=t}function $i(e,t,n){Gi[Qi++]=Ji,Gi[Qi++]=Xi,Gi[Qi++]=Yi,Yi=e;var r=Ji;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ji=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Ji=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function ta(e){for(;e===Ki;)Ki=qi[--Wi],qi[Wi]=null,Hi=qi[--Wi],qi[Wi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,Ji=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Ji,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ii(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;Ei(ya),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ia(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Sa=null;function Ta(e){null===Sa?Sa=[e]:Sa.push(e)}function Aa(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ca(e,r)}function Ca(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Au)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ca(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ca(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=j({},f,h);break e;case 2:Na=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Mu|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Pa(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Oi(t)?Ni:Ai.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Oi(t)?Ni:Ai.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),ja(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ha(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ha(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=Ha(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=Ha(e,null,t),n.return=e,n;case x:return(t=Fc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),ia&&Zi(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Zi(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Zi(i,v),c}function m(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Zi(i,m),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return ia&&Zi(i,m),l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Zi(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ha(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Lc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Pc(o.type,o.key,o.props,null,r.mode,u)).ref=Ha(r,a,o),u.return=r,r=u)}return s(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(o,r.mode,u)).return=r,r=a}return s(r);case O:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ja=Ya(!0),Xa=Ya(!1),Za={},$a=Ii(Za),eo=Ii(Za),to=Ii(Za);function no(e){if(e===Za)throw Error(a(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si($a,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei($a),Si($a,t)}function io(){Ei($a),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no($a.current),n=ue(t,e.type);t!==n&&(Si(eo,e),Si($a,n))}function oo(e){eo.current===e&&(Ei($a),Ei(eo))}var so=Ii(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(ko)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==bo;return bo=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Ao(e,t){return"function"===typeof t?t(e):t}function Co(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,Mu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Mu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function Oo(e,t){var n=vo,r=To(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Wo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Po.bind(null,n,r,i,t),void 0,null),null===Cu)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&jo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&jo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function jo(e){var t=Ca(e,1);null!==t&&nc(t,e,1,-1)}function Fo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function Bo(e,t,n,r){var i=So();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Wo(e,t){return zo(2048,8,e,t)}function Ko(e,t){return zo(4,2,e,t)}function Ho(e,t){return zo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Go.bind(null,t,e),n)}function Yo(){}function Jo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Mu|=n,e.baseState=!0),t)}function $o(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Aa(e,t,n,r))){nc(n,e,r,ec()),as(n,t,r)}}function ns(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ta(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Aa(e,t,i,r))&&(nc(n,e,r,i=ec()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Ea,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},ss={readContext:Ea,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:Fo,useDebugValue:Yo,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=$o.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=So();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Cu)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Po.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=Cu.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Ji&~(1<<32-ot(Ji)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ea,useCallback:Jo,useContext:Ea,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Ho,useMemo:Xo,useReducer:Co,useRef:Vo,useState:function(){return Co(Ao)},useDebugValue:Yo,useDeferredValue:function(e){return Zo(To(),mo.memoizedState,e)},useTransition:function(){return[Co(Ao)[0],To().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Oo,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ea,useCallback:Jo,useContext:Ea,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Ho,useMemo:Xo,useReducer:No,useRef:Vo,useState:function(){return No(Ao)},useDebugValue:Yo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Zo(t,mo.memoizedState,e)},useTransition:function(){return[No(Ao)[0],To().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Oo,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wu||(Wu=!0,Ku=r),hs(0,t)},n}function vs(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Hu?Hu=new Set([this]):Hu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Pa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ks=b.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ja(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var a=t.ref;return Ia(t,i),r=Io(e,t,n,r,a,i),n=Eo(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function _s(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Is(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Is(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Ts(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Du,Ou),Ou|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Du,Ou),Ou|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Du,Ou),Ou|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Du,Ou),Ou|=r;return ws(e,t,i,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Oi(n)?Ni:Ai.current;return a=Ri(t,a),Ia(t,i),n=Io(e,t,n,r,a,i),r=Eo(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function As(e,t,n,r,i){if(Oi(n)){var a=!0;Mi(t)}else a=!1;if(Ia(t,i),null===t.stateNode)qs(e,t),qa(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Ri(t,c=Oi(n)?Ni:Ai.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Wa(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,ja(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ci.current||Na?("function"===typeof l&&(Va(t,n,l,r),u=t.memoizedState),(s=Na||za(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oa(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ea(u):u=Ri(t,u=Oi(n)?Ni:Ai.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Wa(t,o,r,u),Na=!1,h=t.memoizedState,o.state=h,ja(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ci.current||Na?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Na||za(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Cs(e,t,n,r,a,i)}function Cs(e,t,n,r,i,a){Ss(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Ws(e,t,a);r=t.stateNode,ks.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ja(t,e.child,null,a),t.child=Ja(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ro(e,t.containerInfo)}function Rs(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Os,Ds,Ps,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Mc(u,i,0,null),e=Lc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Ls,e):Fs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ja(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Cu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ca(e,i),nc(r,e,i,-1))}return vc(),Us(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=Ji,Gi[Qi++]=Xi,Gi[Qi++]=Yi,Ji=e.id,Xi=e.overflow,Yi=t),(t=Fs(t,r.children)).flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Dc(r,s):(s=Lc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Dc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&pa(r),Ja(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Bs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,a);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hs(t),null;case 1:case 17:return Oi(t.type)&&Di(),Hs(t),null;case 3:return r=t.stateNode,io(),Ei(Ci),Ei(Ai),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Hs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Hs(t),null}if(e=no($a.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":J(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":H(r),$(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Os(e,t),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":J(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,u))}switch(n){case"input":H(e),$(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hs(t),null;case 6:if(e&&null!=t.stateNode)Ps(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no($a.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Hs(t),null;case 13:if(Ei(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hs(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Pu&&(Pu=3):vc())),null!==t.updateQueue&&(t.flags|=4),Hs(t),null);case 4:return io(),null===e&&zr(t.stateNode.containerInfo),Hs(t),null;case 10:return xa(t.type._context),Hs(t),null;case 19:if(Ei(so),null===(o=t.memoizedState))return Hs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ks(o,!1);else{if(0!==Pu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ks(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>zu&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ks(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Hs(t),null}else 2*Xe()-o.renderingStartTime>zu&&1073741824!==n&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=so.current,Si(so,r?1&n|2:1&n),t):(Hs(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ou)&&(Hs(t),6&t.subtreeFlags&&(t.flags|=8192)):Hs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qs(e,t){switch(ta(t),t.tag){case 1:return Oi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ci),Ei(Ai),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(so),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Os=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no($a.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ps=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Js=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Zs=null;function $s(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eu(t,n,a)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var lu=null,fu=!1;function hu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Js||$s(n,t);case 6:var r=lu,i=fu;lu=null,hu(e,t,n),fu=i,null!==(lu=r)&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),zt(e)):ui(lu,n.stateNode));break;case 4:r=lu,i=fu,lu=n.stateNode.containerInfo,fu=!0,hu(e,t,n),lu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&eu(n,t,o),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!Js&&($s(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ic(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,hu(e,t,n),Js=r):hu(e,t,n);break;default:hu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,fu=!1;break e;case 3:case 4:lu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===lu)throw Error(a(160));du(o,s,i),lu=null,fu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ic(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),yu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(m){Ic(e,e.return,m)}try{nu(5,e,e.return)}catch(m){Ic(e,e.return,m)}}break;case 1:vu(t,e),yu(e),512&r&&null!==n&&$s(n,n.return);break;case 5:if(vu(t,e),yu(e),512&r&&null!==n&&$s(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ic(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&X(i,o),ke(u,s);var l=ke(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(u){case"input":Z(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ic(e,e.return,m)}}break;case 6:if(vu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ic(e,e.return,m)}}break;case 3:if(vu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Ic(e,e.return,m)}break;case 4:default:vu(t,e),yu(e);break;case 13:vu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bu=Xe())),4&r&&pu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(l=Js)||f,vu(t,e),Js=l):vu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zs=e,f=e.child;null!==f;){for(h=Zs=f;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:$s(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ic(r,n,m)}}break;case 5:$s(d,d.return);break;case 22:if(null!==d.memoizedState){wu(h);continue}}null!==p?(p.return=d,Zs=p):wu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Ic(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ic(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vu(t,e),yu(e),4&r&&pu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cu(e,su(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;uu(e,su(e),o);break;default:throw Error(a(161))}}catch(s){Ic(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gu(e,t,n){Zs=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ys;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Js;s=Ys;var c=Js;if(Ys=o,(Js=u)&&!c)for(Zs=i;null!==Zs;)u=(o=Zs).child,22===o.tag&&null!==o.memoizedState?xu(i):null!==u?(u.return=o,Zs=u):xu(i);for(;null!==a;)Zs=a,ku(a,t,n),a=a.sibling;Zs=i,Ys=s,Js=c}bu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):bu(e)}}function bu(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Js||512&t.flags&&iu(t)}catch(d){Ic(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function wu(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function xu(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Ic(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ic(t,i,u)}}var a=t.return;try{iu(t)}catch(u){Ic(t,a,u)}break;case 5:var o=t.return;try{iu(t)}catch(u){Ic(t,o,u)}}}catch(u){Ic(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var _u,Iu=Math.ceil,Eu=b.ReactCurrentDispatcher,Su=b.ReactCurrentOwner,Tu=b.ReactCurrentBatchConfig,Au=0,Cu=null,Nu=null,Ru=0,Ou=0,Du=Ii(0),Pu=0,Lu=null,Mu=0,ju=0,Fu=0,Uu=null,Vu=null,Bu=0,zu=1/0,qu=null,Wu=!1,Ku=null,Hu=null,Gu=!1,Qu=null,Yu=0,Ju=0,Xu=null,Zu=-1,$u=0;function ec(){return 0!==(6&Au)?Xe():-1!==Zu?Zu:Zu=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Au)&&0!==Ru?Ru&-Ru:null!==va.transition?(0===$u&&($u=vt()),$u):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nc(e,t,n,r){if(50<Ju)throw Ju=0,Xu=null,Error(a(185));yt(e,n,r),0!==(2&Au)&&e===Cu||(e===Cu&&(0===(2&Au)&&(ju|=n),4===Pu&&sc(e,Ru)),rc(e,r),1===n&&0===Au&&0===(1&t.mode)&&(zu=Xe()+500,Ui&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Cu?Ru:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(uc.bind(null,e)):Bi(uc.bind(null,e)),oi((function(){0===(6&Au)&&zi()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Zu=-1,$u=0,0!==(6&Au))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Cu?Ru:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Au;Au|=2;var o=pc();for(Cu===e&&Ru===t||(qu=null,zu=Xe()+500,hc(e,t));;)try{gc();break}catch(u){dc(e,u)}wa(),Eu.current=o,Au=i,null!==Nu?t=0:(Cu=null,Ru=0,t=Pu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Lu,hc(e,0),sc(e,r),rc(e,Xe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Lu,hc(e,0),sc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Vu,qu);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bu+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Vu,qu),t);break}wc(e,Vu,qu);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Iu(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Vu,qu),r);break}wc(e,Vu,qu);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Vu,Vu=n,null!==t&&oc(t)),e}function oc(e){null===Vu?Vu=e:Vu.push.apply(Vu,e)}function sc(e,t){for(t&=~Fu,t&=~ju,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Au))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Lu,hc(e,0),sc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vu,qu),rc(e,Xe()),null}function cc(e,t){var n=Au;Au|=1;try{return e(t)}finally{0===(Au=n)&&(zu=Xe()+500,Ui&&zi())}}function lc(e){null!==Qu&&0===Qu.tag&&0===(6&Au)&&xc();var t=Au;Au|=1;var n=Tu.transition,r=kt;try{if(Tu.transition=null,kt=1,e)return e()}finally{kt=r,Tu.transition=n,0===(6&(Au=t))&&zi()}}function fc(){Ou=Du.current,Ei(Du)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nu)for(n=Nu.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Ei(Ci),Ei(Ai),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(so);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Cu=e,Nu=e=Dc(e.current,null),Ru=Ou=t,Pu=0,Lu=null,Fu=ju=Mu=0,Vu=Uu=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function dc(e,t){for(;;){var n=Nu;try{if(wa(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Su.current=null,null===n||null===n.return){Pu=1,Lu=t,Nu=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Ru,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Pu&&(Pu=2),null===Uu?Uu=[o]:Uu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,c,t));break e;case 1:u=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Hu||!Hu.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Nu===n&&null!==n&&(Nu=n=n.return);continue}break}}function pc(){var e=Eu.current;return Eu.current=os,null===e?os:e}function vc(){0!==Pu&&3!==Pu&&2!==Pu||(Pu=4),null===Cu||0===(268435455&Mu)&&0===(268435455&ju)||sc(Cu,Ru)}function mc(e,t){var n=Au;Au|=2;var r=pc();for(Cu===e&&Ru===t||(qu=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Au=n,Eu.current=r,null!==Nu)throw Error(a(261));return Cu=null,Ru=0,Pu}function yc(){for(;null!==Nu;)kc(Nu)}function gc(){for(;null!==Nu&&!Ye();)kc(Nu)}function kc(e){var t=_u(e.alternate,e,Ou);e.memoizedProps=e.pendingProps,null===t?bc(e):Nu=t,Su.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Ou)))return void(Nu=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Nu=n);if(null===e)return Pu=6,void(Nu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nu=t);Nu=t=e}while(null!==t);0===Pu&&(Pu=5)}function wc(e,t,n){var r=kt,i=Tu.transition;try{Tu.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Qu);if(0!==(6&Au))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Cu&&(Nu=Cu=null,Ru=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gu||(Gu=!0,Cc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Tu.transition,Tu.transition=null;var s=kt;kt=1;var u=Au;Au|=4,Su.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ic(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=tu,tu=!1}(e,n),mu(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,gu(n,e,i),Je(),Au=u,kt=s,Tu.transition=o}else e.current=n;if(Gu&&(Gu=!1,Qu=e,Yu=i),0===(o=e.pendingLanes)&&(Hu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Wu)throw Wu=!1,e=Ku,Ku=null,e;0!==(1&Yu)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Xu?Ju++:(Ju=0,Xu=e):Ju=0,zi()}(e,t,n,r)}finally{Tu.transition=i,kt=r}return null}function xc(){if(null!==Qu){var e=bt(Yu),t=Tu.transition,n=kt;try{if(Tu.transition=null,kt=16>e?16:e,null===Qu)var r=!1;else{if(e=Qu,Qu=null,Yu=0,0!==(6&Au))throw Error(a(331));var i=Au;for(Au|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Zs=l;null!==Zs;){var f=Zs;switch(f.tag){case 0:case 11:case 15:nu(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zs=h;else for(;null!==Zs;){var d=(f=Zs).sibling,p=f.return;if(au(f),f===l){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zs=g;break e}Zs=o.return}}var k=e.current;for(Zs=k;null!==Zs;){var b=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Zs=b;else e:for(s=k;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(x){Ic(u,u.return,x)}if(u===s){Zs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Zs=w;break e}Zs=u.return}}if(Au=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Tu.transition=t}}return!1}function _c(e,t,n){e=Pa(e,t=ps(0,t=ls(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ic(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hu||!Hu.has(r))){t=Pa(t,e=vs(t,e=ls(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Cu===e&&(Ru&n)===n&&(4===Pu||3===Pu&&(130023424&Ru)===Ru&&500>Xe()-Bu?hc(e,0):Fu|=n),rc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Ca(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Sc(e,n)}function Cc(e,t){return Ge(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Nc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Oc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Lc(n.children,i,o,t);case I:s=8,i|=8;break;case E:return(e=Rc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case C:return(e=Rc(13,n,t,i)).elementType=C,e.lanes=o,e;case N:return(e=Rc(19,n,t,i)).elementType=N,e.lanes=o,e;case D:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case T:s=9;break e;case A:s=11;break e;case R:s=14;break e;case O:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,s,u){return e=new Uc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,s,u){return(e=Vc(n,r,!0,e,0,a,0,s,u)).context=zc(null),n=e.current,(a=Da(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Pa(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Wc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pa(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}_u=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ns(t),da();break;case 5:ao(t);break;case 1:Oi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(Si(so,1&so.current),null!==(e=Ws(e,t,n))?e.sibling:null);Si(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Ws(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&$i(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=Ri(t,Ai.current);Ia(t,n),i=Io(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Cs(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===R)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=As(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=_s(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,As(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ns(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Oa(e,t),ja(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Rs(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Rs(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ws(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ss(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return js(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ja(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Si(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ci.current){t=Ws(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),_a(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ia(t,n),r=r(i=Ea(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_s(e,t,r,i=ma(r.type,i),n);case 15:return Is(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qs(e,t),t.tag=1,Oi(r)?(e=!0,Mi(t)):e=!1,Ia(t,n),qa(t,r,i),Ka(t,r,i,n),Cs(null,t,r,!0,e,n);case 19:return zs(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Kc(o);s.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Kc(u);s.call(e)}}var u=Vc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=u,e[pi]=u.current,zr(8===e.nodeType?e.parentNode:e),lc((function(){Wc(t,u,n,r)})),u}(n,t,e,i,r);return Kc(o)}Jc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Jc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Wc(null,e,null,null)})),t[pi]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Xe()),0===(6&Au)&&(zu=Xe()+500,zi()))}break;case 13:lc((function(){var t=Ca(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Ca(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),n=Ca(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},It=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=cc,Ce=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Se,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:_.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+A(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),C(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+A(s=e[c],c);u+=C(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=C(s=s.value,t,i,l=a+A(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},D={transition:null},P={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:D,ReactCurrentOwner:_};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,D(x);else{var t=r(l);null!==t&&P(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(S),S=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!C());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&P(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,I=!1,E=null,S=-1,T=5,A=-1;function C(){return!(t.unstable_now()-A<T)}function N(){if(null!==E){var e=t.unstable_now();A=e;var n=!0;try{n=E(!0,e)}finally{n?_():(I=!1,E=null)}}else I=!1}if("function"===typeof k)_=function(){k(N)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,O=R.port2;R.port1.onmessage=N,_=function(){O.postMessage(null)}}else _=function(){y(N,0)};function D(e){E=e,I||(I=!0,_())}function P(e,n){S=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(S),S=-1):m=!0,P(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,D(x))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return $r},SDK_VERSION:function(){return ua},_DEFAULT_ENTRY_NAME:function(){return Yi},_addComponent:function(){return $i},_addOrOverwriteComponent:function(){return ea},_apps:function(){return Xi},_clearComponents:function(){return ia},_components:function(){return Zi},_getProvider:function(){return na},_registerComponent:function(){return ta},_removeServiceInstance:function(){return ra},deleteApp:function(){return ha},getApp:function(){return la},getApps:function(){return fa},initializeApp:function(){return ca},onLog:function(){return va},registerVersion:function(){return pa},setLogLevel:function(){return ma}});var t,r=n(791),i=n(250);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||s(e,t)||u()}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var f=function(e){return e};var h="beforeunload",d="popstate";function p(e){e.preventDefault(),e.returnValue=""}function v(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function m(){return Math.random().toString(36).substr(2,8)}function y(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function g(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var k=(0,r.createContext)(null);var b=(0,r.createContext)(null);var w=(0,r.createContext)({outlet:null,matches:[]});function x(e,t){if(!e)throw new Error(t)}function _(e,t,n){void 0===n&&(n="/");var r=R(("string"===typeof t?g(t):t).pathname||"/",n);if(null==r)return null;var i=I(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=A(i[o],r);return a}function I(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||x(!1),a.relativePath=a.relativePath.slice(r.length));var o=O([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&x(!1),I(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:T(o,e.index),routesMeta:s})})),t}var E=/^:\w+$/,S=function(e){return"*"===e};function T(e,t){var n=e.split("/"),r=n.length;return n.some(S)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!S(e)})).reduce((function(e,t){return e+(E.test(t)?3:""===t?1:10)}),r)}function A(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=C({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:O([i,l.pathname]),pathnameBase:D(O([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=O([i,l.pathnameBase]))}return a}function C(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function N(e,t,n){var r,i="string"===typeof e?g(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?g(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:P(a),hash:L(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var O=function(e){return e.join("/").replace(/\/\/+/g,"/")},D=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},P=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},L=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function M(e){j()||x(!1);var t=(0,r.useContext)(k),n=t.basename,i=t.navigator,a=B(e),o=a.hash,s=a.pathname,u=a.search,c=s;if("/"!==n){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?g(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===s?n+(f?"/":""):O([n,s])}return i.createHref({pathname:c,search:u,hash:o})}function j(){return null!=(0,r.useContext)(b)}function F(){return j()||x(!1),(0,r.useContext)(b).location}function U(){j()||x(!1);var e=(0,r.useContext)(k),t=e.basename,n=e.navigator,i=(0,r.useContext)(w).matches,a=F().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,r.useRef)(!1);(0,r.useEffect)((function(){s.current=!0}));var u=(0,r.useCallback)((function(e,r){if(void 0===r&&(r={}),s.current)if("number"!==typeof e){var i=N(e,JSON.parse(o),a);"/"!==t&&(i.pathname=O([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,o,a]);return u}function V(){var e=(0,r.useContext)(w).matches,t=e[e.length-1];return t?t.params:{}}function B(e){var t=(0,r.useContext)(w).matches,n=F().pathname,i=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,r.useMemo)((function(){return N(e,JSON.parse(i),n)}),[e,i,n])}function z(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,i,a){return(0,r.createElement)(w.Provider,{children:void 0!==i.route.element?i.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function q(e){x(!1)}function W(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,s=e.location,u=e.navigationType,c=void 0===u?t.Pop:u,l=e.navigator,f=e.static,h=void 0!==f&&f;j()&&x(!1);var d=D(i),p=(0,r.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof s&&(s=g(s));var v=s,m=v.pathname,y=void 0===m?"/":m,w=v.search,_=void 0===w?"":w,I=v.hash,E=void 0===I?"":I,S=v.state,T=void 0===S?null:S,A=v.key,C=void 0===A?"default":A,N=(0,r.useMemo)((function(){var e=R(y,d);return null==e?null:{pathname:e,search:_,hash:E,state:T,key:C}}),[d,y,_,E,T,C]);return null==N?null:(0,r.createElement)(k.Provider,{value:p},(0,r.createElement)(b.Provider,{children:o,value:{location:N,navigationType:c}}))}function K(e){var t=e.children,n=e.location;return function(e,t){j()||x(!1);var n,i=(0,r.useContext)(w).matches,a=i[i.length-1],o=a?a.params:{},s=(a&&a.pathname,a?a.pathnameBase:"/"),u=(a&&a.route,F());if(t){var c,l="string"===typeof t?g(t):t;"/"===s||(null==(c=l.pathname)?void 0:c.startsWith(s))||x(!1),n=l}else n=u;var f=n.pathname||"/",h=_(e,{pathname:"/"===s?f:f.slice(s.length)||"/"});return z(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:O([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:O([s,e.pathnameBase])})})),i)}(H(t),n)}function H(e){var t=[];return r.Children.forEach(e,(function(e){if((0,r.isValidElement)(e))if(e.type!==r.Fragment){e.type!==q&&x(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=H(e.props.children)),t.push(n)}else t.push.apply(t,H(e.props.children))})),t}function G(){return G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}function Q(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Y=["onClick","reloadDocument","replace","state","target","to"];function J(e){var n=e.basename,i=e.children,a=e.window,o=(0,r.useRef)();null==o.current&&(o.current=function(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=r.location,t=e.pathname,n=e.search,a=e.hash,o=i.state||{};return[o.idx,f({pathname:t,search:n,hash:a,state:o.usr||null,key:o.key||"default"})]}var o=null;r.addEventListener(d,(function(){if(o)w.call(o),o=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(w.length){if(null!=r){var s=c-r;s&&(o={action:e,location:i,retry:function(){T(-1*s)}},T(s))}}else S(e)}}));var s=t.Pop,u=a(),c=u[0],k=u[1],b=v(),w=v();function x(e){return"string"===typeof e?e:y(e)}function _(e,t){return void 0===t&&(t=null),f(l({pathname:k.pathname,hash:"",search:""},"string"===typeof e?g(e):e,{state:t,key:m()}))}function I(e,t){return[{usr:e.state,key:e.key,idx:t},x(e)]}function E(e,t,n){return!w.length||(w.call({action:e,location:t,retry:n}),!1)}function S(e){s=e;var t=a();c=t[0],k=t[1],b.call({action:s,location:k})}function T(e){i.go(e)}null==c&&(c=0,i.replaceState(l({},i.state,{idx:c}),""));var A={get action(){return s},get location(){return k},createHref:x,push:function e(n,a){var o=t.Push,s=_(n,a);if(E(o,s,(function(){e(n,a)}))){var u=I(s,c+1),l=u[0],f=u[1];try{i.pushState(l,"",f)}catch(h){r.location.assign(f)}S(o)}},replace:function e(n,r){var a=t.Replace,o=_(n,r);if(E(a,o,(function(){e(n,r)}))){var s=I(o,c),u=s[0],l=s[1];i.replaceState(u,"",l),S(a)}},go:T,back:function(){T(-1)},forward:function(){T(1)},listen:function(e){return b.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&r.addEventListener(h,p),function(){t(),w.length||r.removeEventListener(h,p)}}};return A}({window:a}));var s=o.current,u=c((0,r.useState)({action:s.action,location:s.location}),2),k=u[0],b=u[1];return(0,r.useLayoutEffect)((function(){return s.listen(b)}),[s]),(0,r.createElement)(W,{basename:n,children:i,location:k.location,navigationType:k.action,navigator:s})}var X=(0,r.forwardRef)((function(e,t){var n=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,s=e.state,u=e.target,c=e.to,l=Q(e,Y),f=M(c),h=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,s=U(),u=F(),c=B(e);return(0,r.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||y(u)===y(c);s(e,{replace:n,state:o})}}),[u,s,c,a,o,i,e])}(c,{replace:o,state:s,target:u});return(0,r.createElement)("a",G({},l,{href:f,onClick:function(e){n&&n(e),e.defaultPrevented||i||h(e)},ref:t,target:u}))}));var Z=n(184),$=function(){var e=c((0,r.useState)(!1),2),t=e[0],n=e[1],i=c((0,r.useState)(!1),2),a=i[0],o=i[1];return(0,r.useEffect)((function(){window.addEventListener("scroll",(function(){document.documentElement.scrollTop>500?n(!0):n(!1)}))}),[]),(0,Z.jsxs)("header",{className:"sticky top-4 md:top-0 md:relative flex justify-between flex-col md:flex-row md:items-center gap-2 font-bold py-6 text-lg bg-[#282c36] shadow-2xl rounded-xl px-4 mt-4 mb-10 ",style:{zIndex:"150"},children:[(0,Z.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWoAAABCCAYAAAB+UJwMAAAKQ2lDQ1BJQ0MgcHJvZmlsZQAAeNqdU3dYk/cWPt/3ZQ9WQtjwsZdsgQAiI6wIyBBZohCSAGGEEBJAxYWIClYUFRGcSFXEgtUKSJ2I4qAouGdBiohai1VcOO4f3Ke1fXrv7e371/u855zn/M55zw+AERImkeaiagA5UoU8Otgfj09IxMm9gAIVSOAEIBDmy8JnBcUAAPADeXh+dLA//AGvbwACAHDVLiQSx+H/g7pQJlcAIJEA4CIS5wsBkFIAyC5UyBQAyBgAsFOzZAoAlAAAbHl8QiIAqg0A7PRJPgUA2KmT3BcA2KIcqQgAjQEAmShHJAJAuwBgVYFSLALAwgCgrEAiLgTArgGAWbYyRwKAvQUAdo5YkA9AYACAmUIszAAgOAIAQx4TzQMgTAOgMNK/4KlfcIW4SAEAwMuVzZdL0jMUuJXQGnfy8ODiIeLCbLFCYRcpEGYJ5CKcl5sjE0jnA0zODAAAGvnRwf44P5Dn5uTh5mbnbO/0xaL+a/BvIj4h8d/+vIwCBAAQTs/v2l/l5dYDcMcBsHW/a6lbANpWAGjf+V0z2wmgWgrQevmLeTj8QB6eoVDIPB0cCgsL7SViob0w44s+/zPhb+CLfvb8QB7+23rwAHGaQJmtwKOD/XFhbnauUo7nywRCMW735yP+x4V//Y4p0eI0sVwsFYrxWIm4UCJNx3m5UpFEIcmV4hLpfzLxH5b9CZN3DQCshk/ATrYHtctswH7uAQKLDljSdgBAfvMtjBoLkQAQZzQyefcAAJO/+Y9AKwEAzZek4wAAvOgYXKiUF0zGCAAARKCBKrBBBwzBFKzADpzBHbzAFwJhBkRADCTAPBBCBuSAHAqhGJZBGVTAOtgEtbADGqARmuEQtMExOA3n4BJcgetwFwZgGJ7CGLyGCQRByAgTYSE6iBFijtgizggXmY4EImFINJKApCDpiBRRIsXIcqQCqUJqkV1II/ItchQ5jVxA+pDbyCAyivyKvEcxlIGyUQPUAnVAuagfGorGoHPRdDQPXYCWomvRGrQePYC2oqfRS+h1dAB9io5jgNExDmaM2WFcjIdFYIlYGibHFmPlWDVWjzVjHVg3dhUbwJ5h7wgkAouAE+wIXoQQwmyCkJBHWExYQ6gl7CO0EroIVwmDhDHCJyKTqE+0JXoS+cR4YjqxkFhGrCbuIR4hniVeJw4TX5NIJA7JkuROCiElkDJJC0lrSNtILaRTpD7SEGmcTCbrkG3J3uQIsoCsIJeRt5APkE+S+8nD5LcUOsWI4kwJoiRSpJQSSjVlP+UEpZ8yQpmgqlHNqZ7UCKqIOp9aSW2gdlAvU4epEzR1miXNmxZDy6Qto9XQmmlnafdoL+l0ugndgx5Fl9CX0mvoB+nn6YP0dwwNhg2Dx0hiKBlrGXsZpxi3GS+ZTKYF05eZyFQw1zIbmWeYD5hvVVgq9ip8FZHKEpU6lVaVfpXnqlRVc1U/1XmqC1SrVQ+rXlZ9pkZVs1DjqQnUFqvVqR1Vu6k2rs5Sd1KPUM9RX6O+X/2C+mMNsoaFRqCGSKNUY7fGGY0hFsYyZfFYQtZyVgPrLGuYTWJbsvnsTHYF+xt2L3tMU0NzqmasZpFmneZxzQEOxrHg8DnZnErOIc4NznstAy0/LbHWaq1mrX6tN9p62r7aYu1y7Rbt69rvdXCdQJ0snfU6bTr3dQm6NrpRuoW623XP6j7TY+t56Qn1yvUO6d3RR/Vt9KP1F+rv1u/RHzcwNAg2kBlsMThj8MyQY+hrmGm40fCE4agRy2i6kcRoo9FJoye4Ju6HZ+M1eBc+ZqxvHGKsNN5l3Gs8YWJpMtukxKTF5L4pzZRrmma60bTTdMzMyCzcrNisyeyOOdWca55hvtm82/yNhaVFnMVKizaLx5balnzLBZZNlvesmFY+VnlW9VbXrEnWXOss623WV2xQG1ebDJs6m8u2qK2brcR2m23fFOIUjynSKfVTbtox7PzsCuya7AbtOfZh9iX2bfbPHcwcEh3WO3Q7fHJ0dcx2bHC866ThNMOpxKnD6VdnG2ehc53zNRemS5DLEpd2lxdTbaeKp26fesuV5RruutK10/Wjm7ub3K3ZbdTdzD3Ffav7TS6bG8ldwz3vQfTw91jicczjnaebp8LzkOcvXnZeWV77vR5Ps5wmntYwbcjbxFvgvct7YDo+PWX6zukDPsY+Ap96n4e+pr4i3z2+I37Wfpl+B/ye+zv6y/2P+L/hefIW8U4FYAHBAeUBvYEagbMDawMfBJkEpQc1BY0FuwYvDD4VQgwJDVkfcpNvwBfyG/ljM9xnLJrRFcoInRVaG/owzCZMHtYRjobPCN8Qfm+m+UzpzLYIiOBHbIi4H2kZmRf5fRQpKjKqLupRtFN0cXT3LNas5Fn7Z72O8Y+pjLk722q2cnZnrGpsUmxj7Ju4gLiquIF4h/hF8ZcSdBMkCe2J5MTYxD2J43MC52yaM5zkmlSWdGOu5dyiuRfm6c7Lnnc8WTVZkHw4hZgSl7I/5YMgQlAvGE/lp25NHRPyhJuFT0W+oo2iUbG3uEo8kuadVpX2ON07fUP6aIZPRnXGMwlPUit5kRmSuSPzTVZE1t6sz9lx2S05lJyUnKNSDWmWtCvXMLcot09mKyuTDeR55m3KG5OHyvfkI/lz89sVbIVM0aO0Uq5QDhZML6greFsYW3i4SL1IWtQz32b+6vkjC4IWfL2QsFC4sLPYuHhZ8eAiv0W7FiOLUxd3LjFdUrpkeGnw0n3LaMuylv1Q4lhSVfJqedzyjlKD0qWlQyuCVzSVqZTJy26u9Fq5YxVhlWRV72qX1VtWfyoXlV+scKyorviwRrjm4ldOX9V89Xlt2treSrfK7etI66Trbqz3Wb+vSr1qQdXQhvANrRvxjeUbX21K3nShemr1js20zcrNAzVhNe1bzLas2/KhNqP2ep1/XctW/a2rt77ZJtrWv913e/MOgx0VO97vlOy8tSt4V2u9RX31btLugt2PGmIbur/mft24R3dPxZ6Pe6V7B/ZF7+tqdG9s3K+/v7IJbVI2jR5IOnDlm4Bv2pvtmne1cFoqDsJB5cEn36Z8e+NQ6KHOw9zDzd+Zf7f1COtIeSvSOr91rC2jbaA9ob3v6IyjnR1eHUe+t/9+7zHjY3XHNY9XnqCdKD3x+eSCk+OnZKeenU4/PdSZ3Hn3TPyZa11RXb1nQ8+ePxd07ky3X/fJ897nj13wvHD0Ivdi2yW3S609rj1HfnD94UivW2/rZffL7Vc8rnT0Tes70e/Tf/pqwNVz1/jXLl2feb3vxuwbt24m3Ry4Jbr1+Hb27Rd3Cu5M3F16j3iv/L7a/eoH+g/qf7T+sWXAbeD4YMBgz8NZD+8OCYee/pT/04fh0kfMR9UjRiONj50fHxsNGr3yZM6T4aeypxPPyn5W/3nrc6vn3/3i+0vPWPzY8Av5i8+/rnmp83Lvq6mvOscjxx+8znk98ab8rc7bfe+477rfx70fmSj8QP5Q89H6Y8en0E/3Pud8/vwv94Tz+4A5JREAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAADgGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOkU0NzYyMzcxNzYzMTExRTlCOTIzRUI4QTI2QjA5MzRFIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkQ1QzAxQTA0QzNDNjExRTk4RDFCRUIxNkY2RUI4MEZCIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkQ1QzAxQTAzQzNDNjExRTk4RDFCRUIxNkY2RUI4MEZCIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE4IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjU2MDk2NjYzLWRkMmItNDk0NS1iYTMzLTNjMjM1ODg1NzVmNiIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjRlNjdiYjdlLWFiZWEtY2M0Yy04YzJiLTc0MmMxNTY1NjliYyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Prf4C6wAABIiSURBVHja7F0L2FZTFt7/lCJdiFCKdBGNLioql5mMeUpP7oxxyX2QTAZjiDHKoJCZyCipaJJLRhrEuI7LNEaXcSlGjEwqUipSUuky633OOv79n87ZZ5/v0v/9f+/7PK8+5+xz/c95z9prr7V22ebNmw1BVDNMFp7E20BUF/yAt4CoZthfeKLwAN4KgkJNEKWJE/RfWtQEhZogShBlwjP092n6/wRBoSaIEkJPYVv93UbYm7eEoFATROmglvCWyLJhwjq8NQSFmiAqH42Fzwg7RpbDun5W2Iy3iKBQE0TlAEI8Qvhf4ZEJbQ4XzhWONIwEIaooyhhHTVQxNBL2N0EIXvsctn9P+LgK9+e8nQQtaoIoPGqawO9cP8ft6wl3FNbgrSRoURNE7hbzEcJDhV+aYIBwbULbLsILhGcJt3fsc73wAeEY4Qxh3EO/nfAa4e7Cfwr/TouboFAT+WIXYUvLslwp/ES4tIpdByzb7sLjTBBe185UjH+Gi+KSlH00FU5QgY/iH8Iz9d64gA/C1ZFlcJM8J3xKOE24gY8dQaEm0vAjYV9hL+FeCW0g1C+ruEwRrinB64DL7ScmSEo5Rq3oJGwUdhPOStkn3CHTTcUBww+EnTzuAbZ5ywRulSSsED4tfETFeyMfR4JCTdg4SjhEeGDG7eA6QFTEHcKvSuA69hGeKzzb8aGJw3sq1qtT2vVUEQ1xvPAJD4GflvHefmYCV8o4E0ScVGe00Hszma8hhZqIx07CUcJTU9ptMoFfdYYKchNhDxMUKDK6bJQKy7xKEujrTOBLrpnjPmaoC+PDlHbvCn+oAorsRNcD3kr4Z+EhOZ4T7vtDwhs9zqsqAIOsnU3gijpE/92sf7fn+DpSqIkt0Vo4VbhvSrvHTOBb/ThmHQbk/iDsai1boG1v2Qov3w7Cm4QDTDBYly/gwmiqPYUkXKfCeYNwsKNdXeGnJvfoERvwXY8WDvSw+kvNWu6uzweEuUPkQ4qewxHV5CNEoSYKjv1MEHXQ2NEGPtLLhXel7Asv3t3CCyPL4Ur5bRGv4SC1NlvlKcz4sMwXzjaBn/pp4/Y5w988R0VntqMdokR6qwXZUa1+ZDDWy+N8cZ59tXdTimin19xNBXqPlPbHqLFAVDJq8haUHDCw9lSKSBu1Ukd5Wnv9tAt7kbV85yJeAwYJ7zPukLkQ61VY3zTB4B9cFvPU2s3Frw7Xx99SRBpAyN8UpY16Kth7q+sEPZpOKvxp19NcP7AX6/WXIhqaYFB6l5R28/SjSNCiJmIAkT46pQ1E4PyM+0XRomlq6QLjTTCwVwzApdIzYR38ujNVBJ43QbTF+ipi1HTQ68LgLtxKSUkzrwl/XMLXspf+DXZztIFL7Wd8HWlRE1viLA+RRpjYlTnsG2L4C7VcaxRZHK9Sd8JukfOGH7cYA5o/0A8QEmCaqLW8WK3r2ZarpMy4BxfTeib/Vg5VsTtPrWf7Or/M8e/jC1jCrdXab2CCOPOs8d1wJ91rAn++63khKNREBBh4G+LRbohxD6a5ANGC3xjRE8WMA35Hhfo2E0SsrBMuES4rsEiXqVgio7ClLvtCXRShr3mjdczQLVEILNBrWq7HQ8TEw3ouiwp4jd30nPdVNoysP1Yt36zPxPt85aoOWOujdIBBqD09rOmReR5nuP5b7OiExfpBaKGW239M4Cu/3+Q3wBgC8c9PCseqSI9TaxrWbX39d4B+HEKRw4Bq5wIcG4O9DwovNUGM9/UmGIw8s8AibdSCH6e9g4Yx61E18HXrQ0VUQ9BHXTqAtdsupQ2iN35ZgGMheuIvwlvV8uytx0cY1qYqcr+QgHGidT0HJ7g1INgvmfKMxWdN1Z35ZZjDrQLLHvNEvuq5r9P1Y5ME9LzO4GtJi5ooR1sPkQamFOh42M9n+nuV8Du13GCxI/18hFqj6FYjjAuJM81NECkCVrbL7FhLpIF/mWTf81JtH/YgMBDYoYo+J/c71sF3jcHZc/g6UaiJ4qCnRxv4Wt8o0PFgSb0WEW5Y6hic6qEiDbF+QrvVcFv8T4V8hQr7ZosvWPuCj3ZtZP06FfwkwD//WGSbKJ825X7nS2I+dC7g3G+2/j+MKYdbZqbjmBikGx6zP8x0vsSxHT4OJ1vt4cNG4tEnKdcIomLfKBMfPpfmrqqlYn4r3+1qBrg+yErnpM3pmFPkc6glXJlw7A+FsyJcbq1fL2xg7at3zD4WChulnMPtCccfE2m3JqZN35R91xaOFW4SfiXcQZfXFL6WcNzzHPtrLlwVs80qXRe3TQ3hDY6/8Wj9OyQdc6/N/nhcuKNjX6enbP8g38vSIb+6pYH9PNq8VeRzQDjWRzHLYVVjIK5LhMhqO1ctbKSH2/UykHCyMLIfpH6j8pyrYP/YhOWjrd/11QKPAjU7BjvcMrDqEZ6Iqn1IqjlMl29IOC7aP+A41/kmPgX/RV2X1CvCOcalZH+lPZlChcWdoL2mpny96PogCgOfl2nhVjiPZTHLksK44P4Yb4JaEPBzt48Rniggkjc5jr/Y4WcO8a2JDy3EszzIBOnbrg/fKyaIubYH3ZbHtFur1+jC0gzX8H0n1sRX3FtYAJFeYiqOYyCjEqVfO/MVo1AT+cOnvsSqrXAe3+WwDaJFEIngO9M3Ckgdn+c5znWsR/QHknp+ZSpOQBDXg6huQC8AkR9DrWVN9KN0El8zCjWRH3xiJL8t4fO/L8Eaj0OZWuKt8zjepJT1cI3coW6IvbfBZ+laE7ilwo8RknEQjnkNXzUKNZE7fJJPGjjWwUe8c57MB/DzDvNo94wKCa4FcdB18vgw+NwzuFqQJbktxgPjY/hT6wOKDySyWuHLr81XjkJNZMcCjzYuMUVGHCrPrciBOPZdnmJdX19+uBUQvocU8XCmlm88tp9qytPkETc+Osf7hcp6vvU08FGYaIL07roFfjdqe7b5nQkySlFWtsdWfK4wXyRS0G1X0Vna09iVr13VAWt9lAYgsh1T2jRKsTBhQSEaA5ENqH9Rw+O4z6u1meS2mKICh5m+4ePEwGGtSJvnPD80ITDgh8E8xI4jbR6x4XfncM8g8og1vtFTVFFzBAOevT3Pt566Cp5PWA/f7zGe5/p76/fWLh2KOieIyHnElMfrI+KlK187WtRENvgUmu+Ush6p35iuCskcyL5bm9Ie/svTE0QaHw4M+KG+BAaiUGmtV4xIA7tlvNaNKtChWP7RuJNhXBii4vOpZ3skxrxk0msx2/uflcAnUz6eIXYvgecLBZv6CO+xlm3H145CTWSDz5RYbYz/7CPo2g71sLTiwtIeVpfGKO2y75Syn2Eq+Fl6Z6hwd7J+LCD+j3qKXhwgvB2Mf3p9q4hgFROoST0pQ/uuRRRQjCOgCt9lhjOoU6iJnIAEiLc8/laHZtjnVI8XNwpYzgh/Q7W2xp7HQcU/pKS/nPF5Qur2pfrbJxnGBXxwTtTehM8gIz4SHYv8N73dBDHb3TJsc7b2rvYs4nndaQKXzSq+dlUH9FGXDkapUKYJzLOe+8saE40IjCtM8swkiNFFSU/U/UByBoo6IcFipb7061Vos1TfG61uDwhUWjKMD8aYoOb0BJM+szh81m+ntInWRLEBlw8GB5Om5xpvgqzO2toTgrulifYm+jiOCf89/PYYD/ioSM8aMkf7GXf1PIJCTcRggr74rrjfn6uYfl3gY0NgJyeINMQG9aTnmuwzifigv7ouOhq/ov6o5Ocqeg+XDuYExCwzg028Xx1I8/ljVhhE07hi3OGO6puw7l3Hdn1Sjo0eBlw6yChcVqTnbRlfObo+iOyAxfqblDZ1VYAKDViyRyWse19Fx0ekc0lVXqM9Bd+JbB806YOB8MEOVbfDBwlt0gb5vjPpiUiFdh88rAINIOwRtUbKivS8LeArR6EmcgOyxx5LaQOLulkBj9lFPxBvOkTNB41N7tNczfOwXo0lYNd77hd+/8MTRKkUJ0hA3DPi1A/Ungw+ngOKdCzUG/mSrxyFmsgNiIN+z7Ee6dFjC/i3u1JFsovJbz7D4doryBUY/LzZox3cdahH7RsHDJ/wbTHLF5fwMwDfOcIj4Wc/zpRPwZVmXWexvtHreJWvG4WayA0YnMOo/HxHG8QO/ynlxUz72y5R0b9Iu9ywZnOJNsA5DDaB/zzfiWuxn7gEk/qR+wOfOrING2SwHuPEsNSBmWt6mfJomLS5JlF6Nkv25Xi+bhRqIndgRpIeKZY13Ayo25BUL8Plg4UYnmKCQk8rdRkmZ20f0xZRGXEDcjXUrYD6HYN02QxrfZwf2ce3fEaMq8IW5EWWaMEK94kt3ydmmR13XTeh51IrZb9NYpY183jn9o9Z3tzE19neoL0CY7ac2SYKxGD3z/CcPWXyc3cRFOptHpi2CYNhY0yy7xYuCwz0nRPzkveKaQ+fJGKXe5st/ZO3JljoiATBQF+0RghqeyB07SjL0p2uv09JELFzPKxgRCOEyTAh7Bm27XhzpEIj7rhtinhdHCNQM63/j4sAgUj3c+x3PxM/hdqRCUIMIFQPU3K1iFmHD864hA8PrgGupRM8npsbjf+8ifDTDzB+YwNEZYLT3FQJHuaYLsqeDusd4QvC2TrllD2V1sDIdFk2r3fsF9NerfDgvbqvq4VfONq9Lezgcc0XJEzFdVLMOa7Taay66tRaYdtmwqmRth8L94xM0bUw4do3xUwDBh4vnO+4xvl6nmH77YW36d8h7T5i2xHCXXXbznrOWTFNuIvn8zWQU3GVNsvwH6LKoJO6BmARt3H0iD5XH+w0E9SkmOPY56/V+p6prhYkWaB2xhpT+VEBsA4Rw71cLfQw5fz9BKvUqKX/mbpm9on0El5Wa9N2rWAA81r9vU5dOc+oG+cjvQ/bAhBJM9i6Xw+ZbbM8bEmCQl11UUf9tA20Sw1RXa0iu7oaXSfEAsWRULzpTl12kF77HL327upywPLogChEGYNyE1SAbcC1cZeKMvz9jxr/eO7qCAxij9J7SKGmUBNEJqDn0NT4JWnAItxZt8EHa62j3QEmGAv4mrf4e2A2mPO1F8MUcwo1QRAE4WupEARBEBRqgiAIIleweh4RAskozRPWoazpUscz1CGyDD7faDYgIlbsCAz4QOc7zgcJO00T1iEaY2WO13maKZ/n8XETn7XoC0SWIPoGpU4XOe5RHDoav/rb8Mt/wceTQk0QobgiUQPzF4Yp2whNw0S2rpKdyJxDbWbMZBImayByAhl6YfRJDxOExoX4qwnmYXQBYXYY1LKTVRCRcKoeB8WrrtKPSBagpskV+huJMmfncK8QcYPZbxA1spOew8d6L5Dp94JeowuvmCCR5QO9njA9fLUuCz+c/fW6iW0YdH0QIVDWE/Uz7MkLMOqPAlBpxZZQiH6KKS+FCvE611p/WaQ94pbT6iGv1u3sDMVbhMeqgQHBRknQWhmusaZuH1rj2EfjjPdpR/3oDNTrHKSCio8RwtuQjn6Yx37QK2ihPQ37/rytHxPEgA/mY0lQqIk4LE/4nYZv1JUQ4lJ9vmAptjQVQ+C+8dwnRPrbyLJp1rLWwnYZzhHTdb1ugrR8oyLfP+P9QQLOwZZVjBnGw5KpOC9UP5zrsR/U7ViS0gY1td/kI0lQqIlCAvMehuVDW6mFeblwhClcPQkIc1jXZKnJVlQI53KHCZJcQuu/n4kvhpQEe0aXyQk9k7Ee+5nu+aGazseKoFAThQSEZWTE+oRYTyzQ/jHbeThpL9Ld+xj/LEzUdkbyC4o6LbCs/11N8nRacdjD+r2Sf3KCQk1URdxjuSbgax0f477IB9eYIFUclvWsDNth4BHVCMPqf0db6+Aj9i26b5eePYB/boJCTVRFLDPlBekh0CMKuO+HlBDoLK4UuGEQ0YKBwIZK/H5D1yP6o6fnvuzrudBULMFqW/4EQaEmiobW1u+WGbZDbHI4WQEKKGGAbaIKdx0VRrutDxqZivWZG+d4TagQOMFsOU/i6IjF7YP79foARH1gcBMDg4iLPkJ7FLMznp99P1AQqQYfQ6ICWOuVVO4tHBmpYw2ME7ZybNda+IBV67mtLp8gbCGsIZwY2eci4YCU80E953cj2y0Q9stwTXsIhws3CGcKD7HWtRe+FNn/JGEbz3331lrXy7UW+Hytid08w/nVEQ4Sroqcx4vC7nwmSdajJgiCoOuDIAiCoFATBEFQqAmCIAgKNUEQBOHE/wUYALPJFHxe5UuhAAAAAElFTkSuQmCC",alt:"",className:"max-w-[250px] w-full"}),(0,Z.jsx)("button",{id:"navToggler",className:"absolute right-6 top-3 md:hidden lightcolor outline-none p-4",onClick:function(){return o(!a)},children:(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,Z.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})}),(0,Z.jsx)("nav",{className:"navigation overflow-hidden ".concat(a?"max-h-[400px]":"max-h-[0px]"," md:max-h-full"),children:(0,Z.jsx)("ul",{className:"flex gap-6 flex-col md:flex-row items-center mt-6 md:mt-0 transition duration-300",children:["Home","Characters","Weapons","Artifacts","Enemies"].map((function(e,t){return(0,Z.jsx)("li",{children:(0,Z.jsx)(X,{to:e,id:e,className:"navlink transition-all duration-300 text-[#6a91e9] opacity-40 hover:opacity-100 hover:tracking-widest",onClick:function(){return o(!1)},children:e})},t)}))})}),(0,Z.jsx)("button",{className:"fixed bottom-10 right-8 p-4 rounded-xl bg-[#282c36] lightcolor outline-none z-50 ".concat(t?"block":"hidden"),onClick:function(){return document.documentElement.scrollTop=0},children:(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,Z.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 15l7-7 7 7"})})})]})};function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne(e)}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||se(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e){return function(e){if(Array.isArray(e))return ue(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||se(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){if(e){if("string"===typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ue(e,t):void 0}}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ce=function(){},le={},fe={},he=null,de={mark:ce,measure:ce};try{"undefined"!==typeof window&&(le=window),"undefined"!==typeof document&&(fe=document),"undefined"!==typeof MutationObserver&&(he=MutationObserver),"undefined"!==typeof performance&&(de=performance)}catch(aR){}var pe=(le.navigator||{}).userAgent,ve=void 0===pe?"":pe,me=le,ye=fe,ge=he,ke=de,be=(me.document,!!ye.documentElement&&!!ye.head&&"function"===typeof ye.addEventListener&&"function"===typeof ye.createElement),we=~ve.indexOf("MSIE")||~ve.indexOf("Trident/"),xe="svg-inline--fa",_e="data-fa-i2svg",Ie="data-fa-pseudo-element",Ee="data-prefix",Se="data-icon",Te="fontawesome-i2svg",Ae=["HTML","HEAD","STYLE","SCRIPT"],Ce=function(){try{return!0}catch(aR){return!1}}(),Ne={fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit",fa:"solid"},Re={solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"},Oe={fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},De={"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},Pe=/fa[srltdbk\-\ ]/,Le="fa-layers-text",Me=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Kit)?.*/i,je={900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},Fe=[1,2,3,4,5,6,7,8,9,10],Ue=Fe.concat([11,12,13,14,15,16,17,18,19,20]),Ve=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Be="duotone-group",ze="swap-opacity",qe="primary",We="secondary",Ke=[].concat(oe(Object.keys(Re)),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Be,ze,qe,We]).concat(Fe.map((function(e){return"".concat(e,"x")}))).concat(Ue.map((function(e){return"w-".concat(e)}))),He=me.FontAwesomeConfig||{};if(ye&&"function"===typeof ye.querySelector){[["data-family-prefix","familyPrefix"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=ae(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=ye.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(He[r]=i)}))}var Ge=te(te({},{familyPrefix:"fa",styleDefault:"solid",replacementClass:xe,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0}),He);Ge.autoReplaceSvg||(Ge.observeMutations=!1);var Qe={};Object.keys(Ge).forEach((function(e){Object.defineProperty(Qe,e,{enumerable:!0,set:function(t){Ge[e]=t,Ye.forEach((function(e){return e(Qe)}))},get:function(){return Ge[e]}})})),me.FontAwesomeConfig=Qe;var Ye=[];var Je=16,Xe={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Ze(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function $e(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function et(e){return e.classList?$e(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function tt(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function nt(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")}),"")}function rt(e){return e.size!==Xe.size||e.x!==Xe.x||e.y!==Xe.y||e.rotate!==Xe.rotate||e.flipX||e.flipY}function it(){var e="fa",t=xe,n=Qe.familyPrefix,r=Qe.replacementClass,i=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(n!==e||r!==t){var a=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");i=i.replace(a,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(s,".".concat(r))}return i}var at=!1;function ot(){Qe.autoAddCss&&!at&&(!function(e){if(e&&be){var t=ye.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=ye.head.childNodes,r=null,i=n.length-1;i>-1;i--){var a=n[i],o=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=a)}ye.head.insertBefore(t,r)}}(it()),at=!0)}var st={mixout:function(){return{dom:{css:it,insertCss:ot}}},hooks:function(){return{beforeDOMElementCreation:function(){ot()},beforeI2svg:function(){ot()}}}},ut=me||{};ut.___FONT_AWESOME___||(ut.___FONT_AWESOME___={}),ut.___FONT_AWESOME___.styles||(ut.___FONT_AWESOME___.styles={}),ut.___FONT_AWESOME___.hooks||(ut.___FONT_AWESOME___.hooks={}),ut.___FONT_AWESOME___.shims||(ut.___FONT_AWESOME___.shims=[]);var ct=ut.___FONT_AWESOME___,lt=[],ft=!1;function ht(e){be&&(ft?setTimeout(e,0):lt.push(e))}function dt(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,a=void 0===i?[]:i;return"string"===typeof e?tt(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(tt(e[n]),'" ')}),"").trim()}(r),">").concat(a.map(dt).join(""),"</").concat(t,">")}function pt(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}be&&((ft=(ye.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ye.readyState))||ye.addEventListener("DOMContentLoaded",(function e(){ye.removeEventListener("DOMContentLoaded",e),ft=1,lt.map((function(e){return e()}))})));var vt=function(e,t,n,r){var i,a,o,s=Object.keys(e),u=s.length,c=void 0!==r?function(e,t){return function(n,r,i,a){return e.call(t,n,r,i,a)}}(t,r):t;for(void 0===n?(i=1,o=e[s[0]]):(i=0,o=n);i<u;i++)o=c(o,e[a=s[i]],a,e);return o};function mt(e){var t=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);return 1===t.length?t[0].toString(16):null}function yt(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function gt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,a=yt(t);"function"!==typeof ct.hooks.addPack||i?ct.styles[e]=te(te({},ct.styles[e]||{}),a):ct.hooks.addPack(e,yt(t)),"fas"===e&&gt("fa",t)}var kt=ct.styles,bt=ct.shims,wt=Object.values(Oe),xt=null,_t={},It={},Et={},St={},Tt={},At=Object.keys(Ne);function Ct(e,t){var n,r=t.split("-"),i=r[0],a=r.slice(1).join("-");return i!==e||""===a||(n=a,~Ke.indexOf(n))?null:a}var Nt=function(){var e=function(e){return vt(kt,(function(t,n,r){return t[r]=vt(n,e,{}),t}),{})};_t=e((function(e,t,n){(t[3]&&(e[t[3]]=n),t[2])&&t[2].filter((function(e){return"number"===typeof e})).forEach((function(t){e[t.toString(16)]=n}));return e})),It=e((function(e,t,n){(e[n]=n,t[2])&&t[2].filter((function(e){return"string"===typeof e})).forEach((function(t){e[t]=n}));return e})),Tt=e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in kt||Qe.autoFetchSvg,n=vt(bt,(function(e,n){var r=n[0],i=n[1],a=n[2];return"far"!==i||t||(i="fas"),"string"===typeof r&&(e.names[r]={prefix:i,iconName:a}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:a}),e}),{names:{},unicodes:{}});Et=n.names,St=n.unicodes,xt=Lt(Qe.styleDefault)};function Rt(e,t){return(_t[e]||{})[t]}function Ot(e,t){return(Tt[e]||{})[t]}function Dt(e){return Et[e]||{prefix:null,iconName:null}}function Pt(){return xt}!function(e){Ye.push(e)}((function(e){xt=Lt(e.styleDefault)})),Nt();function Lt(e){var t=Re[e]||Re[Ne[e]],n=e in ct.styles?e:null;return t||n||null}function Mt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.skipLookups,r=void 0!==n&&n,i=null,a=e.reduce((function(e,t){var n=Ct(Qe.familyPrefix,t);if(kt[t]?(t=wt.includes(t)?De[t]:t,i=t,e.prefix=t):At.indexOf(t)>-1?(i=t,e.prefix=Lt(t)):n?e.iconName=n:t!==Qe.replacementClass&&e.rest.push(t),!r&&e.prefix&&e.iconName){var a="fa"===i?Dt(e.iconName):{},o=Ot(e.prefix,e.iconName);a.prefix&&(i=null),e.iconName=a.iconName||o||e.iconName,e.prefix=a.prefix||e.prefix,"far"!==e.prefix||kt.far||!kt.fas||Qe.autoFetchSvg||(e.prefix="fas")}return e}),{prefix:null,iconName:null,rest:[]});return"fa"!==a.prefix&&"fa"!==i||(a.prefix=Pt()||"fas"),a}var jt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=te(te({},e.definitions[t]||{}),i[t]),gt(t,i[t]);var n=Oe[t];n&&gt(n,i[t]),Nt()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,a=r.iconName,o=r.icon,s=o[2];e[i]||(e[i]={}),s.length>0&&s.forEach((function(t){"string"===typeof t&&(e[i][t]=o)})),e[i][a]=o})),e}}],n&&re(t.prototype,n),r&&re(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Ft=[],Ut={},Vt={},Bt=Object.keys(Vt);function zt(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=Ut[e]||[];return a.forEach((function(e){t=e.apply(null,[t].concat(r))})),t}function qt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=Ut[e]||[];i.forEach((function(e){e.apply(null,n)}))}function Wt(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Vt[e]?Vt[e].apply(null,t):void 0}function Kt(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||Pt();if(t)return t=Ot(n,t)||t,pt(Ht.definitions,n,t)||pt(ct.styles,n,t)}var Ht=new jt,Gt={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return be?(qt("beforeI2svg",e),Wt("pseudoElements2svg",e),Wt("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===Qe.autoReplaceSvg&&(Qe.autoReplaceSvg=!0),Qe.observeMutations=!0,ht((function(){Jt({autoReplaceSvgRoot:t}),qt("watch",e)}))}},Qt={icon:function(e){if(null===e)return null;if("object"===ne(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Ot(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=Lt(e[0]);return{prefix:n,iconName:Ot(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(Qe.familyPrefix,"-"))>-1||e.match(Pe))){var r=Mt(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||Pt(),iconName:Ot(r.prefix,r.iconName)||r.iconName}}if("string"===typeof e){var i=Pt();return{prefix:i,iconName:Ot(i,e)||e}}}},Yt={noAuto:function(){Qe.autoReplaceSvg=!1,Qe.observeMutations=!1,qt("noAuto")},config:Qe,dom:Gt,parse:Qt,library:Ht,findIconDefinition:Kt,toHtml:dt},Jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot,n=void 0===t?ye:t;(Object.keys(ct.styles).length>0||Qe.autoFetchSvg)&&be&&Qe.autoReplaceSvg&&Yt.dom.i2svg({node:n})};function Xt(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return dt(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(be){var t=ye.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function Zt(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,a=e.iconName,o=e.transform,s=e.symbol,u=e.title,c=e.maskId,l=e.titleId,f=e.extra,h=e.watchable,d=void 0!==h&&h,p=r.found?r:n,v=p.width,m=p.height,y="fak"===i,g=[Qe.replacementClass,a?"".concat(Qe.familyPrefix,"-").concat(a):""].filter((function(e){return-1===f.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(f.classes).join(" "),k={children:[],attributes:te(te({},f.attributes),{},{"data-prefix":i,"data-icon":a,class:g,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(v," ").concat(m)})},b=y&&!~f.classes.indexOf("fa-fw")?{width:"".concat(v/m*16*.0625,"em")}:{};d&&(k.attributes[_e]=""),u&&(k.children.push({tag:"title",attributes:{id:k.attributes["aria-labelledby"]||"title-".concat(l||Ze())},children:[u]}),delete k.attributes.title);var w=te(te({},k),{},{prefix:i,iconName:a,main:n,mask:r,maskId:c,transform:o,symbol:s,styles:te(te({},b),f.styles)}),x=r.found&&n.found?Wt("generateAbstractMask",w)||{children:[],attributes:{}}:Wt("generateAbstractIcon",w)||{children:[],attributes:{}},_=x.children,I=x.attributes;return w.children=_,w.attributes=I,s?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,a=e.symbol,o=!0===a?"".concat(t,"-").concat(Qe.familyPrefix,"-").concat(n):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:te(te({},i),{},{id:o}),children:r}]}]}(w):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,a=e.styles,o=e.transform;if(rt(o)&&n.found&&!r.found){var s={x:n.width/n.height/2,y:.5};i.style=nt(te(te({},a),{},{"transform-origin":"".concat(s.x+o.x/16,"em ").concat(s.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(w)}function $t(e){var t=e.content,n=e.width,r=e.height,i=e.transform,a=e.title,o=e.extra,s=e.watchable,u=void 0!==s&&s,c=te(te(te({},o.attributes),a?{title:a}:{}),{},{class:o.classes.join(" ")});u&&(c[_e]="");var l=te({},o.styles);rt(i)&&(l.transform=function(e){var t=e.transform,n=e.width,r=void 0===n?16:n,i=e.height,a=void 0===i?16:i,o=e.startCentered,s=void 0!==o&&o,u="";return u+=s&&we?"translate(".concat(t.x/Je-r/2,"em, ").concat(t.y/Je-a/2,"em) "):s?"translate(calc(-50% + ".concat(t.x/Je,"em), calc(-50% + ").concat(t.y/Je,"em)) "):"translate(".concat(t.x/Je,"em, ").concat(t.y/Je,"em) "),u+="scale(".concat(t.size/Je*(t.flipX?-1:1),", ").concat(t.size/Je*(t.flipY?-1:1),") "),u+"rotate(".concat(t.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),l["-webkit-transform"]=l.transform);var f=nt(l);f.length>0&&(c.style=f);var h=[];return h.push({tag:"span",attributes:c,children:[t]}),a&&h.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),h}function en(e){var t=e.content,n=e.title,r=e.extra,i=te(te(te({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),a=nt(r.styles);a.length>0&&(i.style=a);var o=[];return o.push({tag:"span",attributes:i,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var tn=ct.styles;function nn(e){var t=e[0],n=e[1],r=ae(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(Qe.familyPrefix,"-").concat(Be)},children:[{tag:"path",attributes:{class:"".concat(Qe.familyPrefix,"-").concat(We),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Qe.familyPrefix,"-").concat(qe),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}var rn={found:!1,width:512,height:512};function an(e,t){var n=t;return"fa"===t&&null!==Qe.styleDefault&&(t=Pt()),new Promise((function(r,i){Wt("missingIconAbstract");if("fa"===n){var a=Dt(e)||{};e=a.iconName||e,t=a.prefix||t}if(e&&t&&tn[t]&&tn[t][e])return r(nn(tn[t][e]));!function(e,t){Ce||Qe.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(te(te({},rn),{},{icon:Qe.showMissingIcons&&e&&Wt("missingIconAbstract")||{}}))}))}var on=function(){},sn=Qe.measurePerformance&&ke&&ke.mark&&ke.measure?ke:{mark:on,measure:on},un='FA "6.1.1"',cn=function(e){sn.mark("".concat(un," ").concat(e," ends")),sn.measure("".concat(un," ").concat(e),"".concat(un," ").concat(e," begins"),"".concat(un," ").concat(e," ends"))},ln=function(e){return sn.mark("".concat(un," ").concat(e," begins")),function(){return cn(e)}},fn=function(){};function hn(e){return"string"===typeof(e.getAttribute?e.getAttribute(_e):null)}function dn(e){return ye.createElementNS("http://www.w3.org/2000/svg",e)}function pn(e){return ye.createElement(e)}function vn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ceFn,r=void 0===n?"svg"===e.tag?dn:pn:n;if("string"===typeof e)return ye.createTextNode(e);var i=r(e.tag);Object.keys(e.attributes||[]).forEach((function(t){i.setAttribute(t,e.attributes[t])}));var a=e.children||[];return a.forEach((function(e){i.appendChild(vn(e,{ceFn:r}))})),i}var mn={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(vn(e),t)})),null===t.getAttribute(_e)&&Qe.keepOriginalSource){var n=ye.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~et(t).indexOf(Qe.replacementClass))return mn.replace(e);var r=new RegExp("".concat(Qe.familyPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce((function(e,t){return t===Qe.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}var a=n.map((function(e){return dt(e)})).join("\n");t.setAttribute(_e,""),t.innerHTML=a}};function yn(e){e()}function gn(e,t){var n="function"===typeof t?t:fn;if(0===e.length)n();else{var r=yn;"async"===Qe.mutateApproach&&(r=me.requestAnimationFrame||yn),r((function(){var t=!0===Qe.autoReplaceSvg?mn.replace:mn[Qe.autoReplaceSvg]||mn.replace,r=ln("mutate");e.map(t),r(),n()}))}}var kn=!1;function bn(){kn=!0}function wn(){kn=!1}var xn=null;function _n(e){if(ge&&Qe.observeMutations){var t=e.treeCallback,n=void 0===t?fn:t,r=e.nodeCallback,i=void 0===r?fn:r,a=e.pseudoElementsCallback,o=void 0===a?fn:a,s=e.observeMutationsRoot,u=void 0===s?ye:s;xn=new ge((function(e){if(!kn){var t=Pt();$e(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!hn(e.addedNodes[0])&&(Qe.searchPseudoElements&&o(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&Qe.searchPseudoElements&&o(e.target.parentNode),"attributes"===e.type&&hn(e.target)&&~Ve.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(Ee):null,n=e.getAttribute?e.getAttribute(Se):null;return t&&n}(e.target)){var r=Mt(et(e.target)),a=r.prefix,s=r.iconName;e.target.setAttribute(Ee,a||t),s&&e.target.setAttribute(Se,s)}else(u=e.target)&&u.classList&&u.classList.contains&&u.classList.contains(Qe.replacementClass)&&i(e.target);var u}))}})),be&&xn.observe(u,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function In(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce((function(e,t){var n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e}),{})),n}function En(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"",i=Mt(et(e));return i.prefix||(i.prefix=Pt()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||i.prefix&&r.length>0&&(i.iconName=function(e,t){return(It[e]||{})[t]}(i.prefix,e.innerText)||Rt(i.prefix,mt(e.innerText))),i}function Sn(e){var t=$e(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return Qe.autoA11y&&(n?t["aria-labelledby"]="".concat(Qe.replacementClass,"-title-").concat(r||Ze()):(t["aria-hidden"]="true",t.focusable="false")),t}function Tn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=En(e),r=n.iconName,i=n.prefix,a=n.rest,o=Sn(e),s=zt("parseNodeAttributes",{},e),u=t.styleParser?In(e):[];return te({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:i,transform:Xe,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:u,attributes:o}},s)}var An=ct.styles;function Cn(e){var t="nest"===Qe.autoReplaceSvg?Tn(e,{styleParser:!1}):Tn(e);return~t.extra.classes.indexOf(Le)?Wt("generateLayersText",e,t):Wt("generateSvgReplacementMutation",e,t)}function Nn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!be)return Promise.resolve();var n=ye.documentElement.classList,r=function(e){return n.add("".concat(Te,"-").concat(e))},i=function(e){return n.remove("".concat(Te,"-").concat(e))},a=Qe.autoFetchSvg?Object.keys(Ne):Object.keys(An),o=[".".concat(Le,":not([").concat(_e,"])")].concat(a.map((function(e){return".".concat(e,":not([").concat(_e,"])")}))).join(", ");if(0===o.length)return Promise.resolve();var s=[];try{s=$e(e.querySelectorAll(o))}catch(aR){}if(!(s.length>0))return Promise.resolve();r("pending"),i("complete");var u=ln("onTree"),c=s.reduce((function(e,t){try{var n=Cn(t);n&&e.push(n)}catch(aR){Ce||"MissingIcon"===aR.name&&console.error(aR)}return e}),[]);return new Promise((function(e,n){Promise.all(c).then((function(n){gn(n,(function(){r("active"),r("complete"),i("pending"),"function"===typeof t&&t(),u(),e()}))})).catch((function(e){u(),n(e)}))}))}function Rn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Cn(e).then((function(e){e&&gn([e],t)}))}var On=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?Xe:n,i=t.symbol,a=void 0!==i&&i,o=t.mask,s=void 0===o?null:o,u=t.maskId,c=void 0===u?null:u,l=t.title,f=void 0===l?null:l,h=t.titleId,d=void 0===h?null:h,p=t.classes,v=void 0===p?[]:p,m=t.attributes,y=void 0===m?{}:m,g=t.styles,k=void 0===g?{}:g;if(e){var b=e.prefix,w=e.iconName,x=e.icon;return Xt(te({type:"icon"},e),(function(){return qt("beforeDOMElementCreation",{iconDefinition:e,params:t}),Qe.autoA11y&&(f?y["aria-labelledby"]="".concat(Qe.replacementClass,"-title-").concat(d||Ze()):(y["aria-hidden"]="true",y.focusable="false")),Zt({icons:{main:nn(x),mask:s?nn(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:b,iconName:w,transform:te(te({},Xe),r),symbol:a,title:f,maskId:c,titleId:d,extra:{attributes:y,styles:k,classes:v}})}))}},Dn={mixout:function(){return{icon:(e=On,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:Kt(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:Kt(i||{})),e(r,te(te({},n),{},{mask:i}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=Nn,e.nodeCallback=Rn,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?ye:t,r=e.callback;return Nn(n,void 0===r?function(){}:r)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,r=t.title,i=t.titleId,a=t.prefix,o=t.transform,s=t.symbol,u=t.mask,c=t.maskId,l=t.extra;return new Promise((function(t,f){Promise.all([an(n,a),u.iconName?an(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(u){var f=ae(u,2),h=f[0],d=f[1];t([e,Zt({icons:{main:h,mask:d},prefix:a,iconName:n,transform:o,symbol:s,maskId:c,title:r,titleId:i,extra:l,watchable:!0})])})).catch(f)}))},e.generateAbstractIcon=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.transform,o=nt(e.styles);return o.length>0&&(r.style=o),rt(a)&&(t=Wt("generateAbstractTransformGrouping",{main:i,transform:a,containerWidth:i.width,iconWidth:i.width})),n.push(t||i.icon),{children:n,attributes:r}}}},Pn={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,r=void 0===n?[]:n;return Xt({type:"layer"},(function(){qt("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e((function(e){Array.isArray(e)?e.map((function(e){n=n.concat(e.abstract)})):n=n.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(Qe.familyPrefix,"-layers")].concat(oe(r)).join(" ")},children:n}]}))}}}},Ln={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=void 0===n?null:n,i=t.classes,a=void 0===i?[]:i,o=t.attributes,s=void 0===o?{}:o,u=t.styles,c=void 0===u?{}:u;return Xt({type:"counter",content:e},(function(){return qt("beforeDOMElementCreation",{content:e,params:t}),en({content:e.toString(),title:r,extra:{attributes:s,styles:c,classes:["".concat(Qe.familyPrefix,"-layers-counter")].concat(oe(a))}})}))}}}},Mn={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?Xe:n,i=t.title,a=void 0===i?null:i,o=t.classes,s=void 0===o?[]:o,u=t.attributes,c=void 0===u?{}:u,l=t.styles,f=void 0===l?{}:l;return Xt({type:"text",content:e},(function(){return qt("beforeDOMElementCreation",{content:e,params:t}),$t({content:e,transform:te(te({},Xe),r),title:a,extra:{attributes:c,styles:f,classes:["".concat(Qe.familyPrefix,"-layers-text")].concat(oe(s))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.title,r=t.transform,i=t.extra,a=null,o=null;if(we){var s=parseInt(getComputedStyle(e).fontSize,10),u=e.getBoundingClientRect();a=u.width/s,o=u.height/s}return Qe.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,$t({content:e.innerHTML,width:a,height:o,transform:r,title:n,extra:i,watchable:!0})])}}},jn=new RegExp('"',"ug"),Fn=[1105920,1112319];function Un(e,t){var n="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise((function(r,i){if(null!==e.getAttribute(n))return r();var a=$e(e.children).filter((function(e){return e.getAttribute(Ie)===t}))[0],o=me.getComputedStyle(e,t),s=o.getPropertyValue("font-family").match(Me),u=o.getPropertyValue("font-weight"),c=o.getPropertyValue("content");if(a&&!s)return e.removeChild(a),r();if(s&&"none"!==c&&""!==c){var l=o.getPropertyValue("content"),f=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(s[2])?Re[s[2].toLowerCase()]:je[u],h=function(e){var t=e.replace(jn,""),n=function(e,t){var n,r=e.length,i=e.charCodeAt(t);return i>=55296&&i<=56319&&r>t+1&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(i-55296)+n-56320+65536:i}(t,0),r=n>=Fn[0]&&n<=Fn[1],i=2===t.length&&t[0]===t[1];return{value:mt(i?t[0]:t),isSecondary:r||i}}(l),d=h.value,p=h.isSecondary,v=s[0].startsWith("FontAwesome"),m=Rt(f,d),y=m;if(v){var g=function(e){var t=St[e],n=Rt("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(d);g.iconName&&g.prefix&&(m=g.iconName,f=g.prefix)}if(!m||p||a&&a.getAttribute(Ee)===f&&a.getAttribute(Se)===y)r();else{e.setAttribute(n,y),a&&e.removeChild(a);var k={iconName:null,title:null,titleId:null,prefix:null,transform:Xe,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},b=k.extra;b.attributes[Ie]=t,an(m,f).then((function(i){var a=Zt(te(te({},k),{},{icons:{main:i,mask:{prefix:null,iconName:null,rest:[]}},prefix:f,iconName:y,extra:b,watchable:!0})),o=ye.createElement("svg");"::before"===t?e.insertBefore(o,e.firstChild):e.appendChild(o),o.outerHTML=a.map((function(e){return dt(e)})).join("\n"),e.removeAttribute(n),r()})).catch(i)}}else r()}))}function Vn(e){return Promise.all([Un(e,"::before"),Un(e,"::after")])}function Bn(e){return e.parentNode!==document.head&&!~Ae.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(Ie)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function zn(e){if(be)return new Promise((function(t,n){var r=$e(e.querySelectorAll("*")).filter(Bn).map(Vn),i=ln("searchPseudoElements");bn(),Promise.all(r).then((function(){i(),wn(),t()})).catch((function(){i(),wn(),n()}))}))}var qn=!1,Wn=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},Kn={mixout:function(){return{parse:{transform:function(e){return Wn(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=Wn(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,r=e.containerWidth,i=e.iconWidth,a={transform:"translate(".concat(r/2," 256)")},o="translate(".concat(32*n.x,", ").concat(32*n.y,") "),s="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),u="rotate(".concat(n.rotate," 0 0)"),c={outer:a,inner:{transform:"".concat(o," ").concat(s," ").concat(u)},path:{transform:"translate(".concat(i/2*-1," -256)")}};return{tag:"g",attributes:te({},c.outer),children:[{tag:"g",attributes:te({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:te(te({},t.icon.attributes),c.path)}]}]}}}},Hn={x:0,y:0,width:"100%",height:"100%"};function Gn(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var Qn={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),r=n?Mt(n.split(" ").map((function(e){return e.trim()}))):{prefix:null,iconName:null,rest:[]};return r.prefix||(r.prefix=Pt()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.mask,o=e.maskId,s=e.transform,u=i.width,c=i.icon,l=a.width,f=a.icon,h=function(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(o," ").concat(s)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:s,containerWidth:l,iconWidth:u}),d={tag:"rect",attributes:te(te({},Hn),{},{fill:"white"})},p=c.children?{children:c.children.map(Gn)}:{},v={tag:"g",attributes:te({},h.inner),children:[Gn(te({tag:c.tag,attributes:te(te({},c.attributes),h.path)},p))]},m={tag:"g",attributes:te({},h.outer),children:[v]},y="mask-".concat(o||Ze()),g="clip-".concat(o||Ze()),k={tag:"mask",attributes:te(te({},Hn),{},{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[d,m]},b={tag:"defs",children:[{tag:"clipPath",attributes:{id:g},children:(t=f,"g"===t.tag?t.children:[t])},k]};return n.push(b,{tag:"rect",attributes:te({fill:"currentColor","clip-path":"url(#".concat(g,")"),mask:"url(#".concat(y,")")},Hn)}),{children:n,attributes:r}}}},Yn={provides:function(e){var t=!1;me.matchMedia&&(t=me.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:te(te({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var i=te(te({},r),{},{attributeName:"opacity"}),a={tag:"circle",attributes:te(te({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||a.children.push({tag:"animate",attributes:te(te({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:te(te({},i),{},{values:"1;0;1;1;0;1;"})}),e.push(a),e.push({tag:"path",attributes:te(te({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:te(te({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:te(te({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:te(te({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){var n=t.mixoutsTo;Ft=e,Ut={},Object.keys(Vt).forEach((function(e){-1===Bt.indexOf(e)&&delete Vt[e]})),Ft.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"===typeof t[e]&&(n[e]=t[e]),"object"===ne(t[e])&&Object.keys(t[e]).forEach((function(r){n[e]||(n[e]={}),n[e][r]=t[e][r]}))})),e.hooks){var r=e.hooks();Object.keys(r).forEach((function(e){Ut[e]||(Ut[e]=[]),Ut[e].push(r[e])}))}e.provides&&e.provides(Vt)}))}([st,Dn,Pn,Ln,Mn,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=zn,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?ye:t;Qe.searchPseudoElements&&zn(n)}}},{mixout:function(){return{dom:{unwatch:function(){bn(),qn=!0}}}},hooks:function(){return{bootstrap:function(){_n(zt("mutationObserverCallbacks",{}))},noAuto:function(){xn&&xn.disconnect()},watch:function(e){var t=e.observeMutationsRoot;qn?wn():_n(zt("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},Kn,Qn,Yn,{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}}}}],{mixoutsTo:Yt});var Jn=Yt.parse,Xn=Yt.icon,Zn=n(7),$n=n.n(Zn);function er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?er(Object(n),!0).forEach((function(t){rr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):er(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nr(e){return nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nr(e)}function rr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ir(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ar(e){return function(e){if(Array.isArray(e))return or(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return or(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return or(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function or(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sr(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var ur=["style"];function cr(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=sr(t.slice(0,r)),a=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=a:e[i]=a,e}),{})}var lr=!1;try{lr=!0}catch(aR){}function fr(e){return e&&"object"===nr(e)&&e.prefix&&e.iconName&&e.icon?e:Jn.icon?Jn.icon(e):null===e?null:e&&"object"===nr(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function hr(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?rr({},e,t):{}}var dr=r.forwardRef((function(e,t){var n=e.icon,r=e.mask,i=e.symbol,a=e.className,o=e.title,s=e.titleId,u=e.maskId,c=fr(n),l=hr("classes",[].concat(ar(function(e){var t,n=e.beat,r=e.fade,i=e.beatFade,a=e.bounce,o=e.shake,s=e.flash,u=e.spin,c=e.spinPulse,l=e.spinReverse,f=e.pulse,h=e.fixedWidth,d=e.inverse,p=e.border,v=e.listItem,m=e.flip,y=e.size,g=e.rotation,k=e.pull,b=(rr(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":a,"fa-shake":o,"fa-flash":s,"fa-spin":u,"fa-spin-reverse":l,"fa-spin-pulse":c,"fa-pulse":f,"fa-fw":h,"fa-inverse":d,"fa-border":p,"fa-li":v,"fa-flip":!0===m,"fa-flip-horizontal":"horizontal"===m||"both"===m,"fa-flip-vertical":"vertical"===m||"both"===m},"fa-".concat(y),"undefined"!==typeof y&&null!==y),rr(t,"fa-rotate-".concat(g),"undefined"!==typeof g&&null!==g&&0!==g),rr(t,"fa-pull-".concat(k),"undefined"!==typeof k&&null!==k),rr(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(b).map((function(e){return b[e]?e:null})).filter((function(e){return e}))}(e)),ar(a.split(" ")))),f=hr("transform","string"===typeof e.transform?Jn.transform(e.transform):e.transform),h=hr("mask",fr(r)),d=Xn(c,tr(tr(tr(tr({},l),f),h),{},{symbol:i,title:o,titleId:s,maskId:u}));if(!d)return function(){var e;!lr&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",c),null;var p=d.abstract,v={ref:t};return Object.keys(e).forEach((function(t){dr.defaultProps.hasOwnProperty(t)||(v[t]=e[t])})),pr(p[0],v)}));dr.displayName="FontAwesomeIcon",dr.propTypes={beat:$n().bool,border:$n().bool,beatFade:$n().bool,bounce:$n().bool,className:$n().string,fade:$n().bool,flash:$n().bool,mask:$n().oneOfType([$n().object,$n().array,$n().string]),maskId:$n().string,fixedWidth:$n().bool,inverse:$n().bool,flip:$n().oneOf([!0,!1,"horizontal","vertical","both"]),icon:$n().oneOfType([$n().object,$n().array,$n().string]),listItem:$n().bool,pull:$n().oneOf(["right","left"]),pulse:$n().bool,rotation:$n().oneOf([0,90,180,270]),shake:$n().bool,size:$n().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:$n().bool,spinPulse:$n().bool,spinReverse:$n().bool,symbol:$n().oneOfType([$n().bool,$n().string]),title:$n().string,titleId:$n().string,transform:$n().oneOfType([$n().string,$n().object]),swapOpacity:$n().bool},dr.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var pr=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),a=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=cr(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[sr(t)]=r}return e}),{attrs:{}}),o=r.style,s=void 0===o?{}:o,u=ir(r,ur);return a.attrs.style=tr(tr({},a.attrs.style),s),t.apply(void 0,[n.tag,tr(tr({},a.attrs),u)].concat(ar(i)))}.bind(null,r.createElement),vr={prefix:"fas",iconName:"house",icon:[576,512,[63498,63500,127968,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5C575.8 273.5 560.8 287.6 543.8 287.6H511.8L512.5 447.7C512.5 450.5 512.3 453.1 512 455.8V472C512 494.1 494.1 512 472 512H456C454.9 512 453.8 511.1 452.7 511.9C451.3 511.1 449.9 512 448.5 512H392C369.9 512 352 494.1 352 472V384C352 366.3 337.7 352 320 352H256C238.3 352 224 366.3 224 384V472C224 494.1 206.1 512 184 512H128.1C126.6 512 125.1 511.9 123.6 511.8C122.4 511.9 121.2 512 120 512H104C81.91 512 64 494.1 64 472V360C64 359.1 64.03 358.1 64.09 357.2V287.6H32.05C14.02 287.6 0 273.5 0 255.5C0 246.5 3.004 238.5 10.01 231.5L266.4 8.016C273.4 1.002 281.4 0 288.4 0C295.4 0 303.4 2.004 309.5 7.014L564.8 231.5C572.8 238.5 576.9 246.5 575.8 255.5L575.8 255.5z"]},mr=vr,yr=[{name:"Characters",bg:"https://images8.alphacoders.com/115/1155168.jpg",icon:"https://www.projectcelestia.com/static/images/UI_AvatarIcon_Kazuha.webp"},{name:"Weapons",bg:"https://images2.alphacoders.com/110/thumb-1920-1109233.jpg",icon:"https://www.projectcelestia.com/static/images/Skill_A_01.webp",animationClass:"animation__two"},{name:"Artifacts",bg:"https://preview.redd.it/vwmtli0mjs671.png?auto=webp&s=a62591fb222368499b5522f95ad5debbbfda68a8",icon:"https://www.projectcelestia.com/static/images/UI_RelicIcon_15001_4.webp",animationClass:"animation__three"},{name:"Enemies",bg:"https://clutchpoints.com/wp-content/uploads/2021/10/genshin-impact-2.2-rockfond-1024x576.jpg",icon:"",animationClass:"animation__four"},{name:"Interactive Map",bg:"https://imageio.forbes.com/specials-images/imageserve/6087fe043bc4719153518ee5/Genshin-Impact/960x0.jpg?format=jpg&width=960",icon:"https://gim.appsample.net/markers-v3/o3.png",link:"https://genshin-impact-map.appsample.com/#/",animationClass:"animation__five"}],gr=function(){var e=c((0,r.useState)(null),2),t=e[0];e[1];return(0,Z.jsxs)("div",{className:"home__container",children:[(0,Z.jsxs)("div",{className:"flex items-center gap-2 flex-wrap text-center justify-center sm:justify-start",children:[(0,Z.jsx)(dr,{className:"text-2xl lightcolor",icon:mr}),(0,Z.jsxs)("h1",{className:"page__title lightcolor text-4xl font-bold text-center sm:text-left group",children:["Home Page ",(0,Z.jsx)("span",{className:"hidden group-hover:inline",children:"#"}),(0,Z.jsx)("br",{}),"Hello ",null===t?"Guest":t]})]}),(0,Z.jsx)("div",{className:"banners flex flex-col gap-8 mt-8 text-white text-2xl font-bold",children:yr.map((function(e,t){return e.link?(0,Z.jsxs)("a",{href:e.link,target:"_blank",className:"rows relative block py-10 sm:py-14 px-6 rounded-xl group shadow-2xl animation ".concat(e.animationClass&&e.animationClass),style:{background:"url(".concat(e.bg,")center center/cover no-repeat")},children:[(0,Z.jsx)("div",{className:"overlay absolute inset-0 h-full w-full bg-black bg-opacity-40 rounded-xl transition duration-300 group-hover:bg-opacity-20 z-40"}),(0,Z.jsxs)("p",{className:"relative z-50 flex items-center gap-2",children:[(0,Z.jsx)("img",{src:e.icon,alt:"",className:"icon w-[50px]"}),e.name]})]},t):(0,Z.jsxs)(X,{to:"/".concat(e.name),className:"rows relative block py-10 sm:py-14 px-6 rounded-xl group shadow-2xl animation ".concat(e.animationClass&&e.animationClass),style:{background:"url(".concat(e.bg,")center center/cover no-repeat")},children:[(0,Z.jsx)("div",{className:"overlay absolute inset-0 h-full w-full bg-black bg-opacity-40 rounded-xl transition duration-300 group-hover:bg-opacity-20 z-40"}),(0,Z.jsxs)("p",{className:"relative z-50 flex items-center gap-2",children:[(0,Z.jsx)("img",{src:e.icon,alt:"",className:"icon w-[60px]"}),e.name]})]},t)}))})]})};function kr(e){return kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kr(e)}function br(){br=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new _(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return E()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=b(o,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(I([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,a,o,s){var u=c(e[i],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==kr(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function I(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=d,s(y,"constructor",d),s(d,"constructor",h),h.displayName=s(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(k.prototype),s(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),s(y,o,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function wr(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function xr(e){return function(e){if(Array.isArray(e))return o(e)}(e)||wr(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _r(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function Ir(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){_r(a,r,i,o,s,"next",e)}function s(e){_r(a,r,i,o,s,"throw",e)}o(void 0)}))}}function Er(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ar(e,t,n){return t&&Tr(e.prototype,t),n&&Tr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Nr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rr(e,t){return Rr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Rr(e,t)}function Or(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rr(e,t)}function Dr(e){return Dr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Dr(e)}function Pr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(aR){return!1}}function Lr(e,t){if(t&&("object"===kr(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Nr(e)}function Mr(e){var t=Pr();return function(){var n,r=Dr(e);if(t){var i=Dr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Lr(this,n)}}function jr(e,t,n){return jr=Pr()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Rr(i,n.prototype),i},jr.apply(null,arguments)}function Fr(e){var t="function"===typeof Map?new Map:void 0;return Fr=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return jr(e,arguments,Dr(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Rr(n,e)},Fr(e)}var Ur=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Vr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ur(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Br=function(e){return function(e){var t=Ur(e);return Vr.encodeByteArray(t,!0)}(e).replace(/\./g,"")},zr=function(e){try{return Vr.decodeString(e,!0)}catch(aR){console.error("base64Decode failed: ",aR)}return null};function qr(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=qr(e[n],t[n]));return e}var Wr=function(){function e(){var t=this;Sr(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Ar(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Kr(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Br(JSON.stringify({alg:"none",type:"JWT"})),Br(JSON.stringify(a)),""].join(".")}function Hr(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Gr(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hr())}function Qr(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(aR){return!1}}function Yr(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Jr(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Xr(){var e=Hr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Zr(){return"object"===typeof indexedDB}var $r=function(e){Or(n,e);var t=Mr(n);function n(e,r,i){var a;return Sr(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Nr(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Nr(a),ei.prototype.create),a}return Ar(n)}(Fr(Error)),ei=function(){function e(t,n,r){Sr(this,e),this.service=t,this.serviceName=n,this.errors=r}return Ar(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?ti(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new $r(n,a,t);return o}}]),e}();function ti(e,t){return e.replace(ni,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var ni=/\{\$([^}]+)}/g;function ri(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ii(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(ai(s)&&ai(u)){if(!ii(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function ai(e){return null!==e&&"object"===typeof e}function oi(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function si(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function ui(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function ci(e,t){var n=new li(e,t);return n.subscribe.bind(n)}var li=function(){function e(t,n){var r=this;Sr(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Ar(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Cr(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=fi),void 0===r.error&&(r.error=fi),void 0===r.complete&&(r.complete=fi);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(aR){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(aR){"undefined"!==typeof console&&console.error&&console.error(aR)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function fi(){}function hi(e){return e&&e._delegate?e._delegate:e}var di=function(){function e(t,n,r){Sr(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Ar(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),pi="[DEFAULT]",vi=function(){function e(t,n){Sr(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Ar(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Wr;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(aR){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(aR){if(r)return null;throw aR}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:pi})}catch(aR){}var t,n=Cr(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(aR){}}}catch(u){n.e(u)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pi;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Ir(br().mark((function e(){var t;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(xr(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),xr(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pi;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pi;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Cr(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=c(i.value,2),u=s[0],l=s[1],f=this.normalizeInstanceIdentifier(u);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Cr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(ub){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===pi?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(ub){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pi;return this.component?this.component.multipleInstances?e:pi:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var mi,yi,gi=function(){function e(t){Sr(this,e),this.name=t,this.providers=new Map}return Ar(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new vi(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ki=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(yi||(yi={}));var bi={debug:yi.DEBUG,verbose:yi.VERBOSE,info:yi.INFO,warn:yi.WARN,error:yi.ERROR,silent:yi.SILENT},wi=yi.INFO,xi=(Er(mi={},yi.DEBUG,"log"),Er(mi,yi.VERBOSE,"log"),Er(mi,yi.INFO,"info"),Er(mi,yi.WARN,"warn"),Er(mi,yi.ERROR,"error"),mi),_i=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=xi[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Ii=function(){function e(t){Sr(this,e),this.name=t,this._logLevel=wi,this._logHandler=_i,this._userLogHandler=null,ki.push(this)}return Ar(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in yi))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?bi[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yi.DEBUG].concat(t)),this._logHandler.apply(this,[this,yi.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yi.VERBOSE].concat(t)),this._logHandler.apply(this,[this,yi.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yi.INFO].concat(t)),this._logHandler.apply(this,[this,yi.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yi.WARN].concat(t)),this._logHandler.apply(this,[this,yi.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yi.ERROR].concat(t)),this._logHandler.apply(this,[this,yi.ERROR].concat(t))}}]),e}();function Ei(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Si(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ei(Object(n),!0).forEach((function(t){Er(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ei(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ti,Ai;var Ci=new WeakMap,Ni=new WeakMap,Ri=new WeakMap,Oi=new WeakMap,Di=new WeakMap;var Pi={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ni.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ri.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ji(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Li(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ai||(Ai=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Fi(this),n),ji(Ci.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ji(e.apply(Fi(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Fi(this),t].concat(r));return Ri.set(a,t.sort?t.sort():[t]),ji(a)}}function Mi(e){return"function"===typeof e?Li(e):(e instanceof IDBTransaction&&function(e){if(!Ni.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Ni.set(e,t)}}(e),t=e,(Ti||(Ti=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Pi):e);var t}function ji(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(ji(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Ci.set(t,e)})).catch((function(){})),Di.set(t,e),t}(e);if(Oi.has(e))return Oi.get(e);var t=Mi(e);return t!==e&&(Oi.set(e,t),Di.set(t,e)),t}var Fi=function(e){return Di.get(e)};var Ui,Vi,Bi=["get","getKey","getAll","getAllKeys","count"],zi=["put","add","delete","clear"],qi=new Map;function Wi(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(qi.get(t))return qi.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=zi.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Bi.includes(n))){var a=function(){var e=Ir(br().mark((function e(t){var a,o,s,u,c,l,f=arguments;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return qi.set(t,a),a}}}Pi=function(e){return Si(Si({},e),{},{get:function(t,n,r){return Wi(t,n)||e.get(t,n,r)},has:function(t,n){return!!Wi(t,n)||e.has(t,n)}})}(Pi);var Ki=function(){function e(t){Sr(this,e),this.container=t}return Ar(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Hi="@firebase/app",Gi="0.7.26",Qi=new Ii("@firebase/app"),Yi="[DEFAULT]",Ji=(Er(Ui={},Hi,"fire-core"),Er(Ui,"@firebase/app-compat","fire-core-compat"),Er(Ui,"@firebase/analytics","fire-analytics"),Er(Ui,"@firebase/analytics-compat","fire-analytics-compat"),Er(Ui,"@firebase/app-check","fire-app-check"),Er(Ui,"@firebase/app-check-compat","fire-app-check-compat"),Er(Ui,"@firebase/auth","fire-auth"),Er(Ui,"@firebase/auth-compat","fire-auth-compat"),Er(Ui,"@firebase/database","fire-rtdb"),Er(Ui,"@firebase/database-compat","fire-rtdb-compat"),Er(Ui,"@firebase/functions","fire-fn"),Er(Ui,"@firebase/functions-compat","fire-fn-compat"),Er(Ui,"@firebase/installations","fire-iid"),Er(Ui,"@firebase/installations-compat","fire-iid-compat"),Er(Ui,"@firebase/messaging","fire-fcm"),Er(Ui,"@firebase/messaging-compat","fire-fcm-compat"),Er(Ui,"@firebase/performance","fire-perf"),Er(Ui,"@firebase/performance-compat","fire-perf-compat"),Er(Ui,"@firebase/remote-config","fire-rc"),Er(Ui,"@firebase/remote-config-compat","fire-rc-compat"),Er(Ui,"@firebase/storage","fire-gcs"),Er(Ui,"@firebase/storage-compat","fire-gcs-compat"),Er(Ui,"@firebase/firestore","fire-fst"),Er(Ui,"@firebase/firestore-compat","fire-fst-compat"),Er(Ui,"fire-js","fire-js"),Er(Ui,"firebase","fire-js-all"),Ui),Xi=new Map,Zi=new Map;function $i(e,t){try{e.container.addComponent(t)}catch(aR){Qi.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),aR)}}function ea(e,t){e.container.addOrOverwriteComponent(t)}function ta(e){var t=e.name;if(Zi.has(t))return Qi.debug("There were multiple attempts to register component ".concat(t,".")),!1;Zi.set(t,e);var n,r=Cr(Xi.values());try{for(r.s();!(n=r.n()).done;){$i(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function na(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ra(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yi;na(e,t).clearInstance(n)}function ia(){Zi.clear()}var aa=(Er(Vi={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Er(Vi,"bad-app-name","Illegal App name: '{$appName}"),Er(Vi,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Er(Vi,"app-deleted","Firebase App named '{$appName}' already deleted"),Er(Vi,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Er(Vi,"invalid-log-argument","First argument to `onLog` must be null or a function."),Er(Vi,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),Er(Vi,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),Er(Vi,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),Er(Vi,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Vi),oa=new ei("app","Firebase",aa),sa=function(){function e(t,n,r){var i=this;Sr(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new di("app",(function(){return i}),"PUBLIC"))}return Ar(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw oa.create("app-deleted",{appName:this._name})}}]),e}(),ua="9.8.3";function ca(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Yi,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw oa.create("bad-app-name",{appName:String(i)});var a=Xi.get(i);if(a){if(ii(e,a.options)&&ii(r,a.config))return a;throw oa.create("duplicate-app",{appName:i})}var o,s=new gi(i),u=Cr(Zi.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new sa(e,r,s);return Xi.set(i,l),l}function la(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yi,t=Xi.get(e);if(!t)throw oa.create("no-app",{appName:e});return t}function fa(){return Array.from(Xi.values())}function ha(e){return da.apply(this,arguments)}function da(){return da=Ir(br().mark((function e(t){var n;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Xi.has(n)){e.next=6;break}return Xi.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),da.apply(this,arguments)}function pa(e,t,n){var r,i=null!==(r=Ji[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Qi.warn(s.join(" "))}ta(new di("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function va(e,t){if(null!==e&&"function"!==typeof e)throw oa.create("invalid-log-argument");!function(e,t){var n,r=Cr(ki);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=bi[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:yi[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function ma(e){var t;t=e,ki.forEach((function(e){e.setLogLevel(t)}))}var ya="firebase-heartbeat-store",ga=null;function ka(){return ga||(ga=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=ji(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(ji(s.result),e.oldVersion,e.newVersion,ji(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(ya)}}).catch((function(e){throw oa.create("storage-open",{originalErrorMessage:e.message})}))),ga}function ba(e){return wa.apply(this,arguments)}function wa(){return wa=Ir(br().mark((function e(t){var n,r;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ka();case 3:return r=e.sent,e.abrupt("return",r.transaction(ya).objectStore(ya).get(Ia(t)));case 7:throw e.prev=7,e.t0=e.catch(0),oa.create("storage-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),wa.apply(this,arguments)}function xa(e,t){return _a.apply(this,arguments)}function _a(){return _a=Ir(br().mark((function e(t,n){var r,i,a,o;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ka();case 3:return i=e.sent,a=i.transaction(ya,"readwrite"),o=a.objectStore(ya),e.next=8,o.put(n,Ia(t));case 8:return e.abrupt("return",a.done);case 11:throw e.prev=11,e.t0=e.catch(0),oa.create("storage-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),_a.apply(this,arguments)}function Ia(e){return"".concat(e.name,"!").concat(e.options.appId)}var Ea=function(){function e(t){var n=this;Sr(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Na(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Ar(e,[{key:"triggerHeartbeat",value:function(){var e=Ir(br().mark((function e(){var t,n,r;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Sa(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Ir(br().mark((function e(){var t,n,r,i,a;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Sa(),n=Ta(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Br(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Sa(){return(new Date).toISOString().substring(0,10)}function Ta(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Cr(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Ra(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Ra(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Aa,Ca,Na=function(){function e(t){Sr(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Ar(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Ir(br().mark((function e(){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Zr()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Ir(br().mark((function e(){var t;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,ba(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Ir(br().mark((function e(t){var n,r;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",xa(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Ir(br().mark((function e(t){var n,r;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",xa(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(xr(r.heartbeats),xr(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ra(e){return Br(JSON.stringify({version:2,heartbeats:e})).length}Aa="",ta(new di("platform-logger",(function(e){return new Ki(e)}),"PRIVATE")),ta(new di("heartbeat",(function(e){return new Ea(e)}),"PRIVATE")),pa(Hi,Gi,Aa),pa(Hi,Gi,"esm2017"),pa("fire-js","");var Oa=function(){function e(t,n){var r=this;Sr(this,e),this._delegate=t,this.firebase=n,$i(t,new di("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Ar(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),ha(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yi;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yi;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){$i(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){ea(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Da=(Er(Ca={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Er(Ca,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ca),Pa=new ei("app-compat","Firebase",Da);var La=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=ca(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(ri(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:pa,setLogLevel:ma,onLog:va,apps:null,SDK_VERSION:ua,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(ta(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Pa.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&qr(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!ri(n,e=e||Yi))throw Pa.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Oa);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){qr(n,e)},createSubscribe:ci,ErrorFactory:ei,deepExtend:qr}),n}(),Ma=new Ii("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Ma.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ja=self.firebase.SDK_VERSION;ja&&ja.indexOf("LITE")>=0&&Ma.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Fa=La;!function(e){pa("@firebase/app-compat","0.1.27",e)}();function Ua(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Dr(e)););return e}function Va(){return Va="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Ua(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Va.apply(this,arguments)}Fa.registerVersion("firebase","9.8.3","app-compat");var Ba,za="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},qa={},Wa=Wa||{},Ka=za||self;function Ha(){}function Ga(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Qa(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ya="closure_uid_"+(1e9*Math.random()>>>0),Ja=0;function Xa(e,t,n){return e.call.apply(e.bind,arguments)}function Za(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function $a(e,t,n){return($a=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Xa:Za).apply(null,arguments)}function eo(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function to(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function no(){this.s=this.s,this.o=this.o}var ro={};no.prototype.s=!1,no.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Ya)&&e[Ya]||(e[Ya]=++Ja)}(this);delete ro[e]}},no.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var io=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},ao=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function oo(e){return Array.prototype.concat.apply([],arguments)}function so(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function uo(e){return/^[\s\xa0]*$/.test(e)}var co,lo=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function fo(e,t){return-1!=e.indexOf(t)}function ho(e,t){return e<t?-1:e>t?1:0}e:{var po=Ka.navigator;if(po){var vo=po.userAgent;if(vo){co=vo;break e}}co=""}function mo(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function yo(e){var t={};for(var n in e)t[n]=e[n];return t}var go="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ko(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<go.length;a++)n=go[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function bo(e){return bo[" "](e),e}bo[" "]=Ha;var wo,xo=fo(co,"Opera"),_o=fo(co,"Trident")||fo(co,"MSIE"),Io=fo(co,"Edge"),Eo=Io||_o,So=fo(co,"Gecko")&&!(fo(co.toLowerCase(),"webkit")&&!fo(co,"Edge"))&&!(fo(co,"Trident")||fo(co,"MSIE"))&&!fo(co,"Edge"),To=fo(co.toLowerCase(),"webkit")&&!fo(co,"Edge");function Ao(){var e=Ka.document;return e?e.documentMode:void 0}e:{var Co="",No=function(){var e=co;return So?/rv:([^\);]+)(\)|;)/.exec(e):Io?/Edge\/([\d\.]+)/.exec(e):_o?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):To?/WebKit\/(\S+)/.exec(e):xo?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(No&&(Co=No?No[1]:""),_o){var Ro=Ao();if(null!=Ro&&Ro>parseFloat(Co)){wo=String(Ro);break e}}wo=Co}var Oo,Do={};function Po(){return function(e){var t=Do;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=lo(String(wo)).split("."),n=lo("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=ho(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||ho(0==a[2].length,0==o[2].length)||ho(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Ka.document&&_o){var Lo=Ao();Oo=Lo||(parseInt(wo,10)||void 0)}else Oo=void 0;var Mo=Oo,jo=function(){if(!Ka.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ka.addEventListener("test",Ha,t),Ka.removeEventListener("test",Ha,t)}catch(n){}return e}();function Fo(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Uo(e,t){if(Fo.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(So){e:{try{bo(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Vo[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Uo.Z.h.call(this)}}Fo.prototype.h=function(){this.defaultPrevented=!0},to(Uo,Fo);var Vo={2:"touch",3:"pen",4:"mouse"};Uo.prototype.h=function(){Uo.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Bo="closure_listenable_"+(1e6*Math.random()|0),zo=0;function qo(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++zo,this.ca=this.fa=!1}function Wo(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Ko(e){this.src=e,this.g={},this.h=0}function Ho(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=io(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Wo(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Go(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Ko.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Go(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new qo(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Qo="closure_lm_"+(1e6*Math.random()|0),Yo={};function Jo(e,t,n,r,i){if(r&&r.once)return Zo(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Jo(e,t[a],n,r,i);return null}return n=as(n),e&&e[Bo]?e.N(t,n,Qa(r)?!!r.capture:!!r,i):Xo(e,t,n,!1,r,i)}function Xo(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Qa(i)?!!i.capture:!!i,s=rs(e);if(s||(e[Qo]=s=new Ko(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=ns;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)jo||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ts(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Zo(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Zo(e,t[a],n,r,i);return null}return n=as(n),e&&e[Bo]?e.O(t,n,Qa(r)?!!r.capture:!!r,i):Xo(e,t,n,!0,r,i)}function $o(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)$o(e,t[a],n,r,i);else r=Qa(r)?!!r.capture:!!r,n=as(n),e&&e[Bo]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Go(a=e.g[t],n,r,i))&&(Wo(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=rs(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Go(t,n,r,i)),(n=-1<e?t[e]:null)&&es(n))}function es(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Bo])Ho(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ts(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=rs(t))?(Ho(n,e),0==n.h&&(n.src=null,t[Qo]=null)):Wo(e)}}}function ts(e){return e in Yo?Yo[e]:Yo[e]="on"+e}function ns(e,t){if(e.ca)e=!0;else{t=new Uo(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&es(e),e=n.call(r,t)}return e}function rs(e){return(e=e[Qo])instanceof Ko?e:null}var is="__closure_events_fn_"+(1e9*Math.random()>>>0);function as(e){return"function"===typeof e?e:(e[is]||(e[is]=function(t){return e.handleEvent(t)}),e[is])}function os(){no.call(this),this.i=new Ko(this),this.P=this,this.I=null}function ss(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Fo(t,e);else if(t instanceof Fo)t.target=t.target||e;else{var i=t;ko(t=new Fo(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=us(o,r,!0,t)&&i}if(i=us(o=t.g=e,r,!0,t)&&i,i=us(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=us(o=t.g=n[a],r,!1,t)&&i}function us(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&Ho(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}to(os,no),os.prototype[Bo]=!0,os.prototype.removeEventListener=function(e,t,n,r){$o(this,e,t,n,r)},os.prototype.M=function(){if(os.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Wo(n[r]);delete t.g[e],t.h--}}this.I=null},os.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},os.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var cs=Ka.JSON.stringify;function ls(){var e=gs,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var fs,hs=function(){function e(){Sr(this,e),this.h=this.g=null}return Ar(e,[{key:"add",value:function(e,t){var n=ds.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),ds=new(function(){function e(t,n){Sr(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Ar(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new ps}),(function(e){return e.reset()})),ps=function(){function e(){Sr(this,e),this.next=this.g=this.h=null}return Ar(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function vs(e){Ka.setTimeout((function(){throw e}),0)}function ms(e,t){fs||function(){var e=Ka.Promise.resolve(void 0);fs=function(){e.then(ks)}}(),ys||(fs(),ys=!0),gs.add(e,t)}var ys=!1,gs=new hs;function ks(){for(var e;e=ls();){try{e.h.call(e.g)}catch(n){vs(n)}var t=ds;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ys=!1}function bs(e,t){os.call(this),this.h=e||1,this.g=t||Ka,this.j=$a(this.kb,this),this.l=Date.now()}function ws(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function xs(e,t,n){if("function"===typeof e)n&&(e=$a(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=$a(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ka.setTimeout(e,t||0)}function _s(e){e.g=xs((function(){e.g=null,e.i&&(e.i=!1,_s(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}to(bs,os),(Ba=bs.prototype).da=!1,Ba.S=null,Ba.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ss(this,"tick"),this.da&&(ws(this),this.start()))}},Ba.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ba.M=function(){bs.Z.M.call(this),ws(this),delete this.g};var Is=function(e){Or(n,e);var t=Mr(n);function n(e,r){var i;return Sr(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Ar(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:_s(this)}},{key:"M",value:function(){Va(Dr(n.prototype),"M",this).call(this),this.g&&(Ka.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(no);function Es(e){no.call(this),this.h=e,this.g={}}to(Es,no);var Ss=[];function Ts(e,t,n,r){Array.isArray(n)||(n&&(Ss[0]=n.toString()),n=Ss);for(var i=0;i<n.length;i++){var a=Jo(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function As(e){mo(e.g,(function(e,t){this.g.hasOwnProperty(t)&&es(e)}),e),e.g={}}function Cs(){this.g=!0}function Ns(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return cs(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Es.prototype.M=function(){Es.Z.M.call(this),As(this)},Es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Cs.prototype.Aa=function(){this.g=!1},Cs.prototype.info=function(){};var Rs={},Os=null;function Ds(){return Os=Os||new os}function Ps(e){Fo.call(this,Rs.Ma,e)}function Ls(e){var t=Ds();ss(t,new Ps(t,e))}function Ms(e,t){Fo.call(this,Rs.STAT_EVENT,e),this.stat=t}function js(e){var t=Ds();ss(t,new Ms(t,e))}function Fs(e,t){Fo.call(this,Rs.Na,e),this.size=t}function Us(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Ka.setTimeout((function(){e()}),t)}Rs.Ma="serverreachability",to(Ps,Fo),Rs.STAT_EVENT="statevent",to(Ms,Fo),Rs.Na="timingevent",to(Fs,Fo);var Vs={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Bs={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function zs(){}function qs(e){return e.h||(e.h=e.i())}function Ws(){}zs.prototype.h=null;var Ks,Hs={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Gs(){Fo.call(this,"d")}function Qs(){Fo.call(this,"c")}function Ys(){}function Js(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Es(this),this.P=Zs,e=Eo?125:void 0,this.W=new bs(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Xs}function Xs(){this.i=null,this.g="",this.h=!1}to(Gs,Fo),to(Qs,Fo),to(Ys,zs),Ys.prototype.g=function(){return new XMLHttpRequest},Ys.prototype.i=function(){return{}},Ks=new Ys;var Zs=45e3,$s={},eu={};function tu(e,t,n){e.K=1,e.v=Iu(gu(t)),e.s=n,e.U=!0,nu(e,null)}function nu(e,t){e.F=Date.now(),ou(e),e.A=gu(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),ju(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Xs,e.g=Uc(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Is($a(e.Ia,e,e.g),e.O)),Ts(e.V,e.g,"readystatechange",e.gb),t=e.H?yo(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ls(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function ru(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function iu(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=au(e,n))==eu){4==t&&(e.o=4,js(14),i=!1),Ns(e.j,e.m,null,"[Incomplete Response]");break}if(r==$s){e.o=4,js(15),Ns(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ns(e.j,e.m,r,null),fu(e,r)}ru(e)&&r!=eu&&r!=$s&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,js(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Rc(t),t.L=!0,js(11))):(Ns(e.j,e.m,n,"[Invalid Chunked Response]"),lu(e),cu(e))}function au(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?eu:(n=Number(t.substring(n,r)),isNaN(n)?$s:(r+=1)+n>t.length?eu:(t=t.substr(r,n),e.C=r+n,t))}function ou(e){e.Y=Date.now()+e.P,su(e,e.P)}function su(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Us($a(e.eb,e),t)}function uu(e){e.B&&(Ka.clearTimeout(e.B),e.B=null)}function cu(e){0==e.l.G||e.I||Pc(e.l,e)}function lu(e){uu(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,ws(e.W),As(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function fu(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Ku(n.i,e)))if(n.I=e.N,!e.J&&Ku(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Dc(n),xc(n)}Nc(n),js(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Us($a(n.ab,n),6e3));if(1>=Wu(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Mc(n,11)}else if((e.J||n.g==e)&&Dc(n),!uo(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(fo(l,"spdy")||fo(l,"quic")||fo(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Hu(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,_u(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Fc(r,r.H?r.la:null,r.W),d.J){Gu(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(uu(p),ou(p)),r.g=d}else Cc(r);0<n.l.length&&Ec(n)}else"stop"!=a[0]&&"close"!=a[0]||Mc(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Mc(n,7):wc(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Ls(4)}catch(a){}}function hu(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ga(e)||"string"===typeof e)ao(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Ga(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Ga(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function du(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof du)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function pu(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];vu(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)vu(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function vu(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Ba=Js.prototype).setTimeout=function(e){this.P=e},Ba.gb=function(e){e=e.target;var t=this.L;t&&3==mc(e)?t.l():this.Ia(e)},Ba.Ia=function(e){try{if(e==this.g)e:{var t=mc(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Eo||this.g&&(this.h.h||this.g.ga()||yc(this.g)))){this.I||4!=t||7==n||Ls(8==n||0>=r?3:2),uu(this);var i=this.g.ba();this.N=i;t:if(ru(this)){var a=yc(this.g);e="";var o=a.length,s=4==mc(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){lu(this),cu(this);var u="";break t}this.h.i=new Ka.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!uo(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,js(12),lu(this),cu(this);break e}Ns(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,fu(this,i)}this.U?(iu(this,t,u),Eo&&this.i&&3==t&&(Ts(this.V,this.W,"tick",this.fb),this.W.start())):(Ns(this.j,this.m,u,null),fu(this,u)),4==t&&lu(this),this.i&&!this.I&&(4==t?Pc(this.l,this):(this.i=!1,ou(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,js(12)):(this.o=0,js(13)),lu(this),cu(this)}}}catch(t){}},Ba.fb=function(){if(this.g){var e=mc(this.g),t=this.g.ga();this.C<t.length&&(uu(this),iu(this,e,t),this.i&&4!=e&&ou(this))}},Ba.cancel=function(){this.I=!0,lu(this)},Ba.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Ls(3),js(17)),lu(this),this.o=2,cu(this)):su(this,this.Y-e)},(Ba=du.prototype).R=function(){pu(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Ba.T=function(){return pu(this),this.g.concat()},Ba.get=function(e,t){return vu(this.h,e)?this.h[e]:t},Ba.set=function(e,t){vu(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Ba.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var mu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function yu(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof yu){this.g=void 0!==t?t:e.g,ku(this,e.j),this.s=e.s,bu(this,e.i),wu(this,e.m),this.l=e.l,t=e.h;var n=new Du;n.i=t.i,t.g&&(n.g=new du(t.g),n.h=t.h),xu(this,n),this.o=e.o}else e&&(n=String(e).match(mu))?(this.g=!!t,ku(this,n[1]||"",!0),this.s=Eu(n[2]||""),bu(this,n[3]||"",!0),wu(this,n[4]),this.l=Eu(n[5]||"",!0),xu(this,n[6]||"",!0),this.o=Eu(n[7]||"")):(this.g=!!t,this.h=new Du(null,this.g))}function gu(e){return new yu(e)}function ku(e,t,n){e.j=n?Eu(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function bu(e,t,n){e.i=n?Eu(t,!0):t}function wu(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function xu(e,t,n){t instanceof Du?(e.h=t,function(e,t){t&&!e.j&&(Pu(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Lu(this,t),ju(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Su(t,Ru)),e.h=new Du(t,e.g))}function _u(e,t,n){e.h.set(t,n)}function Iu(e){return _u(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Eu(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Su(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Tu),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Tu(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}yu.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Su(t,Au,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Su(t,Au,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Su(n,"/"==n.charAt(0)?Nu:Cu,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Su(n,Ou)),e.join("")};var Au=/[#\/\?@]/g,Cu=/[#\?:]/g,Nu=/[#\?]/g,Ru=/[#\?@]/g,Ou=/#/g;function Du(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Pu(e){e.g||(e.g=new du,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Lu(e,t){Pu(e),t=Fu(e,t),vu(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,vu((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&pu(e)))}function Mu(e,t){return Pu(e),t=Fu(e,t),vu(e.g.h,t)}function ju(e,t,n){Lu(e,t),0<n.length&&(e.i=null,e.g.set(Fu(e,t),so(n)),e.h+=n.length)}function Fu(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ba=Du.prototype).add=function(e,t){Pu(this),this.i=null,e=Fu(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ba.forEach=function(e,t){Pu(this),this.g.forEach((function(n,r){ao(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Ba.T=function(){Pu(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Ba.R=function(e){Pu(this);var t=[];if("string"===typeof e)Mu(this,e)&&(t=oo(t,this.g.get(Fu(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=oo(t,e[n])}return t},Ba.set=function(e,t){return Pu(this),this.i=null,Mu(this,e=Fu(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ba.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Ba.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Uu=Ar((function e(t,n){Sr(this,e),this.h=t,this.g=n}));function Vu(e){this.l=e||zu,Ka.PerformanceNavigationTiming?e=0<(e=Ka.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Ka.g&&Ka.g.Ea&&Ka.g.Ea()&&Ka.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Bu,zu=10;function qu(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Wu(e){return e.h?1:e.g?e.g.size:0}function Ku(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Hu(e,t){e.g?e.g.add(t):e.h=t}function Gu(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Qu(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Cr(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return so(e.i)}function Yu(){}function Ju(){this.g=new Yu}function Xu(e,t,n){var r=n||"";try{hu(e,(function(e,n){var i=e;Qa(e)&&(i=cs(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(aR){throw t.push(r+"type="+encodeURIComponent("_badmap")),aR}}function Zu(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function $u(e){this.l=e.$b||null,this.j=e.ib||!1}function ec(e,t){os.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=tc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vu.prototype.cancel=function(){if(this.i=Qu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Cr(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Yu.prototype.stringify=function(e){return Ka.JSON.stringify(e,void 0)},Yu.prototype.parse=function(e){return Ka.JSON.parse(e,void 0)},to($u,zs),$u.prototype.g=function(){return new ec(this.l,this.j)},$u.prototype.i=(Bu={},function(){return Bu}),to(ec,os);var tc=0;function nc(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function rc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ic(e)}function ic(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ba=ec.prototype).open=function(e,t){if(this.readyState!=tc)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ic(this)},Ba.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Ka).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Ba.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,rc(this)),this.readyState=tc},Ba.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ic(this)),this.g&&(this.readyState=3,ic(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Ka.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;nc(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Ba.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?rc(this):ic(this),3==this.readyState&&nc(this)}},Ba.Ua=function(e){this.g&&(this.response=this.responseText=e,rc(this))},Ba.Ta=function(e){this.g&&(this.response=e,rc(this))},Ba.ha=function(){this.g&&rc(this)},Ba.setRequestHeader=function(e,t){this.v.append(e,t)},Ba.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ba.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ec.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ac=Ka.JSON.parse;function oc(e){os.call(this),this.headers=new du,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=sc,this.K=this.L=!1}to(oc,os);var sc="",uc=/^https?$/i,cc=["POST","PUT"];function lc(e){return"content-type"==e.toLowerCase()}function fc(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,hc(e),pc(e)}function hc(e){e.D||(e.D=!0,ss(e,"complete"),ss(e,"error"))}function dc(e){if(e.h&&"undefined"!=typeof Wa&&(!e.C[1]||4!=mc(e)||2!=e.ba()))if(e.v&&4==mc(e))xs(e.Fa,0,e);else if(ss(e,"readystatechange"),4==mc(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(mu)[1]||null;if(!a&&Ka.self&&Ka.self.location){var o=Ka.self.location.protocol;a=o.substr(0,o.length-1)}i=!uc.test(a?a.toLowerCase():"")}t=i}if(t)ss(e,"complete"),ss(e,"success");else{e.m=6;try{var s=2<mc(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",hc(e)}}finally{pc(e)}}}function pc(e,t){if(e.g){vc(e);var n=e.g,r=e.C[0]?Ha:null;e.g=null,e.C=null,t||ss(e,"ready");try{n.onreadystatechange=r}catch(aR){}}}function vc(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Ka.clearTimeout(e.A),e.A=null)}function mc(e){return e.g?e.g.readyState:0}function yc(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case sc:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function gc(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return mo(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):_u(e,t,n))}function kc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function bc(e){this.za=0,this.l=[],this.h=new Cs,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=kc("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=kc("baseRetryDelayMs",5e3,e),this.$a=kc("retryDelaySeedMs",1e4,e),this.Ya=kc("forwardChannelMaxRetries",2,e),this.ra=kc("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Vu(e&&e.concurrentRequestLimit),this.Ca=new Ju,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function wc(e){if(_c(e),3==e.G){var t=e.V++,n=gu(e.F);_u(n,"SID",e.J),_u(n,"RID",t),_u(n,"TYPE","terminate"),Tc(e,n),(t=new Js(e,e.h,t,void 0)).K=2,t.v=Iu(gu(n)),n=!1,Ka.navigator&&Ka.navigator.sendBeacon&&(n=Ka.navigator.sendBeacon(t.v.toString(),"")),!n&&Ka.Image&&((new Image).src=t.v,n=!0),n||(t.g=Uc(t.l,null),t.g.ea(t.v)),t.F=Date.now(),ou(t)}jc(e)}function xc(e){e.g&&(Rc(e),e.g.cancel(),e.g=null)}function _c(e){xc(e),e.u&&(Ka.clearTimeout(e.u),e.u=null),Dc(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Ka.clearTimeout(e.m),e.m=null)}function Ic(e,t){e.l.push(new Uu(e.Za++,t)),3==e.G&&Ec(e)}function Ec(e){qu(e.i)||e.m||(e.m=!0,ms(e.Ha,e),e.C=0)}function Sc(e,t){var n;n=t?t.m:e.V++;var r=gu(e.F);_u(r,"SID",e.J),_u(r,"RID",n),_u(r,"AID",e.U),Tc(e,r),e.o&&e.s&&gc(r,e.o,e.s),n=new Js(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Ac(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Hu(e.i,n),tu(n,r,t)}function Tc(e,t){e.j&&hu({},(function(e,n){_u(t,n,e)}))}function Ac(e,t,n){n=Math.min(e.l.length,n);var r=e.j?$a(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Xu(l,o,"req"+c+"_")}catch(dl){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Cc(e){e.g||e.u||(e.Y=1,ms(e.Ga,e),e.A=0)}function Nc(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Us($a(e.Ga,e),Lc(e,e.A)),e.A++,!0)}function Rc(e){null!=e.B&&(Ka.clearTimeout(e.B),e.B=null)}function Oc(e){e.g=new Js(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=gu(e.oa);_u(t,"RID","rpc"),_u(t,"SID",e.J),_u(t,"CI",e.N?"0":"1"),_u(t,"AID",e.U),Tc(e,t),_u(t,"TYPE","xmlhttp"),e.o&&e.s&&gc(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Iu(gu(t)),n.s=null,n.U=!0,nu(n,e)}function Dc(e){null!=e.v&&(Ka.clearTimeout(e.v),e.v=null)}function Pc(e,t){var n=null;if(e.g==t){Dc(e),Rc(e),e.g=null;var r=2}else{if(!Ku(e.i,t))return;n=t.D,Gu(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;ss(r=Ds(),new Fs(r,n,t,i)),Ec(e)}else Cc(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Wu(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Us($a(e.Ha,e,t),Lc(e,e.C)),e.C++,!0))}(e,t)||2==r&&Nc(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Mc(e,5);break;case 4:Mc(e,10);break;case 3:Mc(e,6);break;default:Mc(e,2)}}function Lc(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Mc(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=$a(e.jb,e);n||(n=new yu("//www.google.com/images/cleardot.gif"),Ka.location&&"http"==Ka.location.protocol||ku(n,"https"),Iu(n)),function(e,t){var n=new Cs;if(Ka.Image){var r=new Image;r.onload=eo(Zu,n,r,"TestLoadImage: loaded",!0,t),r.onerror=eo(Zu,n,r,"TestLoadImage: error",!1,t),r.onabort=eo(Zu,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=eo(Zu,n,r,"TestLoadImage: timeout",!1,t),Ka.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else js(2);e.G=0,e.j&&e.j.va(t),jc(e),_c(e)}function jc(e){e.G=0,e.I=-1,e.j&&(0==Qu(e.i).length&&0==e.l.length||(e.i.i.length=0,so(e.l),e.l.length=0),e.j.ua())}function Fc(e,t,n){var r=function(e){return e instanceof yu?gu(e):new yu(e,void 0)}(n);if(""!=r.i)t&&bu(r,t+"."+r.i),wu(r,r.m);else{var i=Ka.location;r=function(e,t,n,r){var i=new yu(null,void 0);return e&&ku(i,e),t&&bu(i,t),n&&wu(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&mo(e.aa,(function(e,t){_u(r,t,e)})),t=e.D,n=e.sa,t&&n&&_u(r,t,n),_u(r,"VER",e.ma),Tc(e,r),r}function Uc(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new oc(new $u({ib:!0})):new oc(e.qa)).L=e.H,t}function Vc(){}function Bc(){if(_o&&!(10<=Number(Mo)))throw Error("Environmental error: no available transport.")}function zc(e,t){os.call(this),this.g=new bc(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!uo(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!uo(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Kc(this)}function qc(e){Gs.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Wc(){Qs.call(this),this.status=1}function Kc(e){this.g=e}(Ba=oc.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ks.g(),this.C=this.u?qs(this.u):qs(Ks),this.g.onreadystatechange=$a(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void fc(this,a)}e=n||"";var i=new du(this.headers);r&&hu(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=lc,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Ka.FormData&&e instanceof Ka.FormData,!(0<=io(cc,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{vc(this),0<this.B&&((this.K=function(e){return _o&&Po()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=$a(this.pa,this)):this.A=xs(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){fc(this,a)}},Ba.pa=function(){"undefined"!=typeof Wa&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ss(this,"timeout"),this.abort(8))},Ba.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ss(this,"complete"),ss(this,"abort"),pc(this))},Ba.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pc(this,!0)),oc.Z.M.call(this)},Ba.Fa=function(){this.s||(this.F||this.v||this.l?dc(this):this.cb())},Ba.cb=function(){dc(this)},Ba.ba=function(){try{return 2<mc(this)?this.g.status:-1}catch(Bu){return-1}},Ba.ga=function(){try{return this.g?this.g.responseText:""}catch(Bu){return""}},Ba.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ac(t)}},Ba.Da=function(){return this.m},Ba.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ba=bc.prototype).ma=8,Ba.G=1,Ba.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Ba.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Js(this,this.h,e,void 0),n=this.s;if(this.P&&(n?ko(n=yo(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Ac(this,t,r),_u(i=gu(this.F),"RID",e),_u(i,"CVER",22),this.D&&_u(i,"X-HTTP-Session-Id",this.D),Tc(this,i),this.o&&n&&gc(i,this.o,n),Hu(this.i,t),this.Ra&&_u(i,"TYPE","init"),this.ja?(_u(i,"$req",r),_u(i,"SID","null"),t.$=!0,tu(t,i,null)):tu(t,i,r),this.G=2}}else 3==this.G&&(e?Sc(this,e):0==this.l.length||qu(this.i)||Sc(this))},Ba.Ga=function(){if(this.u=null,Oc(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Us($a(this.bb,this),e)}},Ba.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,js(10),xc(this),Oc(this))},Ba.ab=function(){null!=this.v&&(this.v=null,xc(this),Nc(this),js(19))},Ba.jb=function(e){e?(this.h.info("Successfully pinged google.com"),js(2)):(this.h.info("Failed to ping google.com"),js(1))},(Ba=Vc.prototype).xa=function(){},Ba.wa=function(){},Ba.va=function(){},Ba.ua=function(){},Ba.Oa=function(){},Bc.prototype.g=function(e,t){return new zc(e,t)},to(zc,os),zc.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),ms($a(e.hb,e,t))),js(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Fc(e,null,e.W),Ec(e)},zc.prototype.close=function(){wc(this.g)},zc.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Ic(this.g,t)}else this.v?((t={}).__data__=cs(e),Ic(this.g,t)):Ic(this.g,e)},zc.prototype.M=function(){this.g.j=null,delete this.j,wc(this.g),delete this.g,zc.Z.M.call(this)},to(qc,Gs),to(Wc,Qs),to(Kc,Vc),Kc.prototype.xa=function(){ss(this.g,"a")},Kc.prototype.wa=function(e){ss(this.g,new qc(e))},Kc.prototype.va=function(e){ss(this.g,new Wc(e))},Kc.prototype.ua=function(){ss(this.g,"b")},Bc.prototype.createWebChannel=Bc.prototype.g,zc.prototype.send=zc.prototype.u,zc.prototype.open=zc.prototype.m,zc.prototype.close=zc.prototype.close,Vs.NO_ERROR=0,Vs.TIMEOUT=8,Vs.HTTP_ERROR=6,Bs.COMPLETE="complete",Ws.EventType=Hs,Hs.OPEN="a",Hs.CLOSE="b",Hs.ERROR="c",Hs.MESSAGE="d",os.prototype.listen=os.prototype.N,oc.prototype.listenOnce=oc.prototype.O,oc.prototype.getLastError=oc.prototype.La,oc.prototype.getLastErrorCode=oc.prototype.Da,oc.prototype.getStatus=oc.prototype.ba,oc.prototype.getResponseJson=oc.prototype.Qa,oc.prototype.getResponseText=oc.prototype.ga,oc.prototype.send=oc.prototype.ea;var Hc=qa.createWebChannelTransport=function(){return new Bc},Gc=qa.getStatEventTarget=function(){return Ds()},Qc=qa.ErrorCode=Vs,Yc=qa.EventType=Bs,Jc=qa.Event=Rs,Xc=qa.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Zc=qa.FetchXmlHttpFactory=$u,$c=qa.WebChannel=Ws,el=qa.XhrIo=oc,tl="@firebase/firestore",nl=function(){function e(t){Sr(this,e),this.uid=t}return Ar(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();nl.UNAUTHENTICATED=new nl(null),nl.GOOGLE_CREDENTIALS=new nl("google-credentials-uid"),nl.FIRST_PARTY=new nl("first-party-uid"),nl.MOCK_USER=new nl("mock-user");var rl="9.8.3",il=new Ii("@firebase/firestore");function al(){return il.logLevel}function ol(e){if(il.logLevel<=yi.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(cl);il.debug.apply(il,["Firestore (".concat(rl,"): ").concat(e)].concat(xr(i)))}}function sl(e){if(il.logLevel<=yi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(cl);il.error.apply(il,["Firestore (".concat(rl,"): ").concat(e)].concat(xr(i)))}}function ul(e){if(il.logLevel<=yi.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(cl);il.warn.apply(il,["Firestore (".concat(rl,"): ").concat(e)].concat(xr(i)))}}function cl(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function ll(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(rl,") INTERNAL ASSERTION FAILED: ")+e;throw sl(t),new Error(t)}function fl(e,t){e||ll()}function hl(e,t){return e}var dl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},pl=function(e){Or(n,e);var t=Mr(n);function n(e,r){var i;return Sr(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Ar(n)}($r),vl=Ar((function e(){var t=this;Sr(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),ml=Ar((function e(t,n){Sr(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),yl=function(){function e(){Sr(this,e)}return Ar(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(nl.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),gl=function(){function e(t){Sr(this,e),this.token=t,this.changeListener=null}return Ar(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),kl=function(){function e(t){Sr(this,e),this.t=t,this.currentUser=nl.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Ar(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new vl;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new vl,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Ir(br().mark((function e(){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){ol("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(ol("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new vl)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(ol("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(fl("string"==typeof n.accessToken),new ml(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return fl(null===e||"string"==typeof e),new nl(e)}}]),e}(),bl=Ar((function e(t,n,r){Sr(this,e),this.type="FirstParty",this.user=nl.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),wl=function(){function e(t,n,r){Sr(this,e),this.h=t,this.l=n,this.m=r}return Ar(e,[{key:"getToken",value:function(){return Promise.resolve(new bl(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(nl.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),xl=Ar((function e(t){Sr(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),_l=function(){function e(t){Sr(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return Ar(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&ol("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,ol("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){ol("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):ol("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(fl("string"==typeof t.token),e.p=t.token,new xl(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Il(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var El=function(){function e(){Sr(this,e)}return Ar(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Il(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Sl(e,t){return e<t?-1:e>t?1:0}function Tl(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Al(e){return e+"\0"}var Cl=function(){function e(t,n){if(Sr(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new pl(dl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pl(dl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new pl(dl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pl(dl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Ar(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Sl(this.nanoseconds,e.nanoseconds):Sl(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Nl=function(){function e(t){Sr(this,e),this.timestamp=t}return Ar(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Cl(0,0))}},{key:"max",value:function(){return new e(new Cl(253402300799,999999999))}}]),e}(),Rl=function(){function e(t,n,r){Sr(this,e),void 0===n?n=0:n>t.length&&ll(),void 0===r?r=t.length-n:r>t.length-n&&ll(),this.segments=t,this.offset=n,this.len=r}return Ar(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Ol=function(e){Or(n,e);var t=Mr(n);function n(){return Sr(this,n),t.apply(this,arguments)}return Ar(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new pl(dl.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,xr(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Rl),Dl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Pl=function(e){Or(n,e);var t=Mr(n);function n(){return Sr(this,n),t.apply(this,arguments)}return Ar(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Dl.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new pl(dl.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new pl(dl.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new pl(dl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new pl(dl.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Rl),Ll=function(){function e(t){Sr(this,e),this.path=t}return Ar(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Ol.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Ol.fromString(t))}},{key:"fromName",value:function(t){return new e(Ol.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Ol.emptyPath())}},{key:"comparator",value:function(e,t){return Ol.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Ol(t.slice()))}}]),e}(),Ml=Ar((function e(t,n,r,i){Sr(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function jl(e){return e.fields.find((function(e){return 2===e.kind}))}function Fl(e){return e.fields.filter((function(e){return 2!==e.kind}))}Ml.UNKNOWN_ID=-1;var Ul=Ar((function e(t,n){Sr(this,e),this.fieldPath=t,this.kind=n})),Vl=function(){function e(t,n){Sr(this,e),this.sequenceNumber=t,this.offset=n}return Ar(e,null,[{key:"empty",value:function(){return new e(0,ql.min())}}]),e}();function Bl(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Nl.fromTimestamp(1e9===r?new Cl(n+1,0):new Cl(n,r));return new ql(i,Ll.empty(),t)}function zl(e){return new ql(e.readTime,e.key,-1)}var ql=function(){function e(t,n,r){Sr(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Ar(e,null,[{key:"min",value:function(){return new e(Nl.min(),Ll.empty(),-1)}},{key:"max",value:function(){return new e(Nl.max(),Ll.empty(),-1)}}]),e}();function Wl(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Ll.comparator(e.documentKey,t.documentKey))?n:Sl(e.largestBatchId,t.largestBatchId)}var Kl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Hl=function(){function e(){Sr(this,e),this.onCommittedListeners=[]}return Ar(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Gl(e){return Ql.apply(this,arguments)}function Ql(){return Ql=Ir(br().mark((function e(t){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===dl.FAILED_PRECONDITION&&t.message===Kl){e.next=2;break}throw t;case 2:ol("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Ql.apply(this,arguments)}var Yl=function(){function e(t){var n=this;Sr(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Ar(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&ll(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Cr(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(s){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s(u)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Jl=function(){function e(t,n){var r=this;Sr(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.T=new vl,this.transaction.oncomplete=function(){r.T.resolve()},this.transaction.onabort=function(){n.error?r.T.reject(new $l(t,n.error)):r.T.resolve()},this.transaction.onerror=function(e){var n=af(e.target.error);r.T.reject(new $l(t,n))}}return Ar(e,[{key:"A",get:function(){return this.T.promise}},{key:"abort",value:function(e){e&&this.T.reject(e),this.aborted||(ol("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"R",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new tf(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new $l(n,t)}}}]),e}(),Xl=function(){function e(t,n,r){Sr(this,e),this.name=t,this.version=n,this.P=r,12.2===e.v(Hr())&&sl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Ar(e,[{key:"k",value:function(){var e=Ir(br().mark((function e(t){var n=this;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return ol("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new $l(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new pl(dl.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new pl(dl.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new $l(t,n))},i.onupgradeneeded=function(e){ol("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.P.O(t,i.transaction,e.oldVersion,n.version).next((function(){ol("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.M&&(this.db.onversionchange=function(e){return n.M(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"F",value:function(e){this.M=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Ir(br().mark((function e(t,n,r,i){var a,o,s,u,c=this;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(br().mark((function e(){var n,o;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.k(t);case 2:return c.db=e.sent,n=Jl.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.R(),e})).catch((function(e){return n.abort(e),Yl.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.A;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u="FirebaseError"!==e.t1.name&&o<3,ol("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",u),this.close(),u){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return ol("SimpleDb","Removing database:",e),nf(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"V",value:function(){if(!Zr())return!1;if(e.S())return!0;var t=Hr(),n=e.v(t),r=0<n&&n<10,i=e.D(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"S",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/genshindb",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.C)}},{key:"N",value:function(e,t){return e.store(t)}},{key:"v",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"D",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Zl=function(){function e(t){Sr(this,e),this.$=t,this.B=!1,this.L=null}return Ar(e,[{key:"isDone",get:function(){return this.B}},{key:"U",get:function(){return this.L}},{key:"cursor",set:function(e){this.$=e}},{key:"done",value:function(){this.B=!0}},{key:"q",value:function(e){this.L=e}},{key:"delete",value:function(){return nf(this.$.delete())}}]),e}(),$l=function(e){Or(n,e);var t=Mr(n);function n(e,r){var i;return Sr(this,n),(i=t.call(this,dl.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Ar(n)}(pl);function ef(e){return"IndexedDbTransactionError"===e.name}var tf=function(){function e(t){Sr(this,e),this.store=t}return Ar(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(ol("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(ol("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),nf(n)}},{key:"add",value:function(e){return ol("SimpleDb","ADD",this.store.name,e,e),nf(this.store.add(e))}},{key:"get",value:function(e){var t=this;return nf(this.store.get(e)).next((function(n){return void 0===n&&(n=null),ol("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return ol("SimpleDb","DELETE",this.store.name,e),nf(this.store.delete(e))}},{key:"count",value:function(){return ol("SimpleDb","COUNT",this.store.name),nf(this.store.count())}},{key:"K",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.G(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Yl((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Yl((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"W",value:function(e,t){ol("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.H=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n.delete()}))}},{key:"J",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Y",value:function(e){var t=this.cursor({});return new Yl((function(n,r){t.onerror=function(e){var t=af(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new Yl((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Zl(i),o=t(i.primaryKey,i.value,a);if(o instanceof Yl){var s=o.catch((function(e){return a.done(),Yl.reject(e)}));n.push(s)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return Yl.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function nf(e){return new Yl((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=af(e.target.error);n(t)}}))}var rf=!1;function af(e){var t=Xl.v(Hr());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new pl("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return rf||(rf=!0,setTimeout((function(){throw r}),0)),r}}return e}var of=function(){function e(t,n){Sr(this,e),this.asyncQueue=t,this.X=n,this.task=null}return Ar(e,[{key:"start",value:function(){}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"Z",value:function(e){var t=this;ol("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Ir(br().mark((function e(){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=ol,e.t1="Documents written: ",e.next=6,t.X.tt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!ef(e.t4)){e.next=17;break}ol("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Gl(e.t4);case 19:return e.next=21,t.Z(1);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),sf=function(){function e(t,n){Sr(this,e),this.localStore=t,this.persistence=n}return Ar(e,[{key:"tt",value:function(){var e=Ir(br().mark((function e(){var t,n=this,r=arguments;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.et(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"et",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Yl.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return ol("IndexBackiller","Processing collection: ".concat(t)),n.nt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"nt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.st(i,n)})).next((function(n){return ol("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"st",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=zl(t);Wl(r,n)>0&&(n=r)})),new ql(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),uf=function(){function e(t,n){var r=this;Sr(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.it(e)},this.rt=function(e){return n.writeSequenceNumber(e)})}return Ar(e,[{key:"it",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.rt&&this.rt(e),e}}]),e}();function cf(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function lf(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ff(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}uf.ot=-1;var hf=function(){function e(t,n){Sr(this,e),this.comparator=t,this.root=n||pf.EMPTY}return Ar(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,pf.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,pf.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new df(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new df(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new df(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new df(this.root,e,this.comparator,!0)}}]),e}(),df=function(){function e(t,n,r,i){Sr(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Ar(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),pf=function(){function e(t,n,r,i,a){Sr(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Ar(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw ll();if(this.right.isRed())throw ll();var e=this.left.check();if(e!==this.right.check())throw ll();return e+(this.isRed()?0:1)}}]),e}();pf.EMPTY=null,pf.RED=!0,pf.BLACK=!1,pf.EMPTY=new(function(){function e(){Sr(this,e),this.size=0}return Ar(e,[{key:"key",get:function(){throw ll()}},{key:"value",get:function(){throw ll()}},{key:"color",get:function(){throw ll()}},{key:"left",get:function(){throw ll()}},{key:"right",get:function(){throw ll()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new pf(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var vf=function(){function e(t){Sr(this,e),this.comparator=t,this.data=new hf(this.comparator)}return Ar(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new mf(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new mf(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),mf=function(){function e(t){Sr(this,e),this.iter=t}return Ar(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function yf(e){return e.hasNext()?e.getNext():void 0}var gf=function(){function e(t){Sr(this,e),this.fields=t,t.sort(Pl.comparator)}return Ar(e,[{key:"unionWith",value:function(t){var n,r=new vf(Pl.comparator),i=Cr(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=Cr(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Cr(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Tl(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var kf=function(e){function t(e){Sr(this,t),this.binaryString=e}return Ar(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Sl(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();kf.EMPTY_BYTE_STRING=new kf("");var bf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wf(e){if(fl(!!e),"string"==typeof e){var t=0,n=bf.exec(e);if(fl(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:xf(e.seconds),nanos:xf(e.nanos)}}function xf(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function _f(e){return"string"==typeof e?kf.fromBase64String(e):kf.fromUint8Array(e)}function If(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ef(e){var t=e.mapValue.fields.__previous_value__;return If(t)?Ef(t):t}function Sf(e){var t=wf(e.mapValue.fields.__local_write_time__.timestampValue);return new Cl(t.seconds,t.nanos)}var Tf=Ar((function e(t,n,r,i,a,o,s,u){Sr(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),Af=function(){function e(t,n){Sr(this,e),this.projectId=t,this.database=n||"(default)"}return Ar(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Cf(e){return null==e}function Nf(e){return 0===e&&1/e==-1/0}function Rf(e){return"number"==typeof e&&Number.isInteger(e)&&!Nf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Of={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Df={nullValue:"NULL_VALUE"};function Pf(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?If(e)?4:Qf(e)?9007199254740991:10:ll()}function Lf(e,t){if(e===t)return!0;var n=Pf(e);if(n!==Pf(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Sf(e).isEqual(Sf(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=wf(e.timestampValue),r=wf(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return _f(e.bytesValue).isEqual(_f(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return xf(e.geoPointValue.latitude)===xf(t.geoPointValue.latitude)&&xf(e.geoPointValue.longitude)===xf(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return xf(e.integerValue)===xf(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=xf(e.doubleValue),r=xf(t.doubleValue);return n===r?Nf(n)===Nf(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Tl(e.arrayValue.values||[],t.arrayValue.values||[],Lf);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(cf(n)!==cf(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Lf(n[i],r[i])))return!1;return!0}(e,t);default:return ll()}}function Mf(e,t){return void 0!==(e.values||[]).find((function(e){return Lf(e,t)}))}function jf(e,t){if(e===t)return 0;var n=Pf(e),r=Pf(t);if(n!==r)return Sl(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Sl(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=xf(e.integerValue||e.doubleValue),r=xf(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ff(e.timestampValue,t.timestampValue);case 4:return Ff(Sf(e),Sf(t));case 5:return Sl(e.stringValue,t.stringValue);case 6:return function(e,t){var n=_f(e),r=_f(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Sl(n[i],r[i]);if(0!==a)return a}return Sl(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Sl(xf(e.latitude),xf(t.latitude));return 0!==n?n:Sl(xf(e.longitude),xf(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=jf(n[i],r[i]);if(a)return a}return Sl(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Of.mapValue&&t===Of.mapValue)return 0;if(e===Of.mapValue)return 1;if(t===Of.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Sl(r[o],a[o]);if(0!==s)return s;var u=jf(n[r[o]],i[a[o]]);if(0!==u)return u}return Sl(r.length,a.length)}(e.mapValue,t.mapValue);default:throw ll()}}function Ff(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Sl(e,t);var n=wf(e),r=wf(t),i=Sl(n.seconds,r.seconds);return 0!==i?i:Sl(n.nanos,r.nanos)}function Uf(e){return Vf(e)}function Vf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=wf(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?_f(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ll.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Cr(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Vf(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Cr(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Vf(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):ll();var t,n}function Bf(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function zf(e){return!!e&&"integerValue"in e}function qf(e){return!!e&&"arrayValue"in e}function Wf(e){return!!e&&"nullValue"in e}function Kf(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Hf(e){return!!e&&"mapValue"in e}function Gf(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return lf(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Gf(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Gf(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Qf(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Yf(e){return"nullValue"in e?Df:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Bf(Af.empty(),Ll.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:ll()}function Jf(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Bf(Af.empty(),Ll.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Of:ll()}function Xf(e,t){var n=jf(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Zf(e,t){var n=jf(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var $f=function(){function e(t){Sr(this,e),this.value=t}return Ar(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Hf(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gf(t)}},{key:"setAll",value:function(e){var t=this,n=Pl.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Gf(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Hf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Lf(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Hf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){lf(t,(function(t,n){return e[t]=n}));var r,i=Cr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Gf(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function eh(e){var t=[];return lf(e.fields,(function(e,n){var r=new Pl([e]);if(Hf(n)){var i=eh(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Cr(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new gf(t)}var th=function(){function e(t,n,r,i,a,o){Sr(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Ar(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=$f.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=$f.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Nl.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Nl.min(),Nl.min(),$f.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Nl.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Nl.min(),$f.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Nl.min(),$f.empty(),2)}}]),e}(),nh=Ar((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Sr(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ut=null}));function rh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new nh(e,t,n,r,i,a,o)}function ih(e){var t=hl(e);if(null===t.ut){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Uf(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Cf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Uf(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Uf(e)})).join(",")),t.ut=n}return t.ut}function ah(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!wh(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Lf(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!_h(e.startAt,t.startAt)&&_h(e.endAt,t.endAt)}function oh(e){return Ll.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function sh(e,t){return e.filters.filter((function(e){return e instanceof lh&&e.field.isEqual(t)}))}function uh(e,t,n){var r,i=Df,a=!0,o=Cr(sh(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=Df,c=!0;switch(s.op){case"<":case"<=":u=Yf(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=Df}Xf({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Xf({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function ch(e,t,n){var r,i=Of,a=!0,o=Cr(sh(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=Of,c=!0;switch(s.op){case">=":case">":u=Jf(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=Of}Zf({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Zf({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var lh=function(e){Or(n,e);var t=Mr(n);function n(e,r,i){var a;return Sr(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Ar(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(jf(t,this.value)):null!==t&&Pf(this.value)===Pf(t)&&this.at(jf(t,this.value))}},{key:"at",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ll()}}},{key:"ht",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new fh(e,t,r):"array-contains"===t?new vh(e,r):"in"===t?new mh(e,r):"not-in"===t?new yh(e,r):"array-contains-any"===t?new gh(e,r):new n(e,t,r)}},{key:"ct",value:function(e,t,n){return"in"===t?new hh(e,n):new dh(e,n)}}]),n}(function(){return Ar((function e(){Sr(this,e)}))}()),fh=function(e){Or(n,e);var t=Mr(n);function n(e,r,i){var a;return Sr(this,n),(a=t.call(this,e,r,i)).key=Ll.fromName(i.referenceValue),a}return Ar(n,[{key:"matches",value:function(e){var t=Ll.comparator(e.key,this.key);return this.at(t)}}]),n}(lh),hh=function(e){Or(n,e);var t=Mr(n);function n(e,r){var i;return Sr(this,n),(i=t.call(this,e,"in",r)).keys=ph("in",r),i}return Ar(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(lh),dh=function(e){Or(n,e);var t=Mr(n);function n(e,r){var i;return Sr(this,n),(i=t.call(this,e,"not-in",r)).keys=ph("not-in",r),i}return Ar(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(lh);function ph(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Ll.fromName(e.referenceValue)}))}var vh=function(e){Or(n,e);var t=Mr(n);function n(e,r){return Sr(this,n),t.call(this,e,"array-contains",r)}return Ar(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return qf(t)&&Mf(t.arrayValue,this.value)}}]),n}(lh),mh=function(e){Or(n,e);var t=Mr(n);function n(e,r){return Sr(this,n),t.call(this,e,"in",r)}return Ar(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Mf(this.value.arrayValue,t)}}]),n}(lh),yh=function(e){Or(n,e);var t=Mr(n);function n(e,r){return Sr(this,n),t.call(this,e,"not-in",r)}return Ar(n,[{key:"matches",value:function(e){if(Mf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Mf(this.value.arrayValue,t)}}]),n}(lh),gh=function(e){Or(n,e);var t=Mr(n);function n(e,r){return Sr(this,n),t.call(this,e,"array-contains-any",r)}return Ar(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!qf(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Mf(t.value.arrayValue,e)}))}}]),n}(lh),kh=Ar((function e(t,n){Sr(this,e),this.position=t,this.inclusive=n})),bh=Ar((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Sr(this,e),this.field=t,this.dir=n}));function wh(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function xh(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Ll.comparator(Ll.fromName(o.referenceValue),n.key):jf(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function _h(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Lf(e.position[n],t.position[n]))return!1;return!0}var Ih=Ar((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Sr(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.lt=null,this.ft=null,this.startAt,this.endAt}));function Eh(e,t,n,r,i,a,o,s){return new Ih(e,t,n,r,i,a,o,s)}function Sh(e){return new Ih(e)}function Th(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ah(e){var t,n=Cr(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.ht())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Ch(e){return null!==e.collectionGroup}function Nh(e){var t=hl(e);if(null===t.lt){t.lt=[];var n=Ah(t),r=Th(t);if(null!==n&&null===r)n.isKeyField()||t.lt.push(new bh(n)),t.lt.push(new bh(Pl.keyField(),"asc"));else{var i,a=!1,o=Cr(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.lt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new bh(Pl.keyField(),u))}}}return t.lt}function Rh(e){var t=hl(e);if(!t.ft)if("F"===t.limitType)t.ft=rh(t.path,t.collectionGroup,Nh(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Cr(Nh(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new bh(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new kh(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new kh(t.startAt.position,t.startAt.inclusive):null;t.ft=rh(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.ft}function Oh(e,t,n){return new Ih(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Dh(e,t){return ah(Rh(e),Rh(t))&&e.limitType===t.limitType}function Ph(e){return"".concat(ih(Rh(e)),"|lt:").concat(e.limitType)}function Lh(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Uf(t.value));var t})).join(", "),"]")),Cf(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Uf(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Uf(e)})).join(",")),"Target(".concat(t,")")}(Rh(e)),"; limitType=").concat(e.limitType,")")}function Mh(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ll.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Cr(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Cr(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=xh(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Nh(e),t))&&!(e.endAt&&!function(e,t,n){var r=xh(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Nh(e),t))}(e,t)}function jh(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Fh(e){return function(t,n){var r,i=!1,a=Cr(Nh(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Uh(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Uh(e,t,n){var r=e.field.isKeyField()?Ll.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?jf(r,i):ll()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ll()}}function Vh(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nf(t)?"-0":t}}function Bh(e){return{integerValue:""+e}}function zh(e,t){return Rf(t)?Bh(t):Vh(e,t)}var qh=Ar((function e(){Sr(this,e),this._=void 0}));function Wh(e,t,n){return e instanceof Gh?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Qh?Yh(e,t):e instanceof Jh?Xh(e,t):function(e,t){var n=Hh(e,t),r=$h(n)+$h(e._t);return zf(n)&&zf(e._t)?Bh(r):Vh(e.wt,r)}(e,t)}function Kh(e,t,n){return e instanceof Qh?Yh(e,t):e instanceof Jh?Xh(e,t):n}function Hh(e,t){return e instanceof Zh?zf(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Gh=function(e){Or(n,e);var t=Mr(n);function n(){return Sr(this,n),t.apply(this,arguments)}return Ar(n)}(qh),Qh=function(e){Or(n,e);var t=Mr(n);function n(e){var r;return Sr(this,n),(r=t.call(this)).elements=e,r}return Ar(n)}(qh);function Yh(e,t){var n,r=ed(t),i=Cr(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Lf(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Jh=function(e){Or(n,e);var t=Mr(n);function n(e){var r;return Sr(this,n),(r=t.call(this)).elements=e,r}return Ar(n)}(qh);function Xh(e,t){var n,r=ed(t),i=Cr(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Lf(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Zh=function(e){Or(n,e);var t=Mr(n);function n(e,r){var i;return Sr(this,n),(i=t.call(this)).wt=e,i._t=r,i}return Ar(n)}(qh);function $h(e){return xf(e.integerValue||e.doubleValue)}function ed(e){return qf(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var td=Ar((function e(t,n){Sr(this,e),this.field=t,this.transform=n}));var nd=Ar((function e(t,n){Sr(this,e),this.version=t,this.transformResults=n})),rd=function(){function e(t,n){Sr(this,e),this.updateTime=t,this.exists=n}return Ar(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function id(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ad=Ar((function e(){Sr(this,e)}));function od(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new gd(e.key,rd.none()):new fd(e.key,e.data,rd.none());var n,r=e.data,i=$f.empty(),a=new vf(Pl.comparator),o=Cr(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new hd(e.key,i,new gf(a.toArray()),rd.none())}function sd(e,t,n){e instanceof fd?function(e,t,n){var r=e.value.clone(),i=pd(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof hd?function(e,t,n){if(id(e.precondition,t)){var r=pd(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(dd(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ud(e,t,n,r){return e instanceof fd?function(e,t,n,r){if(!id(e.precondition,t))return n;var i=e.value.clone(),a=vd(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof hd?function(e,t,n,r){if(!id(e.precondition,t))return n;var i=vd(e.fieldTransforms,r,t),a=t.data;return a.setAll(dd(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return id(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function cd(e,t){var n,r=null,i=Cr(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Hh(a.transform,o||null);null!=s&&(null===r&&(r=$f.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function ld(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Tl(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Qh&&t instanceof Qh||e instanceof Jh&&t instanceof Jh?Tl(e.elements,t.elements,Lf):e instanceof Zh&&t instanceof Zh?Lf(e._t,t._t):e instanceof Gh&&t instanceof Gh}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var fd=function(e){Or(n,e);var t=Mr(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Sr(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Ar(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ad),hd=function(e){Or(n,e);var t=Mr(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Sr(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return Ar(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(ad);function dd(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function pd(e,t,n){var r=new Map;fl(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Kh(o,s,n[i]))}return r}function vd(e,t,n){var r,i=new Map,a=Cr(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Wh(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var md,yd,gd=function(e){Or(n,e);var t=Mr(n);function n(e,r){var i;return Sr(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Ar(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ad),kd=function(e){Or(n,e);var t=Mr(n);function n(e,r){var i;return Sr(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Ar(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ad),bd=Ar((function e(t){Sr(this,e),this.count=t}));function wd(e){switch(e){default:return ll();case dl.CANCELLED:case dl.UNKNOWN:case dl.DEADLINE_EXCEEDED:case dl.RESOURCE_EXHAUSTED:case dl.INTERNAL:case dl.UNAVAILABLE:case dl.UNAUTHENTICATED:return!1;case dl.INVALID_ARGUMENT:case dl.NOT_FOUND:case dl.ALREADY_EXISTS:case dl.PERMISSION_DENIED:case dl.FAILED_PRECONDITION:case dl.ABORTED:case dl.OUT_OF_RANGE:case dl.UNIMPLEMENTED:case dl.DATA_LOSS:return!0}}function xd(e){if(void 0===e)return sl("GRPC error has no .code"),dl.UNKNOWN;switch(e){case md.OK:return dl.OK;case md.CANCELLED:return dl.CANCELLED;case md.UNKNOWN:return dl.UNKNOWN;case md.DEADLINE_EXCEEDED:return dl.DEADLINE_EXCEEDED;case md.RESOURCE_EXHAUSTED:return dl.RESOURCE_EXHAUSTED;case md.INTERNAL:return dl.INTERNAL;case md.UNAVAILABLE:return dl.UNAVAILABLE;case md.UNAUTHENTICATED:return dl.UNAUTHENTICATED;case md.INVALID_ARGUMENT:return dl.INVALID_ARGUMENT;case md.NOT_FOUND:return dl.NOT_FOUND;case md.ALREADY_EXISTS:return dl.ALREADY_EXISTS;case md.PERMISSION_DENIED:return dl.PERMISSION_DENIED;case md.FAILED_PRECONDITION:return dl.FAILED_PRECONDITION;case md.ABORTED:return dl.ABORTED;case md.OUT_OF_RANGE:return dl.OUT_OF_RANGE;case md.UNIMPLEMENTED:return dl.UNIMPLEMENTED;case md.DATA_LOSS:return dl.DATA_LOSS;default:return ll()}}(yd=md||(md={}))[yd.OK=0]="OK",yd[yd.CANCELLED=1]="CANCELLED",yd[yd.UNKNOWN=2]="UNKNOWN",yd[yd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yd[yd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yd[yd.NOT_FOUND=5]="NOT_FOUND",yd[yd.ALREADY_EXISTS=6]="ALREADY_EXISTS",yd[yd.PERMISSION_DENIED=7]="PERMISSION_DENIED",yd[yd.UNAUTHENTICATED=16]="UNAUTHENTICATED",yd[yd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yd[yd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yd[yd.ABORTED=10]="ABORTED",yd[yd.OUT_OF_RANGE=11]="OUT_OF_RANGE",yd[yd.UNIMPLEMENTED=12]="UNIMPLEMENTED",yd[yd.INTERNAL=13]="INTERNAL",yd[yd.UNAVAILABLE=14]="UNAVAILABLE",yd[yd.DATA_LOSS=15]="DATA_LOSS";var _d=function(){function e(t,n){Sr(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Ar(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Cr(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){lf(this.inner,(function(t,n){var r,i=Cr(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return ff(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Id=new hf(Ll.comparator);function Ed(){return Id}var Sd=new hf(Ll.comparator);function Td(){for(var e=Sd,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Ad(e){var t=Sd;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Cd(){return Rd()}function Nd(){return Rd()}function Rd(){return new _d((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Od=new hf(Ll.comparator),Dd=new vf(Ll.comparator);function Pd(){for(var e=Dd,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Ld=new vf(Sl);function Md(){return Ld}var jd=function(){function e(t,n,r,i,a){Sr(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Ar(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Fd.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Nl.min(),r,Md(),Ed(),Pd())}}]),e}(),Fd=function(){function e(t,n,r,i,a){Sr(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Ar(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(kf.EMPTY_BYTE_STRING,n,Pd(),Pd(),Pd())}}]),e}(),Ud=Ar((function e(t,n,r,i){Sr(this,e),this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=i})),Vd=Ar((function e(t,n){Sr(this,e),this.targetId=t,this.It=n})),Bd=Ar((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kf.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Sr(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),zd=function(){function e(){Sr(this,e),this.Tt=0,this.Et=Kd(),this.At=kf.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}return Ar(e,[{key:"current",get:function(){return this.Rt}},{key:"resumeToken",get:function(){return this.At}},{key:"Pt",get:function(){return 0!==this.Tt}},{key:"vt",get:function(){return this.bt}},{key:"Vt",value:function(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}},{key:"St",value:function(){var e=Pd(),t=Pd(),n=Pd();return this.Et.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ll()}})),new Fd(this.At,this.Rt,e,t,n)}},{key:"Dt",value:function(){this.bt=!1,this.Et=Kd()}},{key:"Ct",value:function(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}},{key:"xt",value:function(e){this.bt=!0,this.Et=this.Et.remove(e)}},{key:"Nt",value:function(){this.Tt+=1}},{key:"kt",value:function(){this.Tt-=1}},{key:"Ot",value:function(){this.bt=!0,this.Rt=!0}}]),e}(),qd=function(){function e(t){Sr(this,e),this.Mt=t,this.Ft=new Map,this.$t=Ed(),this.Bt=Wd(),this.Lt=new vf(Sl)}return Ar(e,[{key:"Ut",value:function(e){var t,n=Cr(e.gt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.yt&&e.yt.isFoundDocument()?this.qt(r,e.yt):this.Kt(r,e.key,e.yt)}}catch(s){n.e(s)}finally{n.f()}var i,a=Cr(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Kt(o,e.key,e.yt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Gt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Qt(n);switch(e.state){case 0:t.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||t.removeTarget(n);break;case 3:t.jt(n)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:t.jt(n)&&(t.Wt(n),r.Vt(e.resumeToken));break;default:ll()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((function(e,r){n.jt(r)&&t(r)}))}},{key:"zt",value:function(e){var t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){var i=r.target;if(oh(i))if(0===n){var a=new Ll(i.path);this.Kt(t,a,th.newNoDocument(a,Nl.min()))}else fl(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}},{key:"Yt",value:function(e){var t=this,n=new Map;this.Ft.forEach((function(r,i){var a=t.Ht(i);if(a){if(r.current&&oh(a.target)){var o=new Ll(a.target.path);null!==t.$t.get(o)||t.Xt(i,o)||t.Kt(i,o,th.newNoDocument(o,e))}r.vt&&(n.set(i,r.St()),r.Dt())}}));var r=Pd();this.Bt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ht(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$t.forEach((function(t,n){return n.setReadTime(e)}));var i=new jd(e,n,this.Lt,this.$t,r);return this.$t=Ed(),this.Bt=Wd(),this.Lt=new vf(Sl),i}},{key:"qt",value:function(e,t){if(this.jt(e)){var n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}}},{key:"Kt",value:function(e,t,n){if(this.jt(e)){var r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ft.delete(e)}},{key:"Jt",value:function(e){var t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Nt",value:function(e){this.Qt(e).Nt()}},{key:"Qt",value:function(e){var t=this.Ft.get(e);return t||(t=new zd,this.Ft.set(e,t)),t}},{key:"Zt",value:function(e){var t=this.Bt.get(e);return t||(t=new vf(Sl),this.Bt=this.Bt.insert(e,t)),t}},{key:"jt",value:function(e){var t=null!==this.Ht(e);return t||ol("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ht",value:function(e){var t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}},{key:"Wt",value:function(e){var t=this;this.Ft.set(e,new zd),this.Mt.getRemoteKeysForTarget(e).forEach((function(n){t.Kt(e,n,null)}))}},{key:"Xt",value:function(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Wd(){return new hf(Ll.comparator)}function Kd(){return new hf(Ll.comparator)}var Hd={asc:"ASCENDING",desc:"DESCENDING"},Gd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qd=Ar((function e(t,n){Sr(this,e),this.databaseId=t,this.dt=n}));function Yd(e,t){return e.dt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Jd(e,t){return e.dt?t.toBase64():t.toUint8Array()}function Xd(e,t){return Yd(e,t.toTimestamp())}function Zd(e){return fl(!!e),Nl.fromTimestamp(function(e){var t=wf(e);return new Cl(t.seconds,t.nanos)}(e))}function $d(e,t){return function(e){return new Ol(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function ep(e){var t=Ol.fromString(e);return fl(_p(t)),t}function tp(e,t){return $d(e.databaseId,t.path)}function np(e,t){var n=ep(t);if(n.get(1)!==e.databaseId.projectId)throw new pl(dl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new pl(dl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ll(op(n))}function rp(e,t){return $d(e.databaseId,t)}function ip(e){var t=ep(e);return 4===t.length?Ol.emptyPath():op(t)}function ap(e){return new Ol(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function op(e){return fl(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function sp(e,t,n){return{name:tp(e,t),fields:n.value.mapValue.fields}}function up(e,t,n){var r=np(e,t.name),i=Zd(t.updateTime),a=new $f({mapValue:{fields:t.fields}}),o=th.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function cp(e,t){return"found"in t?function(e,t){fl(!!t.found),t.found.name,t.found.updateTime;var n=np(e,t.found.name),r=Zd(t.found.updateTime),i=new $f({mapValue:{fields:t.found.fields}});return th.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){fl(!!t.missing),fl(!!t.readTime);var n=np(e,t.missing),r=Zd(t.readTime);return th.newNoDocument(n,r)}(e,t):ll()}function lp(e,t){var n;if(t instanceof fd)n={update:sp(e,t.key,t.value)};else if(t instanceof gd)n={delete:tp(e,t.key)};else if(t instanceof hd)n={update:sp(e,t.key,t.data),updateMask:xp(t.fieldMask)};else{if(!(t instanceof kd))return ll();n={verify:tp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Gh)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Qh)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Jh)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Zh)return{fieldPath:t.field.canonicalString(),increment:n._t};throw ll()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Xd(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ll()}(e,t.precondition)),n}function fp(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?rd.updateTime(Zd(e.updateTime)):void 0!==e.exists?rd.exists(e.exists):rd.none()}(t.currentDocument):rd.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)fl("REQUEST_TIME"===t.setToServerValue),n=new Gh;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Qh(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Jh(i)}else"increment"in t?n=new Zh(e,t.increment):ll();var a=Pl.fromServerFormat(t.fieldPath);return new td(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=np(e,t.update.name),a=new $f({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new gf(t.map((function(e){return Pl.fromServerFormat(e)})))}(t.updateMask);return new hd(i,a,o,n,r)}return new fd(i,a,n,r)}if(t.delete){var s=np(e,t.delete);return new gd(s,n)}if(t.verify){var u=np(e,t.verify);return new kd(u,n)}return ll()}function hp(e,t){return{documents:[rp(e,t.path)]}}function dp(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=rp(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=rp(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Kf(e.value))return{unaryFilter:{field:gp(e.field),op:"IS_NAN"}};if(Wf(e.value))return{unaryFilter:{field:gp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Kf(e.value))return{unaryFilter:{field:gp(e.field),op:"IS_NOT_NAN"}};if(Wf(e.value))return{unaryFilter:{field:gp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gp(e.field),op:yp(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:gp(e.field),direction:mp(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.dt||Cf(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function pp(e){var t=ip(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){fl(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=vp(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new bh(kp(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Cf(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new kh(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new kh(n,t)}(n.endAt)),Eh(t,i,s,o,u,"F",c,l)}function vp(e){return e?void 0!==e.unaryFilter?[wp(e)]:void 0!==e.fieldFilter?[bp(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return vp(e)})).reduce((function(e,t){return e.concat(t)})):ll():[]}function mp(e){return Hd[e]}function yp(e){return Gd[e]}function gp(e){return{fieldPath:e.canonicalString()}}function kp(e){return Pl.fromServerFormat(e.fieldPath)}function bp(e){return lh.create(kp(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ll()}}(e.fieldFilter.op),e.fieldFilter.value)}function wp(e){switch(e.unaryFilter.op){case"IS_NAN":var t=kp(e.unaryFilter.field);return lh.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=kp(e.unaryFilter.field);return lh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=kp(e.unaryFilter.field);return lh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=kp(e.unaryFilter.field);return lh.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ll()}}function xp(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function _p(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Ip(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Sp(t)),t=Ep(e.get(n),t);return Sp(t)}function Ep(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Sp(e){return e+"\x01\x01"}function Tp(e){var t=e.length;if(fl(t>=2),2===t)return fl("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Ol.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&ll(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:ll()}a=o+2}return new Ol(r)}var Ap=["userId","batchId"];function Cp(e,t){return[e,Ip(t)]}function Np(e,t,n){return[e,Ip(t),n]}var Rp={},Op=["prefixPath","collectionGroup","readTime","documentId"],Dp=["prefixPath","collectionGroup","documentId"],Pp=["collectionGroup","readTime","prefixPath","documentId"],Lp=["canonicalId","targetId"],Mp=["targetId","path"],jp=["path","targetId"],Fp=["collectionId","parent"],Up=["indexId","uid"],Vp=["uid","sequenceNumber"],Bp=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],zp=["indexId","uid","orderedDocumentKey"],qp=["userId","collectionPath","documentId"],Wp=["userId","collectionPath","largestBatchId"],Kp=["userId","collectionGroup","largestBatchId"],Hp=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Gp=[].concat(xr(Hp),["documentOverlays"]),Qp=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Yp=Qp,Jp=[].concat(Yp,["indexConfiguration","indexState","indexEntries"]),Xp=function(e){Or(n,e);var t=Mr(n);function n(e,r){var i;return Sr(this,n),(i=t.call(this)).ee=e,i.currentSequenceNumber=r,i}return Ar(n)}(Hl);function Zp(e,t){var n=hl(e);return Xl.N(n.ee,t)}var $p=function(){function e(t,n,r,i){Sr(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Ar(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&sd(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Cr(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=ud(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=Cr(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=ud(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Nd();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=od(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Nl.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Pd())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Tl(this.mutations,e.mutations,(function(e,t){return ld(e,t)}))&&Tl(this.baseMutations,e.baseMutations,(function(e,t){return ld(e,t)}))}}]),e}(),ev=function(){function e(t,n,r,i){Sr(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Ar(e,null,[{key:"from",value:function(t,n,r){fl(t.mutations.length===r.length);for(var i=Od,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),tv=function(){function e(t,n){Sr(this,e),this.largestBatchId=t,this.mutation=n}return Ar(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),nv=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Nl.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Nl.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:kf.EMPTY_BYTE_STRING;Sr(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return Ar(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),rv=Ar((function e(t){Sr(this,e),this.ne=t}));function iv(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:av(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:tp(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Yd(e,t.version.toTimestamp())}}(e.ne,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ov(t.version)};else{if(!t.isUnknownDocument())return ll();r.unknownDocument={path:n.path.toArray(),version:ov(t.version)}}return r}function av(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function ov(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function sv(e){var t=new Cl(e.seconds,e.nanoseconds);return Nl.fromTimestamp(t)}function uv(e,t){for(var n=(t.baseMutations||[]).map((function(t){return fp(e.ne,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return fp(e.ne,t)})),s=Cl.fromMillis(t.localWriteTimeMs);return new $p(t.batchId,s,n,o)}function cv(e){var t,n,r=sv(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?sv(e.lastLimboFreeSnapshotVersion):Nl.min();return void 0!==e.query.documents?(fl(1===(n=e.query).documents.length),t=Rh(Sh(ip(n.documents[0])))):t=function(e){return Rh(pp(e))}(e.query),new nv(t,e.targetId,0,e.lastListenSequenceNumber,r,i,kf.fromBase64String(e.resumeToken))}function lv(e,t){var n,r=ov(t.snapshotVersion),i=ov(t.lastLimboFreeSnapshotVersion);n=oh(t.target)?hp(e.ne,t.target):dp(e.ne,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ih(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function fv(e){var t=pp({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Oh(t,t.limit,"L"):t}function hv(e,t){return new tv(t.largestBatchId,fp(e.ne,t.overlayMutation))}function dv(e,t){var n=t.path.lastSegment();return[e,Ip(t.path.popLast()),n]}function pv(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:ov(r.readTime),documentKey:Ip(r.documentKey.path),largestBatchId:r.largestBatchId}}var vv=function(){function e(){Sr(this,e)}return Ar(e,[{key:"getBundleMetadata",value:function(e,t){return mv(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:sv(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return mv(e).put({bundleId:(n=t).id,createTime:ov(Zd(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return yv(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:fv(t.bundledQuery),readTime:sv(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return yv(e).put(function(e){return{name:e.name,readTime:ov(Zd(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function mv(e){return Zp(e,"bundles")}function yv(e){return Zp(e,"namedQueries")}var gv=function(){function e(t,n){Sr(this,e),this.wt=t,this.userId=n}return Ar(e,[{key:"getOverlay",value:function(e,t){var n=this;return kv(e).get(dv(this.userId,t)).next((function(e){return e?hv(n.wt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Cd();return Yl.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new tv(t,a);i.push(r.ie(e,o))})),Yl.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Ip(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(kv(e).W("collectionPathOverlayIndex",i))})),Yl.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Cd(),a=Ip(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return kv(e).K("collectionPathOverlayIndex",o).next((function(e){var t,n=Cr(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=hv(r.wt,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Cd(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return kv(e).J({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=hv(a.wt,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ie",value:function(e,t){return kv(e).put(function(e,t,n){var r=c(dv(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:lp(e.ne,n.mutation)}}(this.wt,this.userId,t))}}],[{key:"se",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function kv(e){return Zp(e,"documentOverlays")}var bv=function(){function e(){Sr(this,e)}return Ar(e,[{key:"re",value:function(e,t){this.oe(e,t),t.ue()}},{key:"oe",value:function(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(xf(e.integerValue));else if("doubleValue"in e){var n=xf(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),Nf(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he("".concat(r.seconds||"")),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(_f(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?Qf(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):ll()}},{key:"le",value:function(e,t){this.ce(t,25),this.ge(e,t)}},{key:"ge",value:function(e,t){t.he(e)}},{key:"we",value:function(e,t){var n=e.fields||{};this.ce(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.le(a,t),this.oe(n[a],t)}}},{key:"me",value:function(e,t){var n=e.values||[];this.ce(t,50);var r,i=Cr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.oe(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ce(t,37),Ll.fromName(e).path.forEach((function(e){n.ce(t,60),n.ge(e,t)}))}},{key:"ce",value:function(e,t){e.ae(t)}},{key:"fe",value:function(e){e.ae(2)}}]),e}();function wv(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function xv(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=wv(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}bv.ye=new bv;var _v=function(){function e(){Sr(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Ar(e,[{key:"pe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ie(n.value),n=t.next();this.Te()}},{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){var t,n=Cr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{var a=r.codePointAt(0);this.Ie(240|a>>>18),this.Ie(128|63&a>>>12),this.Ie(128|63&a>>>6),this.Ie(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Te()}},{key:"Pe",value:function(e){var t,n=Cr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"ve",value:function(e){var t=this.Ve(e),n=xv(t);this.Se(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"De",value:function(e){var t=this.Ve(e),n=xv(t);this.Se(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ce",value:function(){this.xe(255),this.xe(255)}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Oe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ve",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ie",value:function(e){var t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}},{key:"Te",value:function(){this.xe(0),this.xe(1)}},{key:"Re",value:function(){this.ke(0),this.ke(1)}},{key:"xe",value:function(e){this.Se(1),this.buffer[this.position++]=e}},{key:"ke",value:function(e){this.Se(1),this.buffer[this.position++]=~e}},{key:"Se",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Iv=function(){function e(t){Sr(this,e),this.Me=t}return Ar(e,[{key:"de",value:function(e){this.Me.pe(e)}},{key:"he",value:function(e){this.Me.be(e)}},{key:"ae",value:function(e){this.Me.ve(e)}},{key:"ue",value:function(){this.Me.Ce()}}]),e}(),Ev=function(){function e(t){Sr(this,e),this.Me=t}return Ar(e,[{key:"de",value:function(e){this.Me.Ee(e)}},{key:"he",value:function(e){this.Me.Pe(e)}},{key:"ae",value:function(e){this.Me.De(e)}},{key:"ue",value:function(){this.Me.Ne()}}]),e}(),Sv=function(){function e(){Sr(this,e),this.Me=new _v,this.Fe=new Iv(this.Me),this.$e=new Ev(this.Me)}return Ar(e,[{key:"seed",value:function(e){this.Me.seed(e)}},{key:"Be",value:function(e){return 0===e?this.Fe:this.$e}},{key:"Oe",value:function(){return this.Me.Oe()}},{key:"reset",value:function(){this.Me.reset()}}]),e}(),Tv=function(){function e(t,n,r,i){Sr(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Ar(e,[{key:"Le",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Av(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Cv(e.arrayValue,t.arrayValue))?n:0!==(n=Cv(e.directionalValue,t.directionalValue))?n:Ll.comparator(e.documentKey,t.documentKey)}function Cv(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Nv=function(){function e(t){Sr(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];var n,r=Cr(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.ht()?this.Ke=i:this.qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Ar(e,[{key:"Ge",value:function(e){var t=jl(e);if(void 0!==t&&!this.Qe(t))return!1;for(var n=Fl(e),r=0,i=0;r<n.length&&this.Qe(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ke){var a=n[r];if(!this.je(this.Ke,a)||!this.We(this.Ue[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],o))return!1}return!0}},{key:"Qe",value:function(e){var t,n=Cr(this.qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"We",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Rv=function(){function e(){Sr(this,e),this.ze=new Ov}return Ar(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.ze.add(t),Yl.resolve()}},{key:"getCollectionParents",value:function(e,t){return Yl.resolve(this.ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Yl.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Yl.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Yl.resolve(null)}},{key:"getIndexType",value:function(e,t){return Yl.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Yl.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Yl.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Yl.resolve(ql.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Yl.resolve(ql.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Yl.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Yl.resolve()}}]),e}(),Ov=function(){function e(){Sr(this,e),this.index={}}return Ar(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new vf(Ol.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new vf(Ol.comparator)).toArray()}}]),e}(),Dv=new Uint8Array(0),Pv=function(){function e(t,n){Sr(this,e),this.user=t,this.databaseId=n,this.He=new Ov,this.Je=new _d((function(e){return ih(e)}),(function(e,t){return ah(e,t)})),this.uid=t.uid||""}return Ar(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.He.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.He.add(t)}));var a={collectionId:r,parent:Ip(i)};return Lv(e).put(a)}return Yl.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Al(t),""],!1,!0);return Lv(e).K(r).next((function(e){var r,i=Cr(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Tp(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=jv(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Fv(e);return a.next((function(e){o.put(pv(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=jv(e),r=Fv(e),i=Mv(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Mv(e),i=!0,a=new Map;return Yl.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Pd(),o=[];return Yl.forEach(a,(function(i,a){var s;ol("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(ih(t)));var u=function(e,t){var n=jl(t);if(void 0===n)return null;var r,i=Cr(sh(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Cr(Fl(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=Cr(sh(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Cr(Fl(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?uh(e,o.fieldPath,e.startAt):ch(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new kh(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Cr(Fl(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?ch(e,o.fieldPath,e.endAt):uh(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new kh(r,i)}(a,i),h=n.Ze(i,a,l),d=n.Ze(i,a,f),p=n.tn(i,a,c),v=n.en(i.indexId,u,h,l.inclusive,d,f.inclusive,p);return Yl.forEach(v,(function(n){return r.j(n,t.limit).next((function(t){t.forEach((function(t){var n=Ll.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Yl.resolve(null)}))}},{key:"Ye",value:function(e){var t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}},{key:"en",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(u){var f=t?s.nn(t[u/c]):Dv,h=s.sn(e,f,n[u%c],r),d=s.rn(e,f,i[u%c],a),p=o.map((function(t){return s.sn(e,f,t,!0)}));l.push.apply(l,xr(s.createRange(h,d,p)))},h=0;h<u;++h)f(h);return l}},{key:"sn",value:function(e,t,n,r){var i=new Tv(e,Ll.empty(),t,n);return r?i:i.Le()}},{key:"rn",value:function(e,t,n,r){var i=new Tv(e,Ll.empty(),t,n);return r?i.Le():i}},{key:"Xe",value:function(e,t){var n=new Nv(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Cr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Ge(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return Yl.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new vf(Pl.comparator),r=!1,i=Cr(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,s=Cr(e.orderBy);try{for(s.s();!(o=s.n()).done;){var u=o.value;u.field.isKeyField()||(n=n.add(u.field))}}catch(c){s.e(c)}finally{s.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"on",value:function(e,t){var n,r=new Sv,i=Cr(Fl(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.Be(a.kind);bv.ye.re(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Oe()}},{key:"nn",value:function(e){var t=new Sv;return bv.ye.re(e,t.Be(0)),t.Oe()}},{key:"un",value:function(e,t){var n=new Sv;return bv.ye.re(Bf(this.databaseId,t),n.Be(function(e){var t=Fl(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Oe()}},{key:"tn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Sv);var i,a=0,o=Cr(Fl(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=Cr(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.cn(t,u.fieldPath)&&qf(c))r=this.an(r,u,c);else{var h=f.Be(u.kind);bv.ye.re(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.hn(r)}},{key:"Ze",value:function(e,t,n){return this.tn(e,t,n.position)}},{key:"hn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Oe();return t}},{key:"an",value:function(e,t,n){var r,i=xr(e),a=[],o=Cr(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=Cr(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new Sv;f.seed(l.Oe()),bv.ye.re(u,f.Be(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"cn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof lh&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=jv(e),i=Fv(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next((function(e){var t=[];return Yl.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Vl(t.sequenceNumber,new ql(sv(t.readTime),new Ll(Tp(t.documentKey)),t.largestBatchId)):Vl.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new Ul(Pl.fromServerFormat(n),r)}));return new Ml(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Sl(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=jv(e),a=Fv(e);return this.ln(e).next((function(e){return i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Yl.forEach(t,(function(t){return a.put(pv(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Yl.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Yl.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Yl.forEach(a,(function(r){return n.fn(e,t,r).next((function(t){var a=n.dn(i,r);return t.isEqual(a)?Yl.resolve():n._n(e,i,r,t,a)}))}))}))}))}},{key:"wn",value:function(e,t,n,r){return Mv(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(n,t.key),documentKey:t.key.path.toArray()})}},{key:"mn",value:function(e,t,n,r){return Mv(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(n,t.key),t.key.path.toArray()])}},{key:"fn",value:function(e,t,n){var r=Mv(e),i=new vf(Av);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.un(n,t)])},(function(e,r){i=i.add(new Tv(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"dn",value:function(e,t){var n=new vf(Av),r=this.on(t,e);if(null==r)return n;var i=jl(t);if(null!=i){var a=e.data.field(i.fieldPath);if(qf(a)){var o,s=Cr(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new Tv(t.indexId,e.key,this.nn(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new Tv(t.indexId,e.key,Dv,r));return n}},{key:"_n",value:function(e,t,n,r,i){var a=this;ol("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=yf(a),u=yf(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=yf(o)):l?(i(s),s=yf(a)):(s=yf(a),u=yf(o))}}(r,i,Av,(function(r){o.push(a.wn(e,t,n,r))}),(function(r){o.push(a.mn(e,t,n,r))})),Yl.waitFor(o)}},{key:"ln",value:function(e){var t=1;return Fv(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Av(e,t)})).filter((function(e,t,n){return!t||0!==Av(e,n[t-1])}));var r=[];r.push(e);var i,a=Cr(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=Av(o,e),u=Av(o,t);if(0===s)r[0]=e.Le();else if(s>0&&u<0)r.push(o),r.push(o.Le());else if(u>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Dv,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Dv,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Uv)}},{key:"getMinOffset",value:function(e,t){var n=this;return Yl.mapArray(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){return e||ll()}))})).next(Uv)}}]),e}();function Lv(e){return Zp(e,"collectionParents")}function Mv(e){return Zp(e,"indexEntries")}function jv(e){return Zp(e,"indexConfiguration")}function Fv(e){return Zp(e,"indexState")}function Uv(e){fl(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Wl(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ql(t.readTime,t.documentKey,n)}var Vv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Bv=function(){function e(t,n,r){Sr(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Ar(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function zv(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.J({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){fl(1===s)})));var c,l=[],f=Cr(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Np(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Yl.waitFor(a).next((function(){return l}))}function qv(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ll();t=e.noDocument}return JSON.stringify(t).length}Bv.DEFAULT_COLLECTION_PERCENTILE=10,Bv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bv.DEFAULT=new Bv(41943040,Bv.DEFAULT_COLLECTION_PERCENTILE,Bv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bv.DISABLED=new Bv(-1,0,0);var Wv=function(){function e(t,n,r,i){Sr(this,e),this.userId=t,this.wt=n,this.indexManager=r,this.referenceDelegate=i,this.gn={}}return Ar(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Hv(e).J({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Gv(e),o=Hv(e);return o.add({}).next((function(s){fl("number"==typeof s);var u,c=new $p(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return lp(e.ne,t)})),i=n.mutations.map((function(t){return lp(e.ne,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.wt,i.userId,c),f=[],h=new vf((function(e,t){return Sl(e.canonicalString(),t.canonicalString())})),d=Cr(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=Np(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Rp))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.gn[s]=c.keys()})),Yl.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Hv(e).get(t).next((function(e){return e?(fl(e.userId===n.userId),uv(n.wt,e)):null}))}},{key:"yn",value:function(e,t){var n=this;return this.gn[t]?Yl.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.gn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Hv(e).J({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(fl(t.batchId>=r),a=uv(n.wt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Hv(e).J({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Hv(e).K("userMutationsIndex",n).next((function(e){return e.map((function(e){return uv(t.wt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Cp(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Gv(e).J({range:i},(function(r,i,o){var s=c(r,3),u=s[0],l=s[1],f=s[2],h=Tp(l);if(u===n.userId&&t.path.isEqual(h))return Hv(e).get(f).next((function(e){if(!e)throw ll();fl(e.userId===n.userId),a.push(uv(n.wt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new vf(Sl),i=[];return t.forEach((function(t){var a=Cp(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=Gv(e).J({range:o},(function(e,i,a){var o=c(e,3),s=o[0],u=o[1],l=o[2],f=Tp(u);s===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(s)})),Yl.waitFor(i).next((function(){return n.pn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Cp(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new vf(Sl);return Gv(e).J({range:o},(function(e,t,a){var o=c(e,3),u=o[0],l=o[1],f=o[2],h=Tp(l);u===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.pn(e,s)}))}},{key:"pn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Hv(e).get(t).next((function(e){if(null===e)throw ll();fl(e.userId===n.userId),r.push(uv(n.wt,e))})))})),Yl.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return zv(e.ee,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.In(t.batchId)})),Yl.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"In",value:function(e){delete this.gn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Yl.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Gv(e).J({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Tp(e[1]);i.push(a)}else r.done()})).next((function(){fl(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Kv(e,this.userId,t)}},{key:"Tn",value:function(e){var t=this;return Qv(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"se",value:function(t,n,r,i){return fl(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Kv(e,t,n){var r=Cp(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Gv(e).J({range:a,H:!0},(function(e,n,r){var a=c(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function Hv(e){return Zp(e,"mutations")}function Gv(e){return Zp(e,"documentMutations")}function Qv(e){return Zp(e,"mutationQueues")}var Yv=function(){function e(t){Sr(this,e),this.En=t}return Ar(e,[{key:"next",value:function(){return this.En+=2,this.En}}],[{key:"An",value:function(){return new e(0)}},{key:"Rn",value:function(){return new e(-1)}}]),e}(),Jv=function(){function e(t,n){Sr(this,e),this.referenceDelegate=t,this.wt=n}return Ar(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.bn(e).next((function(n){var r=new Yv(n.highestTargetId);return n.highestTargetId=r.next(),t.Pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.bn(e).next((function(e){return Nl.fromTimestamp(new Cl(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.bn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.bn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.vn(e,t).next((function(){return n.bn(e).next((function(r){return r.targetCount+=1,n.Vn(t,r),n.Pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.vn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Xv(e).delete(t.targetId)})).next((function(){return n.bn(e)})).next((function(t){return fl(t.targetCount>0),t.targetCount-=1,n.Pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Xv(e).J((function(o,s){var u=cv(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return Yl.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Xv(e).J((function(e,n){var r=cv(n);t(r)}))}},{key:"bn",value:function(e){return Zv(e).get("targetGlobalKey").next((function(e){return fl(null!==e),e}))}},{key:"Pn",value:function(e,t){return Zv(e).put("targetGlobalKey",t)}},{key:"vn",value:function(e,t){return Xv(e).put(lv(this.wt,t))}},{key:"Vn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.bn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=ih(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Xv(e).J({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=cv(n);ah(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=$v(e);return t.forEach((function(t){var o=Ip(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Yl.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=$v(e);return Yl.forEach(t,(function(t){var a=Ip(t.path);return Yl.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=$v(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=$v(e),i=Pd();return r.J({range:n,H:!0},(function(e,t,n){var r=Tp(e[1]),a=new Ll(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Ip(t.path),r=IDBKeyRange.bound([n],[Al(n)],!1,!0),i=0;return $v(e).J({index:"documentTargetsIndex",H:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"te",value:function(e,t){return Xv(e).get(t).next((function(e){return e?cv(e):null}))}}]),e}();function Xv(e){return Zp(e,"targets")}function Zv(e){return Zp(e,"targetGlobal")}function $v(e){return Zp(e,"targetDocuments")}function em(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],s=a[1],u=Sl(r,o);return 0===u?Sl(i,s):u}var tm=function(){function e(t){Sr(this,e),this.Sn=t,this.buffer=new vf(em),this.Dn=0}return Ar(e,[{key:"Cn",value:function(){return++this.Dn}},{key:"xn",value:function(e){var t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();em(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),nm=function(){function e(t,n,r){Sr(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Nn=null}return Ar(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}},{key:"stop",value:function(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}},{key:"started",get:function(){return null!==this.Nn}},{key:"kn",value:function(e){var t=this;ol("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Ir(br().mark((function e(){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Nn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!ef(e.t0)){e.next=12;break}ol("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Gl(e.t0);case 14:return e.next=16,t.kn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),rm=function(){function e(t,n){Sr(this,e),this.On=t,this.params=n}return Ar(e,[{key:"calculateTargetCount",value:function(e,t){return this.On.Mn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Yl.resolve(uf.ot);var r=new tm(t);return this.On.forEachTarget(e,(function(e){return r.xn(e.sequenceNumber)})).next((function(){return n.On.Fn(e,(function(e){return r.xn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.On.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.On.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(ol("LruGarbageCollector","Garbage collection skipped; disabled"),Yl.resolve(Vv)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(ol("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Vv):n.$n(e,t)}))}},{key:"getCacheSize",value:function(e){return this.On.getCacheSize(e)}},{key:"$n",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(ol("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),al()<=yi.DEBUG&&ol("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),Yl.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),im=function(){function e(t,n){Sr(this,e),this.db=t,this.garbageCollector=function(e,t){return new rm(e,t)}(this,n)}return Ar(e,[{key:"Mn",value:function(e){var t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Bn",value:function(e){var t=0;return this.Fn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Fn",value:function(e,t){return this.Ln(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return am(e,n)}},{key:"removeReference",value:function(e,t,n){return am(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return am(e,t)}},{key:"Un",value:function(e,t){return function(e,t){var n=!1;return Qv(e).Y((function(r){return Kv(e,r,t).next((function(e){return e&&(n=!0),Yl.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ln(e,(function(o,s){if(s<=t){var u=n.Un(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Nl.min()),$v(e).delete([0,Ip(o.path)])}))}));i.push(u)}})).next((function(){return Yl.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return am(e,t)}},{key:"Ln",value:function(e,t){var n,r=$v(e),i=uf.ot;return r.J({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==uf.ot&&t(new Ll(Tp(n)),i),i=u,n=s):i=uf.ot})).next((function(){i!==uf.ot&&t(new Ll(Tp(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function am(e,t){return $v(e).put(function(e,t){return{targetId:0,path:Ip(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var om=function(){function e(){Sr(this,e),this.changes=new _d((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Ar(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,th.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Yl.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),sm=function(){function e(t){Sr(this,e),this.wt=t}return Ar(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return fm(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return fm(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],av(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=th.newInvalidDocument(t);return fm(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(hm(t))},(function(e,i){r=n.Kn(t,i)})).next((function(){return r}))}},{key:"Gn",value:function(e,t){var n=this,r={size:0,document:th.newInvalidDocument(t)};return fm(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(hm(t))},(function(e,i){r={document:n.Kn(t,i),size:qv(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Ed();return this.Qn(e,t,(function(e,t){var i=n.Kn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"jn",value:function(e,t){var n=this,r=Ed(),i=new hf(Ll.comparator);return this.Qn(e,t,(function(e,t){var a=n.Kn(e,t);r=r.insert(e,a),i=i.insert(e,qv(t))})).next((function(){return{documents:r,Wn:i}}))}},{key:"Qn",value:function(e,t,n){if(t.isEmpty())return Yl.resolve();var r=new vf(pm);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(hm(r.first()),hm(r.last())),a=r.getIterator(),o=a.getNext();return fm(e).J({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Ll.fromSegments([].concat(xr(t.prefixPath),[t.collectionGroup,t.documentId]));o&&pm(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.q(hm(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),av(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return fm(e).K(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Ed(),i=Cr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Kn(Ll.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(s){i.e(s)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Ed(),o=dm(t,n),s=dm(t,ql.max());return fm(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.Kn(Ll.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new cm(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return lm(e).get("remoteDocumentGlobalKey").next((function(e){return fl(!!e),e}))}},{key:"qn",value:function(e,t){return lm(e).put("remoteDocumentGlobalKey",t)}},{key:"Kn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=up(e.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Ll.fromSegments(t.noDocument.path),i=sv(t.noDocument.readTime);n=th.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return ll();var a=Ll.fromSegments(t.unknownDocument.path),o=sv(t.unknownDocument.version);n=th.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Cl(e[0],e[1]);return Nl.fromTimestamp(t)}(t.readTime)),n}(this.wt,t);if(!n.isNoDocument()||!n.version.isEqual(Nl.min()))return n}return th.newInvalidDocument(e)}}]),e}();function um(e){return new sm(e)}var cm=function(e){Or(n,e);var t=Mr(n);function n(e,r){var i;return Sr(this,n),(i=t.call(this)).zn=e,i.trackRemovals=r,i.Hn=new _d((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Ar(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new vf((function(e,t){return Sl(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Hn.get(a);if(n.push(t.zn.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=iv(t.zn.wt,o);i=i.add(a.path.popLast());var c=qv(u);r+=c-s.size,n.push(t.zn.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=iv(t.zn.wt,o.convertToNoDocument(Nl.min()));n.push(t.zn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.zn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.zn.updateMetadata(e,r)),Yl.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.zn.Gn(e,t).next((function(e){return n.Hn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.zn.jn(e,t).next((function(e){var t=e.documents;return e.Wn.forEach((function(e,r){n.Hn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(om);function lm(e){return Zp(e,"remoteDocumentGlobal")}function fm(e){return Zp(e,"remoteDocumentsV14")}function hm(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function dm(e,t){var n=t.documentKey.path.toArray();return[e,av(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function pm(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Sl(n[a],r[a]))return i;return(i=Sl(n.length,r.length))||((i=Sl(n[n.length-2],r[r.length-2]))||Sl(n[n.length-1],r[r.length-1]))}var vm=Ar((function e(t,n){Sr(this,e),this.overlayedDocument=t,this.mutatedFields=n})),mm=function(){function e(t,n,r,i){Sr(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Ar(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&ud(r.mutation,e,gf.empty(),Cl.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Pd()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pd(),i=Cd();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Td();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Cd();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Pd())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Ed(),a=Rd(),o=Rd();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof hd)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),ud(o.mutation,t,o.mutation.getFieldMask(),Cl.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new vm(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Rd(),i=new hf((function(e,t){return e-t})),a=Pd();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Cr(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||gf.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||Pd()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=Nd();c.forEach((function(e){if(!a.has(e)){var n=od(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return Yl.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Ll.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ch(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Yl.resolve(Cd()),s=-1,u=a;return o.next((function(t){return Yl.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?Yl.resolve():i.getBaseDocument(e,t,n).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,Pd())})).next((function(e){return{batchId:s,changes:Ad(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Ll(t)).next((function(e){var t=Td();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Td();return this.indexManager.getCollectionParents(e,i).next((function(o){return Yl.forEach(o,(function(o){var s=function(e,t){return new Ih(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,th.newInvalidDocument(n)))}));var n=Td();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&ud(a.mutation,i,gf.empty(),Cl.now()),Mh(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):Yl.resolve(th.newInvalidDocument(t))}}]),e}(),ym=function(){function e(t){Sr(this,e),this.wt=t,this.Jn=new Map,this.Yn=new Map}return Ar(e,[{key:"getBundleMetadata",value:function(e,t){return Yl.resolve(this.Jn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:Zd(n.createTime)}),Yl.resolve()}},{key:"getNamedQuery",value:function(e,t){return Yl.resolve(this.Yn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:fv(e.bundledQuery),readTime:Zd(e.readTime)}}(t)),Yl.resolve()}}]),e}(),gm=function(){function e(){Sr(this,e),this.overlays=new hf(Ll.comparator),this.Xn=new Map}return Ar(e,[{key:"getOverlay",value:function(e,t){return Yl.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Cd();return Yl.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ie(e,t,i)})),Yl.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Xn.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Xn.delete(n)),Yl.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Cd(),i=t.length+1,a=new Ll(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Yl.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new hf((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=Cd(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=Cd(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return Yl.resolve(u)}},{key:"ie",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new tv(t,n));var a=this.Xn.get(t);void 0===a&&(a=Pd(),this.Xn.set(t,a)),this.Xn.set(t,a.add(n.key))}}]),e}(),km=function(){function e(){Sr(this,e),this.Zn=new vf(bm.ts),this.es=new vf(bm.ns)}return Ar(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new bm(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new bm(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new Ll(new Ol([])),r=new bm(n,e),i=new bm(n,e+1),a=[];return this.es.forEachInRange([r,i],(function(e){t.rs(e),a.push(e.key)})),a}},{key:"cs",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new Ll(new Ol([])),n=new bm(t,e),r=new bm(t,e+1),i=Pd();return this.es.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new bm(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),bm=function(){function e(t,n){Sr(this,e),this.key=t,this.ls=n}return Ar(e,null,[{key:"ts",value:function(e,t){return Ll.comparator(e.key,t.key)||Sl(e.ls,t.ls)}},{key:"ns",value:function(e,t){return Sl(e.ls,t.ls)||Ll.comparator(e.key,t.key)}}]),e}(),wm=function(){function e(t,n){Sr(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new vf(bm.ts)}return Ar(e,[{key:"checkEmpty",value:function(e){return Yl.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new $p(i,t,n,r);this.mutationQueue.push(a);var o,s=Cr(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ds=this.ds.add(new bm(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Yl.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Yl.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return Yl.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Yl.resolve(0===this.mutationQueue.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return Yl.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new bm(t,0),i=new bm(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],(function(e){var t=n._s(e.ls);a.push(t)})),Yl.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new vf(Sl);return t.forEach((function(e){var t=new bm(e,0),i=new bm(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],(function(e){r=r.add(e.ls)}))})),Yl.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Ll.isDocumentKey(i)||(i=i.child(""));var a=new bm(new Ll(i),0),o=new vf(Sl);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)}),a),Yl.resolve(this.gs(o))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;fl(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ds;return Yl.forEach(t.mutations,(function(i){var a=new bm(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ds=r}))}},{key:"In",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new bm(t,0),r=this.ds.firstAfterOrEqual(n);return Yl.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Yl.resolve()}},{key:"ys",value:function(e,t){return this.ws(e)}},{key:"ws",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"_s",value:function(e){var t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),xm=function(){function e(t){Sr(this,e),this.ps=t,this.docs=new hf(Ll.comparator),this.size=0}return Ar(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Yl.resolve(n?n.document.mutableCopy():th.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Ed();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():th.newInvalidDocument(e))})),Yl.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Ed(),i=new Ll(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||Wl(zl(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return Yl.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){ll()}},{key:"Is",value:function(e,t){return Yl.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new _m(this)}},{key:"getSize",value:function(e){return Yl.resolve(this.size)}}]),e}(),_m=function(e){Or(n,e);var t=Mr(n);function n(e){var r;return Sr(this,n),(r=t.call(this)).zn=e,r}return Ar(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.zn.addEntry(e,i)):t.zn.removeEntry(r)})),Yl.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.zn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.zn.getEntries(e,t)}}]),n}(om),Im=function(){function e(t){Sr(this,e),this.persistence=t,this.Ts=new _d((function(e){return ih(e)}),ah),this.lastRemoteSnapshotVersion=Nl.min(),this.highestTargetId=0,this.Es=0,this.As=new km,this.targetCount=0,this.Rs=Yv.An()}return Ar(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach((function(e,n){return t(n)})),Yl.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Yl.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Yl.resolve(this.Es)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),Yl.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),Yl.resolve()}},{key:"vn",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new Yv(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.vn(t),this.targetCount+=1,Yl.resolve()}},{key:"updateTargetData",value:function(e,t){return this.vn(t),Yl.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,Yl.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Ts.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Ts.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Yl.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Yl.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return Yl.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),Yl.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Yl.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.us(t),Yl.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return Yl.resolve(n)}},{key:"containsKey",value:function(e,t){return Yl.resolve(this.As.containsKey(t))}}]),e}(),Em=function(){function e(t,n){var r=this;Sr(this,e),this.bs={},this.overlays={},this.Ps=new uf(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new Im(this),this.indexManager=new Rv,this.remoteDocumentCache=new xm((function(e){return r.referenceDelegate.Ss(e)})),this.wt=new rv(n),this.Ds=new ym(this.wt)}return Ar(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.vs=!1,Promise.resolve()}},{key:"started",get:function(){return this.vs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new gm,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.bs[e.toKey()];return n||(n=new wm(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;ol("MemoryPersistence","Starting transaction:",e);var i=new Sm(this.Ps.next());return this.referenceDelegate.Cs(),n(i).next((function(e){return r.referenceDelegate.xs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ns",value:function(e,t){return Yl.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Sm=function(e){Or(n,e);var t=Mr(n);function n(e){var r;return Sr(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Ar(n)}(Hl),Tm=function(){function e(t){Sr(this,e),this.persistence=t,this.ks=new km,this.Os=null}return Ar(e,[{key:"Fs",get:function(){if(this.Os)return this.Os;throw ll()}},{key:"addReference",value:function(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),Yl.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),Yl.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Fs.add(t.toString()),Yl.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ks.us(t.targetId).forEach((function(e){return n.Fs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Fs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Cs",value:function(){this.Os=new Set}},{key:"xs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Yl.forEach(this.Fs,(function(r){var i=Ll.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i,Nl.min())}))})).next((function(){return t.Os=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.Fs.delete(t.toString()):n.Fs.add(t.toString())}))}},{key:"Ss",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return Yl.or([function(){return Yl.resolve(n.ks.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ns(e,t)}])}}],[{key:"Ms",value:function(t){return new e(t)}}]),e}(),Am=function(){function e(t){Sr(this,e),this.wt=t}return Ar(e,[{key:"O",value:function(e,t,n,r){var i=this,a=new Jl("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ap,{unique:!0}),e.createObjectStore("documentMutations")}(e),Cm(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Yl.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Cm(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Nl.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").K().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ap,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Yl.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Bs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ls(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Us(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ks(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:qp});t.createIndex("collectionPathOverlayIndex",Wp,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Kp,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Op});t.createIndex("documentKeyIndex",Dp),t.createIndex("collectionGroupIndex",Pp)}(e)})).next((function(){return i.Gs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.Qs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Up}).createIndex("sequenceNumberIndex",Vp,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Bp}).createIndex("documentKeyIndex",zp,{unique:!1})}(e)}))),o}},{key:"Ls",value:function(e){var t=0;return e.store("remoteDocuments").J((function(e,n){t+=qv(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Bs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.K().next((function(n){return Yl.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",i).next((function(r){return Yl.forEach(r,(function(r){fl(r.userId===n.userId);var i=uv(t.wt,r);return zv(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Us",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.J((function(n,i){var a=new Ol(n),o=function(e){return[0,Ip(e)]}(a);r.push(t.get(o).next((function(n){return n?Yl.resolve():function(n){return t.put({targetId:0,path:Ip(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Yl.waitFor(r)}))}))}},{key:"qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Fp});var n=t.store("collectionParents"),r=new Ov,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Ip(i)})}};return t.store("remoteDocuments").J({H:!0},(function(e,t){var n=new Ol(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").J({H:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],Tp(r));return i(a.popLast())}))}))}},{key:"Ks",value:function(e){var t=this,n=e.store("targets");return n.J((function(e,r){var i=cv(r),a=lv(t.wt,i);return n.put(a)}))}},{key:"Gs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.J((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Ll(Ol.fromString(i.document.name).popFirst(5)):i.noDocument?Ll.fromSegments(i.noDocument.path):i.unknownDocument?Ll.fromSegments(i.unknownDocument.path):ll()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return Yl.waitFor(r)}))}},{key:"Qs",value:function(e,t){var n=this,r=t.store("mutations"),i=um(this.wt),a=new Em(Tm.Ms,this.wt.ne);return r.K().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Pd();uv(n.wt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Yl.forEach(r,(function(e,r){var o=new nl(r),s=gv.se(n.wt,o),u=a.getIndexManager(o),c=Wv.se(o,n.wt,u,a.referenceDelegate);return new mm(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new Xp(t,uf.ot),e).next()}))}))}}]),e}();function Cm(e){e.createObjectStore("targetDocuments",{keyPath:Mp}).createIndex("documentTargetsIndex",jp,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Lp,{unique:!0}),e.createObjectStore("targetGlobal")}var Nm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Rm=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:14;if(Sr(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.js=a,this.window=o,this.document=s,this.Ws=c,this.zs=l,this.Hs=f,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=function(e){return Promise.resolve()},!e.V())throw new pl(dl.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new im(this,i),this.ei=n+"main",this.wt=new rv(u),this.ni=new Xl(this.ei,this.Hs,new Am(this.wt)),this.Vs=new Jv(this.referenceDelegate,this.wt),this.remoteDocumentCache=um(this.wt),this.Ds=new vv,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===l&&sl("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Ar(e,[{key:"start",value:function(){var e=this;return this.ii().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new pl(dl.FAILED_PRECONDITION,Nm);return e.ri(),e.oi(),e.ui(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Vs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ps=new uf(t,e.Ws)})).then((function(){e.vs=!0})).catch((function(t){return e.ni&&e.ni.close(),Promise.reject(t)}))}},{key:"ci",value:function(e){var t=this;return this.ti=function(){var n=Ir(br().mark((function n(r){return br().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ni.F(function(){var t=Ir(br().mark((function t(n){return br().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget(Ir(br().mark((function e(){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ii();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ii",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Dm(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.ai(t).next((function(t){t||(e.isPrimary=!1,e.js.enqueueRetryable((function(){return e.ti(!1)})))}))})).next((function(){return e.hi(t)})).next((function(n){return e.isPrimary&&!n?e.li(t).next((function(){return!1})):!!n&&e.fi(t).next((function(){return!0}))}))})).catch((function(t){if(ef(t))return ol("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return ol("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.js.enqueueRetryable((function(){return e.ti(t)})),e.isPrimary=t}))}},{key:"ai",value:function(e){var t=this;return Om(e).get("owner").next((function(e){return Yl.resolve(t.di(e))}))}},{key:"_i",value:function(e){return Dm(e).delete(this.clientId)}},{key:"wi",value:function(){var e=Ir(br().mark((function e(){var t,n,r,i,a=this;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.mi(this.Zs,18e5)){e.next=6;break}return this.Zs=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Zp(e,"clientMetadata");return t.K().next((function(e){var n=a.gi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Yl.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.si){n=Cr(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.si.removeItem(this.yi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ui",value:function(){var e=this;this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ii().then((function(){return e.wi()})).then((function(){return e.ui()}))}))}},{key:"di",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"hi",value:function(e){var t=this;return this.zs?Yl.resolve(!0):Om(e).get("owner").next((function(n){if(null!==n&&t.mi(n.leaseTimestampMs,5e3)&&!t.pi(n.ownerId)){if(t.di(n)&&t.networkEnabled)return!0;if(!t.di(n)){if(!n.allowTabSynchronization)throw new pl(dl.FAILED_PRECONDITION,Nm);return!1}}return!(!t.networkEnabled||!t.inForeground)||Dm(e).K().next((function(e){return void 0===t.gi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&ol("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Ir(br().mark((function e(){var t=this;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.vs=!1,this.Ii(),this.Xs&&(this.Xs.cancel(),this.Xs=null),this.Ti(),this.Ei(),e.next=7,this.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Xp(e,uf.ot);return t.li(n).next((function(){return t._i(n)}))}));case 7:this.ni.close(),this.Ai();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"gi",value:function(e,t){var n=this;return e.filter((function(e){return n.mi(e.updateTimeMs,t)&&!n.pi(e.clientId)}))}},{key:"Ri",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Dm(t).K().next((function(t){return e.gi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.vs}},{key:"getMutationQueue",value:function(e,t){return Wv.se(e,this.wt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new Pv(e,this.wt.ne.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return gv.se(this.wt,e)}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;ol("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=15===(i=this.Hs)?Jp:14===i?Yp:13===i?Qp:12===i?Gp:11===i?Hp:void ll();return this.ni.runTransaction(e,o,s,(function(i){return a=new Xp(i,r.Ps?r.Ps.next():uf.ot),"readwrite-primary"===t?r.ai(a).next((function(e){return!!e||r.hi(a)})).next((function(t){if(!t)throw sl("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.js.enqueueRetryable((function(){return r.ti(!1)})),new pl(dl.FAILED_PRECONDITION,Kl);return n(a)})).next((function(e){return r.fi(a).next((function(){return e}))})):r.bi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"bi",value:function(e){var t=this;return Om(e).get("owner").next((function(e){if(null!==e&&t.mi(e.leaseTimestampMs,5e3)&&!t.pi(e.ownerId)&&!t.di(e)&&!(t.zs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new pl(dl.FAILED_PRECONDITION,Nm)}))}},{key:"fi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Om(e).put("owner",t)}},{key:"li",value:function(e){var t=this,n=Om(e);return n.get("owner").next((function(e){return t.di(e)?(ol("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Yl.resolve()}))}},{key:"mi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(sl("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=function(){e.js.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ii()}))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ti",value:function(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}},{key:"oi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=function(){t.Ii(),!Qr()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.js.enterRestrictedMode(!0),t.js.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Js))}},{key:"Ei",value:function(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}},{key:"pi",value:function(e){var t;try{var n=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return ol("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return sl("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ii",value:function(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(to){sl("Failed to set zombie client id.",to)}}},{key:"Ai",value:function(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(to){}}},{key:"yi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"V",value:function(){return Xl.V()}}]),e}();function Om(e){return Zp(e,"owner")}function Dm(e){return Zp(e,"clientMetadata")}function Pm(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Lm=function(){function e(t,n,r,i){Sr(this,e),this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=i}return Ar(e,null,[{key:"Vi",value:function(t,n){var r,i=Pd(),a=Pd(),o=Cr(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Mm=function(){function e(){Sr(this,e),this.Si=!1}return Ar(e,[{key:"initialize",value:function(e,t){this.Di=e,this.indexManager=t,this.Si=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ci(e,t).next((function(a){return a||i.xi(e,t,r,n)})).next((function(n){return n||i.Ni(e,t)}))}},{key:"Ci",value:function(e,t){return Yl.resolve(null)}},{key:"xi",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(Nl.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next((function(a){var o=i.ki(t,a);return i.Oi(t,o,n,r)?i.Ni(e,t):(al()<=yi.DEBUG&&ol("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Lh(t)),i.Mi(e,o,t,Bl(r,-1)))}))}},{key:"ki",value:function(e,t){var n=new vf(Fh(e));return t.forEach((function(t,r){Mh(e,r)&&(n=n.add(r))})),n}},{key:"Oi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ni",value:function(e,t){return al()<=yi.DEBUG&&ol("QueryEngine","Using full collection scan to execute query:",Lh(t)),this.Di.getDocumentsMatchingQuery(e,t,ql.min())}},{key:"Mi",value:function(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),jm=function(){function e(t,n,r,i){Sr(this,e),this.persistence=t,this.Fi=n,this.wt=i,this.$i=new hf(Sl),this.Bi=new _d((function(e){return ih(e)}),ah),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}return Ar(e,[{key:"qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mm(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.$i)}))}}]),e}();function Fm(e,t,n,r){return new jm(e,t,n,r)}function Um(e,t){return Vm.apply(this,arguments)}function Vm(){return Vm=Ir(br().mark((function e(t,n){var r;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hl(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Pd(),u=Cr(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Cr(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=Cr(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Cr(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{Ki:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Vm.apply(this,arguments)}function Bm(e,t){var n=hl(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Yl.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);fl(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Pd(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function zm(e){var t=hl(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Vs.getLastRemoteSnapshotVersion(e)}))}function qm(e,t){var n=hl(e),r=t.snapshotVersion,i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Vs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Vs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(kf.EMPTY_BYTE_STRING,Nl.min()).withLastLimboFreeSnapshotVersion(Nl.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Vs.updateTargetData(e,c))}}));var s=Ed(),u=Pd();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Wm(e,a,t.documentUpdates).next((function(e){s=e.Gi,u=e.Qi}))),!r.isEqual(Nl.min())){var c=n.Vs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Yl.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.$i=i,e}))}function Wm(e,t,n){var r=Pd(),i=Pd();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Ed();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Nl.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):ol("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Gi:r,Qi:i}}))}function Km(e,t){var n=hl(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Hm(e,t){var n=hl(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Vs.getTargetData(e,t).next((function(i){return i?(r=i,Yl.resolve(r)):n.Vs.allocateTargetId(e).next((function(i){return r=new nv(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e}))}function Gm(e,t,n){return Qm.apply(this,arguments)}function Qm(){return Qm=Ir(br().mark((function e(t,n,r){var i,a,o;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=hl(t),a=i.$i.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),ef(e.t1)){e.next=12;break}throw e.t1;case 12:ol("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.$i=i.$i.remove(n),i.Bi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Qm.apply(this,arguments)}function Ym(e,t,n){var r=hl(e),i=Nl.min(),a=Pd();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=hl(e),i=r.Bi.get(n);return void 0!==i?Yl.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,Rh(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Fi.getDocumentsMatchingQuery(e,t,n?i:Nl.min(),n?a:Pd())})).next((function(e){return Zm(r,jh(t),e),{documents:e,ji:a}}))}))}function Jm(e,t){var n=hl(e),r=hl(n.Vs),i=n.$i.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.te(e,t).next((function(e){return e?e.target:null}))}))}function Xm(e,t){var n=hl(e),r=n.Li.get(t)||Nl.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Ui.getAllFromCollectionGroup(e,t,Bl(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Zm(n,t,e),e}))}function Zm(e,t,n){var r=Nl.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Li.set(t,r)}function $m(e,t,n,r){return ey.apply(this,arguments)}function ey(){return ey=Ir(br().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=hl(t),o=Pd(),s=Ed(),u=Cr(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.Wi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.zi(l)).setReadTime(n.Hi(l.metadata.readTime)),s=s.insert(f,h)}catch(v){u.e(v)}finally{u.f()}return d=a.Ui.newChangeBuffer({trackRemovals:!0}),e.next=7,Hm(a,function(e){return Rh(Sh(Ol.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Wm(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.Vs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Vs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Gi,t.Qi)})).next((function(){return t.Gi}))}))})));case 9:case"end":return e.stop()}}),e)}))),ey.apply(this,arguments)}function ty(e,t){return ny.apply(this,arguments)}function ny(){return ny=Ir(br().mark((function e(t,n){var r,i,a,o=arguments;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Pd(),e.next=3,Hm(t,Rh(fv(n.bundledQuery)));case 3:return i=e.sent,a=hl(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Zd(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ds.saveNamedQuery(e,n);var o=i.withResumeToken(kf.EMPTY_BYTE_STRING,t);return a.$i=a.$i.insert(o.targetId,o),a.Vs.updateTargetData(e,o).next((function(){return a.Vs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Vs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),ny.apply(this,arguments)}function ry(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function iy(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function ay(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var oy=function(){function e(t,n,r,i){Sr(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Ar(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new pl(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(sl("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),sy=function(){function e(t,n,r){Sr(this,e),this.targetId=t,this.state=n,this.error=r}return Ar(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new pl(i.error.code,i.error.message))),a?new e(t,i.state,r):(sl("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),uy=function(){function e(t,n){Sr(this,e),this.clientId=t,this.activeTargetIds=n}return Ar(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Md(),o=0;i&&o<r.activeTargetIds.length;++o)i=Rf(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(sl("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),cy=function(){function e(t,n){Sr(this,e),this.clientId=t,this.onlineState=n}return Ar(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(sl("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),ly=function(){function e(){Sr(this,e),this.activeTargetIds=Md()}return Ar(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),fy=function(){function e(t,n,r,i,a){Sr(this,e),this.window=t,this.js=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new hf(Sl),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=ry(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new ly),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.ar=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return Ar(e,[{key:"start",value:function(){var e=Ir(br().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ri();case 2:t=e.sent,n=Cr(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(ry(this.persistenceKey,i)))&&(o=uy.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(s=this.storage.getItem(this.lr))&&(u=this.wr(s))&&this.mr(u),c=Cr(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(d){c.e(d)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(ay(this.persistenceKey,e));if(n){var r=sy.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(ay(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return ol("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){ol("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){ol("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(ol("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void sl("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable(Ir(br().mark((function e(){var r,i,a,o,s,u,c;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.ar.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(s));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}u=function(e){var t=uf.ot;if(null!=e)try{var n=JSON.parse(e);fl("number"==typeof n),t=n}catch(e){sl("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==uf.ot&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new oy(this.currentUser,e,t,n),i=iy(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=iy(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=ay(this.persistenceKey,e),i=new sy(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return uy.Ji(n,t)}},{key:"vr",value:function(e,t){var n=this.ar.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return oy.Ji(new nl(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return sy.Ji(r,t)}},{key:"wr",value:function(e){return cy.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"Vr",value:function(){var e=Ir(br().mark((function e(t){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:ol("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Mr(o,s).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=Md();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"V",value:function(e){return!(!e||!e.localStorage)}}]),e}(),hy=function(){function e(){Sr(this,e),this.Fr=new ly,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Ar(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new ly,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),dy=function(){function e(){Sr(this,e)}return Ar(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),py=function(){function e(){var t=this;Sr(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Kr()},this.Gr=[],this.Qr()}return Ar(e,[{key:"Br",value:function(e){this.Gr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){ol("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Cr(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Kr",value:function(){ol("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Cr(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"V",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),vy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},my=function(){function e(t){Sr(this,e),this.jr=t.jr,this.Wr=t.Wr}return Ar(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),yy=function(e){Or(n,e);var t=Mr(n);function n(e){var r;return Sr(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Ar(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new el;o.listenOnce(Yc.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Qc.NO_ERROR:var t=o.getResponseJson();ol("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Qc.TIMEOUT:ol("Connection",'RPC "'+e+'" timed out'),a(new pl(dl.DEADLINE_EXCEEDED,"Request time out"));break;case Qc.HTTP_ERROR:var n=o.getStatus();if(ol("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(dl).indexOf(t)>=0?t:dl.UNKNOWN}(r.status);a(new pl(s,r.message))}else a(new pl(dl.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new pl(dl.UNAVAILABLE,"Connection failed."));break;default:ll()}}finally{ol("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Hc(),a=Gc(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Zc({})),this.uo(o.initMessageHeaders,t,n),Gr()||Jr()||Hr().indexOf("Electron/")>=0||Xr()||Hr().indexOf("MSAppHost/")>=0||Yr()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");ol("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new my({jr:function(e){l?ol("Connection","Not sending because WebChannel is closed:",e):(c||(ol("Connection","Opening WebChannel transport."),u.open(),c=!0),ol("Connection","WebChannel sending:",e),u.send(e))},Wr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,$c.EventType.OPEN,(function(){l||ol("Connection","WebChannel transport opened.")})),h(u,$c.EventType.CLOSE,(function(){l||(l=!0,ol("Connection","WebChannel transport closed"),f.eo())})),h(u,$c.EventType.ERROR,(function(e){l||(l=!0,ul("Connection","WebChannel transport errored:",e),f.eo(new pl(dl.UNAVAILABLE,"The operation could not be completed")))})),h(u,$c.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];fl(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){ol("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=md[e];if(void 0!==t)return xd(t)}(a),s=i.message;void 0===o&&(o=dl.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new pl(o,s)),u.close()}else ol("Connection","WebChannel received:",n),f.no(n)}})),h(a,Jc.STAT_EVENT,(function(e){e.stat===Xc.PROXY?ol("Connection","Detected buffering proxy"):e.stat===Xc.NOPROXY&&ol("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){Sr(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Ar(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);ol("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.co(e,a,o,n).then((function(e){return ol("RestConnection","Received: ",e),e}),(function(t){throw ul("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ao",value:function(e,t,n,r,i){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+rl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=vy[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function gy(){return"undefined"!=typeof window?window:null}function ky(){return"undefined"!=typeof document?document:null}function by(e){return new Qd(e,!0)}var wy=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Sr(this,e),this.js=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return Ar(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&ol("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),xy=function(){function e(t,n,r,i,a,o,s,u){Sr(this,e),this.js=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new wy(t,n)}return Ar(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=Ir(br().mark((function e(){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Oo()})))}},{key:"Mo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Oo",value:function(){var e=Ir(br().mark((function e(){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=Ir(br().mark((function e(t,n){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===dl.RESOURCE_EXHAUSTED?(sl(n.toString()),sl("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===dl.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new pl(dl.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.Vo=n.js.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(Ir(br().mark((function t(){return br().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return ol("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.js.enqueueAndForget((function(){return t.Po===e?n():(ol("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),_y=function(e){Or(n,e);var t=Mr(n);function n(e,r,i,a,o,s){var u;return Sr(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).wt=o,u}return Ar(n,[{key:"Ko",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ll()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.dt?(fl(void 0===t||"string"==typeof t),kf.fromBase64String(t||"")):(fl(void 0===t||t instanceof Uint8Array),kf.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?dl.UNKNOWN:xd(e.code);return new pl(t,e.message||"")}(o);n=new Bd(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=np(e,u.document.name),l=Zd(u.document.updateTime),f=new $f({mapValue:{fields:u.document.fields}}),h=th.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new Ud(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=np(e,v.document),y=v.readTime?Zd(v.readTime):Nl.min(),g=th.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Ud([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=np(e,b.document),x=b.removedTargetIds||[];n=new Ud([],x,w,null)}else{if(!("filter"in t))return ll();t.filter;var _=t.filter;_.targetId;var I=_.count||0,E=new bd(I),S=_.targetId;n=new Vd(S,E)}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return Nl.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Nl.min():t.readTime?Zd(t.readTime):Nl.min()}(e);return this.listener.Go(t,n)}},{key:"Qo",value:function(e){var t={};t.database=ap(this.wt),t.addTarget=function(e,t){var n,r=t.target;return(n=oh(r)?{documents:hp(e,r)}:{query:dp(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Jd(e,t.resumeToken):t.snapshotVersion.compareTo(Nl.min())>0&&(n.readTime=Yd(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ll()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,e);n&&(t.labels=n),this.Mo(t)}},{key:"jo",value:function(e){var t={};t.database=ap(this.wt),t.removeTarget=e,this.Mo(t)}}]),n}(xy),Iy=function(e){Or(n,e);var t=Mr(n);function n(e,r,i,a,o,s){var u;return Sr(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).wt=o,u.Wo=!1,u}return Ar(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,Va(Dr(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Ko",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(fl(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(fl(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Zd(e.updateTime):Zd(t);return n.isEqual(Nl.min())&&(n=Zd(t)),new nd(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Zd(e.commitTime);return this.listener.Jo(n,t)}return fl(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=ap(this.wt),this.Mo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return lp(t.wt,e)}))};this.Mo(n)}}]),n}(xy),Ey=function(e){Or(n,e);var t=Mr(n);function n(e,r,i,a){var o;return Sr(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.wt=a,o.Zo=!1,o}return Ar(n,[{key:"tu",value:function(){if(this.Zo)throw new pl(dl.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],s=a[1];return r.bo.ro(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===dl.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new pl(dl.UNKNOWN,e.toString())}))}},{key:"ao",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],s=a[1];return r.bo.ao(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===dl.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new pl(dl.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return Ar((function e(){Sr(this,e)}))}()),Sy=function(){function e(t,n){Sr(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return Ar(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(sl(t),this.su=!1):ol("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),Ty=Ar((function e(t,n,r,i,a){var o=this;Sr(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(Ir(br().mark((function e(){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Fy(o),!e.t0){e.next=5;break}return ol("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Ir(br().mark((function e(t){var n;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=hl(t)).lu.add(4),e.next=4,Ny(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,Ay(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new Sy(r,i)}));function Ay(e){return Cy.apply(this,arguments)}function Cy(){return Cy=Ir(br().mark((function e(t){var n,r,i;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Fy(t)){e.next=18;break}n=Cr(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Cy.apply(this,arguments)}function Ny(e){return Ry.apply(this,arguments)}function Ry(){return Ry=Ir(br().mark((function e(t){var n,r,i;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Cr(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Ry.apply(this,arguments)}function Oy(e,t){var n=hl(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),jy(n)?My(n):dg(n).Co()&&Py(n,t))}function Dy(e,t){var n=hl(e),r=dg(n);n.hu.delete(t),r.Co()&&Ly(n,t),0===n.hu.size&&(r.Co()?r.ko():Fy(n)&&n._u.set("Unknown"))}function Py(e,t){e.wu.Nt(t.targetId),dg(e).Qo(t)}function Ly(e,t){e.wu.Nt(t),dg(e).jo(t)}function My(e){e.wu=new qd({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},te:function(t){return e.hu.get(t)||null}}),dg(e).start(),e._u.iu()}function jy(e){return Fy(e)&&!dg(e).Do()&&e.hu.size>0}function Fy(e){return 0===hl(e).lu.size}function Uy(e){e.wu=void 0}function Vy(e){return By.apply(this,arguments)}function By(){return By=Ir(br().mark((function e(t){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){Py(t,e)}));case 1:case"end":return e.stop()}}),e)}))),By.apply(this,arguments)}function zy(e,t){return qy.apply(this,arguments)}function qy(){return qy=Ir(br().mark((function e(t,n){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Uy(t),jy(t)?(t._u.uu(n),My(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),qy.apply(this,arguments)}function Wy(e,t,n){return Ky.apply(this,arguments)}function Ky(){return Ky=Ir(br().mark((function e(t,n,r){var i;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof Bd&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Ir(br().mark((function e(t,n){var r,i,a,o;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Cr(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),ol("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Hy(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Ud?t.wu.Ut(n):n instanceof Vd?t.wu.zt(n):t.wu.Gt(n),r.isEqual(Nl.min())){e.next=29;break}return e.prev=14,e.next=17,zm(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.Yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(kf.EMPTY_BYTE_STRING,n.snapshotVersion)),Ly(e,t);var r=new nv(n.target,t,1,n.sequenceNumber);Py(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),ol("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Hy(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Ky.apply(this,arguments)}function Hy(e,t,n){return Gy.apply(this,arguments)}function Gy(){return Gy=Ir(br().mark((function e(t,n,r){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ef(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,Ny(t);case 5:t._u.set("Offline"),r||(r=function(){return zm(t.localStore)}),t.asyncQueue.enqueueRetryable(Ir(br().mark((function e(){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ol("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,Ay(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Gy.apply(this,arguments)}function Qy(e,t){return t().catch((function(n){return Hy(e,n,t)}))}function Yy(e){return Jy.apply(this,arguments)}function Jy(){return Jy=Ir(br().mark((function e(t){var n,r,i,a;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=hl(t),r=pg(n),i=n.au.length>0?n.au[n.au.length-1].batchId:-1;case 2:if(!Xy(n)){e.next=19;break}return e.prev=3,e.next=6,Km(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.au.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,Zy(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Hy(n,e.t0);case 17:e.next=2;break;case 19:$y(n)&&eg(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Jy.apply(this,arguments)}function Xy(e){return Fy(e)&&e.au.length<10}function Zy(e,t){e.au.push(t);var n=pg(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function $y(e){return Fy(e)&&!pg(e).Do()&&e.au.length>0}function eg(e){pg(e).start()}function tg(e){return ng.apply(this,arguments)}function ng(){return ng=Ir(br().mark((function e(t){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pg(t).Xo();case 1:case"end":return e.stop()}}),e)}))),ng.apply(this,arguments)}function rg(e){return ig.apply(this,arguments)}function ig(){return ig=Ir(br().mark((function e(t){var n,r,i,a;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=pg(t),r=Cr(t.au);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),ig.apply(this,arguments)}function ag(e,t,n){return og.apply(this,arguments)}function og(){return og=Ir(br().mark((function e(t,n,r){var i,a;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.au.shift(),a=ev.from(i,n,r),e.next=3,Qy(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Yy(t);case 5:case"end":return e.stop()}}),e)}))),og.apply(this,arguments)}function sg(e,t){return ug.apply(this,arguments)}function ug(){return ug=Ir(br().mark((function e(t,n){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&pg(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Ir(br().mark((function e(t,n){var r,i;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!wd(i=n.code)||i===dl.ABORTED){e.next=7;break}return r=t.au.shift(),pg(t).No(),e.next=5,Qy(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Yy(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:$y(t)&&eg(t);case 5:case"end":return e.stop()}}),e)}))),ug.apply(this,arguments)}function cg(e,t){return lg.apply(this,arguments)}function lg(){return lg=Ir(br().mark((function e(t,n){var r,i;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=hl(t)).asyncQueue.verifyOperationInProgress(),ol("RemoteStore","RemoteStore received new credentials"),i=Fy(r),r.lu.add(3),e.next=6,Ny(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,Ay(r);case 12:case"end":return e.stop()}}),e)}))),lg.apply(this,arguments)}function fg(e,t){return hg.apply(this,arguments)}function hg(){return hg=Ir(br().mark((function e(t,n){var r;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=hl(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,Ay(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,Ny(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),hg.apply(this,arguments)}function dg(e){return e.mu||(e.mu=function(e,t,n){var r=hl(e);return r.tu(),new _y(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:Vy.bind(null,e),Jr:zy.bind(null,e),Go:Wy.bind(null,e)}),e.fu.push(function(){var t=Ir(br().mark((function t(n){return br().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),jy(e)?My(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:Uy(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function pg(e){return e.gu||(e.gu=function(e,t,n){var r=hl(e);return r.tu(),new Iy(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:tg.bind(null,e),Jr:sg.bind(null,e),Yo:rg.bind(null,e),Jo:ag.bind(null,e)}),e.fu.push(function(){var t=Ir(br().mark((function t(n){return br().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,Yy(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.au.length>0&&(ol("RemoteStore","Stopping write stream with ".concat(e.au.length," pending writes")),e.au=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var vg=function(){function e(t,n,r,i,a){Sr(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new vl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Ar(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new pl(dl.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function mg(e,t){if(sl("AsyncQueue","".concat(t,": ").concat(e)),ef(e))return new pl(dl.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var yg=function(){function e(t){Sr(this,e),this.comparator=t?function(e,n){return t(e,n)||Ll.comparator(e.key,n.key)}:function(e,t){return Ll.comparator(e.key,t.key)},this.keyedMap=Td(),this.sortedSet=new hf(this.comparator)}return Ar(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),gg=function(){function e(){Sr(this,e),this.yu=new hf(Ll.comparator)}return Ar(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):ll():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),kg=function(){function e(t,n,r,i,a,o,s,u){Sr(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return Ar(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,yg.emptySet(n),a,r,i,!0,!1)}}]),e}(),bg=Ar((function e(){Sr(this,e),this.Iu=void 0,this.listeners=[]})),wg=Ar((function e(){Sr(this,e),this.queries=new _d((function(e){return Ph(e)}),Dh),this.onlineState="Unknown",this.Tu=new Set}));function xg(e,t){return _g.apply(this,arguments)}function _g(){return _g=Ir(br().mark((function e(t,n){var r,i,a,o,s;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=hl(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new bg),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=mg(e.t0,"Initialization of query '".concat(Lh(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&Ag(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),_g.apply(this,arguments)}function Ig(e,t){return Eg.apply(this,arguments)}function Eg(){return Eg=Ir(br().mark((function e(t,n){var r,i,a,o,s;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=hl(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Eg.apply(this,arguments)}function Sg(e,t){var n,r=hl(e),i=!1,a=Cr(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=Cr(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&Ag(r)}function Tg(e,t,n){var r=hl(e),i=r.queries.get(t);if(i){var a,o=Cr(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Ag(e){e.Tu.forEach((function(e){e.next()}))}var Cg=function(){function e(t,n,r){Sr(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return Ar(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Cr(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new kg(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),a=!0):this.Vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"Vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=kg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),Ng=function(){function e(t,n){Sr(this,e),this.payload=t,this.byteLength=n}return Ar(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),Rg=function(){function e(t){Sr(this,e),this.wt=t}return Ar(e,[{key:"Wi",value:function(e){return np(this.wt,e)}},{key:"zi",value:function(e){return e.metadata.exists?up(this.wt,e.document,!1):th.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}},{key:"Hi",value:function(e){return Zd(e)}}]),e}(),Og=function(){function e(t,n,r){Sr(this,e),this.xu=t,this.localStore=n,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Dg(t)}return Ar(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=Ol.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new Rg(this.wt),i=Cr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Wi(a.metadata.name),u=Cr(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||Pd()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Ir(br().mark((function e(){var t,n,r,i,a;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$m(this.localStore,new Rg(this.wt),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=Cr(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,ty(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Ou:this.collectionGroups,Mu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Dg(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Pg=Ar((function e(t){Sr(this,e),this.key=t})),Lg=Ar((function e(t){Sr(this,e),this.key=t})),Mg=function(){function e(t,n){Sr(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=Pd(),this.mutatedKeys=Pd(),this.Lu=Fh(t),this.Uu=new yg(this.Lu)}return Ar(e,[{key:"qu",get:function(){return this.Fu}},{key:"Ku",value:function(e,t){var n=this,r=t?t.Gu:new gg,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Mh(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Lu(f,u)>0||c&&n.Lu(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Gu:r,Oi:s,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Gu.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ll()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],s=0===this.Bu.size&&this.current?1:0,u=s!==this.$u;return this.$u=s,0!==a.length||u?{snapshot:new kg(this.query,e.Uu,i,a,e.mutatedKeys,0===s,u,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new gg,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=Pd(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new Lg(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new Pg(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.ji,this.Bu=Pd();var t=this.Ku(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return kg.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),jg=Ar((function e(t,n,r){Sr(this,e),this.query=t,this.targetId=n,this.view=r})),Fg=Ar((function e(t){Sr(this,e),this.key=t,this.Xu=!1})),Ug=function(){function e(t,n,r,i,a,o){Sr(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new _d((function(e){return Ph(e)}),Dh),this.ec=new Map,this.nc=new Set,this.sc=new hf(Ll.comparator),this.ic=new Map,this.rc=new km,this.oc={},this.uc=new Map,this.cc=Yv.Rn(),this.onlineState="Unknown",this.ac=void 0}return Ar(e,[{key:"isPrimaryClient",get:function(){return!0===this.ac}}]),e}();function Vg(e,t){return Bg.apply(this,arguments)}function Bg(){return Bg=Ir(br().mark((function e(t,n){var r,i,a,o,s,u;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Dk(t),!(o=r.tc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,Hm(r.localStore,Rh(n));case 8:return s=e.sent,r.isPrimaryClient&&Oy(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,zg(r,n,i,"current"===u);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Bg.apply(this,arguments)}function zg(e,t,n,r){return qg.apply(this,arguments)}function qg(){return qg=Ir(br().mark((function e(t,n,r,i){var a,o,s,u,c,l;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hc=function(e,n,r){return function(){var e=Ir(br().mark((function e(t,n,r,i){var a,o,s;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ku(r),e.t0=a.Oi,!e.t0){e.next=6;break}return e.next=5,Ym(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ku(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(ck(t,n.targetId,s.zu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Ym(t.localStore,n,!0);case 3:return a=e.sent,o=new Mg(n,a.ji),s=o.Ku(a.documents),u=Fd.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),ck(t,r,c.zu),l=new jg(n,r,o),e.abrupt("return",(t.tc.set(n,l),t.ec.has(r)?t.ec.get(r).push(n):t.ec.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),qg.apply(this,arguments)}function Wg(e,t){return Kg.apply(this,arguments)}function Kg(){return Kg=Ir(br().mark((function e(t,n){var r,i,a;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=hl(t),i=r.tc.get(n),!((a=r.ec.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ec.set(i.targetId,a.filter((function(e){return!Dh(e,n)}))),void r.tc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Gm(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Dy(r.remoteStore,i.targetId),sk(r,i.targetId)})).catch(Gl);case 9:e.next=14;break;case 11:return sk(r,i.targetId),e.next=14,Gm(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Kg.apply(this,arguments)}function Hg(e,t,n){return Gg.apply(this,arguments)}function Gg(){return Gg=Ir(br().mark((function e(t,n,r){var i,a,o;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pk(t),e.prev=1,e.next=4,function(e,t){var n,r,i=hl(e),a=Cl.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Pd());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=Ed(),u=Pd();return i.Ui.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=Cr(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=cd(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new hd(c.key,l,eh(l.value.mapValue),rd.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Ad(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oc[e.currentUser.toKey()];r||(r=new hf(Sl)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,hk(i,a.changes);case 9:return e.next=11,Yy(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=mg(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Gg.apply(this,arguments)}function Qg(e,t){return Yg.apply(this,arguments)}function Yg(){return Yg=Ir(br().mark((function e(t,n){var r,i;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hl(t),e.prev=1,e.next=4,qm(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ic.get(t);n&&(fl(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?fl(n.Xu):e.removedDocuments.size>0&&(fl(n.Xu),n.Xu=!1))})),e.next=8,hk(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Gl(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Yg.apply(this,arguments)}function Jg(e,t,n){var r=hl(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.tc.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=hl(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Cr(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Ag(n)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Xg(e,t,n){return Zg.apply(this,arguments)}function Zg(){return Zg=Ir(br().mark((function e(t,n,r){var i,a,o,s,u,c;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=hl(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ic.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new hf(Ll.comparator)).insert(o,th.newNoDocument(o,Nl.min())),u=Pd().add(o),c=new jd(Nl.min(),new Map,new vf(Sl),s,u),e.next=9,Qg(i,c);case 9:i.sc=i.sc.remove(o),i.ic.delete(n),fk(i),e.next=16;break;case 14:return e.next=16,Gm(i.localStore,n,!1).then((function(){return sk(i,n,r)})).catch(Gl);case 16:case"end":return e.stop()}}),e)}))),Zg.apply(this,arguments)}function $g(e,t){return ek.apply(this,arguments)}function ek(){return ek=Ir(br().mark((function e(t,n){var r,i,a;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hl(t),i=n.batch.batchId,e.prev=1,e.next=4,Bm(r.localStore,n);case 4:return a=e.sent,ok(r,i,null),ak(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,hk(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Gl(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),ek.apply(this,arguments)}function tk(e,t,n){return nk.apply(this,arguments)}function nk(){return nk=Ir(br().mark((function e(t,n,r){var i,a;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hl(t),e.prev=1,e.next=4,function(e,t){var n=hl(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return fl(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,ok(i,n,r),ak(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,hk(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Gl(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),nk.apply(this,arguments)}function rk(e,t){return ik.apply(this,arguments)}function ik(){return ik=Ir(br().mark((function e(t,n){var r,i,a,o;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fy((r=hl(t)).remoteStore)||ol("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=hl(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.uc.get(i)||[]).push(n),r.uc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=mg(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),ik.apply(this,arguments)}function ak(e,t){(e.uc.get(t)||[]).forEach((function(e){e.resolve()})),e.uc.delete(t)}function ok(e,t,n){var r=hl(e),i=r.oc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function sk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Cr(e.ec.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.tc.delete(a),n&&e.Zu.lc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach((function(t){e.rc.containsKey(t)||uk(e,t)}))}function uk(e,t){e.nc.delete(t.path.canonicalString());var n=e.sc.get(t);null!==n&&(Dy(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),fk(e))}function ck(e,t,n){var r,i=Cr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Pg?(e.rc.addReference(a.key,t),lk(e,a)):a instanceof Lg?(ol("SyncEngine","Document no longer in limbo: "+a.key),e.rc.removeReference(a.key,t),e.rc.containsKey(a.key)||uk(e,a.key)):ll()}}catch(o){i.e(o)}finally{i.f()}}function lk(e,t){var n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(ol("SyncEngine","New document in limbo: "+n),e.nc.add(r),fk(e))}function fk(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){var t=e.nc.values().next().value;e.nc.delete(t);var n=new Ll(Ol.fromString(t)),r=e.cc.next();e.ic.set(r,new Fg(n)),e.sc=e.sc.insert(n,r),Oy(e.remoteStore,new nv(Rh(Sh(n.path)),r,2,uf.ot))}}function hk(e,t,n){return dk.apply(this,arguments)}function dk(){return dk=Ir(br().mark((function e(t,n,r){var i,a,o,s;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=hl(t),a=[],o=[],s=[],e.t0=i.tc.isEmpty(),e.t0){e.next=9;break}return i.tc.forEach((function(e,t){s.push(i.hc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Lm.Vi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Zu.Go(a),e.next=9,function(){var e=Ir(br().mark((function e(t,n){var r,i,a,o,s,u,c,l;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hl(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Yl.forEach(n,(function(t){return Yl.forEach(t.Pi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Yl.forEach(t.vi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),ef(e.t0)){e.next=10;break}throw e.t0;case 10:ol("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Cr(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.$i.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.$i=r.$i.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),dk.apply(this,arguments)}function pk(e,t){return vk.apply(this,arguments)}function vk(){return vk=Ir(br().mark((function e(t,n){var r,i;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=hl(t)).currentUser.isEqual(n)){e.next=11;break}return ol("SyncEngine","User change. New user:",n.toKey()),e.next=5,Um(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.uc.forEach((function(e){e.forEach((function(e){e.reject(new pl(dl.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.uc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,hk(r,i.Ki);case 11:case"end":return e.stop()}}),e)}))),vk.apply(this,arguments)}function mk(e,t){var n=hl(e),r=n.ic.get(t);if(r&&r.Xu)return Pd().add(r.key);var i=Pd(),a=n.ec.get(t);if(!a)return i;var o,s=Cr(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.tc.get(u);i=i.unionWith(c.view.qu)}}catch(l){s.e(l)}finally{s.f()}return i}function yk(e,t){return gk.apply(this,arguments)}function gk(){return gk=Ir(br().mark((function e(t,n){var r,i,a;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hl(t),e.next=3,Ym(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&ck(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),gk.apply(this,arguments)}function kk(e,t){return bk.apply(this,arguments)}function bk(){return bk=Ir(br().mark((function e(t,n){var r;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hl(t),e.abrupt("return",Xm(r.localStore,n).then((function(e){return hk(r,e)})));case 2:case"end":return e.stop()}}),e)}))),bk.apply(this,arguments)}function wk(e,t,n,r){return xk.apply(this,arguments)}function xk(){return xk=Ir(br().mark((function e(t,n,r,i){var a,o;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=hl(t),e.next=3,function(e,t){var n=hl(e),r=hl(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.yn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Yl.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Yy(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(ok(a,n,i||null),ak(a,n),function(e,t){hl(hl(e).mutationQueue).In(t)}(a.localStore,n)):ll();case 11:return e.next=13,hk(a,o);case 13:e.next=16;break;case 15:ol("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),xk.apply(this,arguments)}function _k(e,t){return Ik.apply(this,arguments)}function Ik(){return Ik=Ir(br().mark((function e(t,n){var r,i,a,o,s,u,c,l;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Dk(r=hl(t)),Pk(r),!0!==n||!0===r.ac){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Ek(r,i.toArray());case 5:return a=e.sent,r.ac=!0,e.next=9,fg(r.remoteStore,!0);case 9:o=Cr(a);try{for(o.s();!(s=o.n()).done;)u=s.value,Oy(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ac){e.next=25;break}return c=[],l=Promise.resolve(),r.ec.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return sk(r,t),Gm(r.localStore,t,!0)})),Dy(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Ek(r,c);case 21:return function(e){var t=hl(e);t.ic.forEach((function(e,n){Dy(t.remoteStore,n)})),t.rc.cs(),t.ic=new Map,t.sc=new hf(Ll.comparator)}(r),r.ac=!1,e.next=25,fg(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Ik.apply(this,arguments)}function Ek(e,t,n){return Sk.apply(this,arguments)}function Sk(){return Sk=Ir(br().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,y;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=hl(t),a=[],o=[],s=Cr(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.ec.get(c))||0===f.length){e.next=34;break}return e.next=11,Hm(i.localStore,Rh(f[0]));case 11:l=e.sent,h=Cr(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.tc.get(p),e.next=20,yk(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Jm(i.localStore,c);case 36:return y=e.sent,e.next=39,Hm(i.localStore,y);case 39:return l=e.sent,e.next=42,zg(i,Tk(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Go(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Sk.apply(this,arguments)}function Tk(e){return Eh(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Ak(e){var t=hl(e);return hl(hl(t.localStore).persistence).Ri()}function Ck(e,t,n,r){return Nk.apply(this,arguments)}function Nk(){return Nk=Ir(br().mark((function e(t,n,r,i){var a,o,s,u;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=hl(t)).ac){e.next=3;break}return e.abrupt("return",void ol("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ec.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Xm(a.localStore,jh(o[0]));case 10:return s=e.sent,u=jd.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,hk(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,Gm(a.localStore,n,!0);case 17:return sk(a,n,i),e.abrupt("break",20);case 19:ll();case 20:case"end":return e.stop()}}),e)}))),Nk.apply(this,arguments)}function Rk(e,t,n){return Ok.apply(this,arguments)}function Ok(){return Ok=Ir(br().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Dk(t)).ac){e.next=45;break}a=Cr(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.ec.has(s)){e.next=10;break}return ol("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,Jm(i.localStore,s);case 12:return u=e.sent,e.next=15,Hm(i.localStore,u);case 15:return c=e.sent,e.next=18,zg(i,Tk(u),c.targetId,!1);case 18:Oy(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Cr(r),e.prev=30,h=br().mark((function e(){var t;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ec.has(t),!e.t0){e.next=5;break}return e.next=5,Gm(i.localStore,t,!1).then((function(){Dy(i.remoteStore,t),sk(i,t)})).catch(Gl);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Ok.apply(this,arguments)}function Dk(e){var t=hl(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Qg.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=mk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Xg.bind(null,t),t.Zu.Go=Sg.bind(null,t.eventManager),t.Zu.lc=Tg.bind(null,t.eventManager),t}function Pk(e){var t=hl(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$g.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tk.bind(null,t),t}function Lk(e,t,n){var r=hl(e);(function(){var e=Ir(br().mark((function e(t,n,r){var i,a,o,s,u;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=hl(e),r=Zd(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(Dg(i)),a=new Og(i,t.localStore,n.wt),e.next=15,n.fc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.fc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,hk(t,u.Mu,void 0);case 31:return e.next=33,function(e,t){var n=hl(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Ou));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(ul("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var Mk=function(){function e(){Sr(this,e),this.synchronizeTabs=!1}return Ar(e,[{key:"initialize",value:function(){var e=Ir(br().mark((function e(t){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.wt=by(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),e.next=5,this.persistence.start();case 5:this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e,t){return null}},{key:"gc",value:function(e,t){return null}},{key:"wc",value:function(e){return Fm(this.persistence,new Mm,e.initialUser,this.wt)}},{key:"_c",value:function(e){return new Em(Tm.Ms,this.wt)}},{key:"dc",value:function(e){return new hy}},{key:"terminate",value:function(){var e=Ir(br().mark((function e(){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),jk=function(e){Or(n,e);var t=Mr(n);function n(e,r,i){var a;return Sr(this,n),(a=t.call(this)).yc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Ar(n,[{key:"initialize",value:function(){var e=Ir(br().mark((function e(t){var r=this;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Va(Dr(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.yc.initialize(this,t);case 4:return e.next=6,Pk(this.yc.syncEngine);case 6:return e.next=8,Yy(this.yc.remoteStore);case 8:return e.next=10,this.persistence.ci((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wc",value:function(e){return Fm(this.persistence,new Mm,e.initialUser,this.wt)}},{key:"mc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new nm(n,e.asyncQueue,t)}},{key:"gc",value:function(e,t){var n=new sf(t,this.persistence);return new of(e.asyncQueue,n)}},{key:"_c",value:function(e){var t=Pm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Bv.withCacheSize(this.cacheSizeBytes):Bv.DEFAULT;return new Rm(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,gy(),ky(),this.wt,this.sharedClientState,!!this.forceOwnership)}},{key:"dc",value:function(e){return new hy}}]),n}(Mk),Fk=function(e){Or(n,e);var t=Mr(n);function n(e,r){var i;return Sr(this,n),(i=t.call(this,e,r,!1)).yc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Ar(n,[{key:"initialize",value:function(){var e=Ir(br().mark((function e(t){var r,i=this;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Va(Dr(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.yc.syncEngine,e.t0=this.sharedClientState instanceof fy,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:wk.bind(null,r),Or:Ck.bind(null,r),Mr:Rk.bind(null,r),Ri:Ak.bind(null,r),Nr:kk.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.ci(function(){var e=Ir(br().mark((function e(t){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_k(i.yc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dc",value:function(e){var t=gy();if(!fy.V(t))throw new pl(dl.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Pm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new fy(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(jk),Uk=function(){function e(){Sr(this,e)}return Ar(e,[{key:"initialize",value:function(){var e=Ir(br().mark((function e(t,n){var r=this;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Jg(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=pk.bind(null,this.syncEngine),e.next=12,fg(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new wg}},{key:"createDatastore",value:function(e){var t,n=by(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new yy(t));return function(e,t,n,r){return new Ey(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Jg(o.syncEngine,e,0)},a=py.V()?new py:new dy,new Ty(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new Ug(e,t,n,r,i,a);return o&&(s.ac=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Ir(br().mark((function e(t){var n;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=hl(t),ol("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,Ny(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Vk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Ir(br().mark((function r(){var i;return br().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Ir(br().mark((function e(){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Bk=function(){function e(t){Sr(this,e),this.observer=t,this.muted=!1}return Ar(e,[{key:"next",value:function(e){this.observer.next&&this.Ic(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Tc",value:function(){this.muted=!0}},{key:"Ic",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),zk=function(){function e(t,n){var r=this;Sr(this,e),this.Ec=t,this.wt=n,this.metadata=new vl,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Ar(e,[{key:"close",value:function(){return this.Ec.cancel()}},{key:"getMetadata",value:function(){var e=Ir(br().mark((function e(){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fc",value:function(){var e=Ir(br().mark((function e(){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Rc",value:function(){var e=Ir(br().mark((function e(){var t,n,r,i;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ac.decode(t),r=Number(n),isNaN(r)&&this.Pc("length string (".concat(n,") is not valid number")),e.next=9,this.vc(r);case 9:return i=e.sent,e.abrupt("return",new Ng(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"bc",value:function(){var e=Ir(br().mark((function e(){var t,n;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Vc()<0)){e.next=7;break}return e.next=3,this.Sc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Vc())<0&&this.Pc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=Ir(br().mark((function e(t){var n;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Sc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ac.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Pc",value:function(e){throw this.Ec.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Sc",value:function(){var e=Ir(br().mark((function e(){var t,n;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ec.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),qk=function(){function e(t){Sr(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Ar(e,[{key:"lookup",value:function(){var e=Ir(br().mark((function e(t){var n,r=this;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new pl(dl.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Ir(br().mark((function e(t,n){var r,i,a,o,s,u;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hl(t),i=ap(r.wt)+"/documents",a={documents:n.map((function(e){return tp(r.wt,e)}))},e.next=5,r.ao("BatchGetDocuments",i,a);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=cp(r.wt,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());fl(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new gd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Ir(br().mark((function e(){var t,n=this;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Ll.fromPath(t);n.mutations.push(new kd(r,n.precondition(r)))})),e.next=7,function(){var e=Ir(br().mark((function e(t,n){var r,i,a;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hl(t),i=ap(r.wt)+"/documents",a={writes:n.map((function(e){return lp(r.wt,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ll();t=Nl.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new pl(dl.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?rd.updateTime(t):rd.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Nl.min()))throw new pl(dl.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rd.updateTime(t)}return rd.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Wk=function(){function e(t,n,r,i,a){Sr(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Dc=r.maxAttempts,this.So=new wy(this.asyncQueue,"transaction_retry")}return Ar(e,[{key:"run",value:function(){this.Dc-=1,this.Cc()}},{key:"Cc",value:function(){var e=this;this.So.Io(Ir(br().mark((function t(){var n,r;return br().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new qk(e.datastore),(r=e.xc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Nc(t)}))}))})).catch((function(t){e.Nc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"xc",value:function(e){try{var t=this.updateFunction(e);return!Cf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Nc",value:function(e){var t=this;this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Cc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!wd(t)}return!1}}]),e}(),Kk=function(){function e(t,n,r,i){var a=this;Sr(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=nl.UNAUTHENTICATED,this.clientId=El.I(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Ir(br().mark((function e(t){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ol("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return ol("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Ar(e,[{key:"getConfiguration",value:function(){var e=Ir(br().mark((function e(){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new pl(dl.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new vl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Ir(br().mark((function n(){var r;return br().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=mg(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Hk(e,t){return Gk.apply(this,arguments)}function Gk(){return Gk=Ir(br().mark((function e(t,n){var r,i;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),ol("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Ir(br().mark((function e(t){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Um(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Gk.apply(this,arguments)}function Qk(e,t){return Yk.apply(this,arguments)}function Yk(){return Yk=Ir(br().mark((function e(t,n){var r,i;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Jk(t);case 3:return r=e.sent,ol("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return cg(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return cg(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Yk.apply(this,arguments)}function Jk(e){return Xk.apply(this,arguments)}function Xk(){return Xk=Ir(br().mark((function e(t){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return ol("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Hk(t,new Mk);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Xk.apply(this,arguments)}function Zk(e){return $k.apply(this,arguments)}function $k(){return $k=Ir(br().mark((function e(t){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return ol("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Qk(t,new Uk);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),$k.apply(this,arguments)}function eb(e){return Jk(e).then((function(e){return e.persistence}))}function tb(e){return Jk(e).then((function(e){return e.localStore}))}function nb(e){return Zk(e).then((function(e){return e.remoteStore}))}function rb(e){return Zk(e).then((function(e){return e.syncEngine}))}function ib(e){return ab.apply(this,arguments)}function ab(){return ab=Ir(br().mark((function e(t){var n,r;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zk(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Vg.bind(null,n.syncEngine),r.onUnlisten=Wg.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),ab.apply(this,arguments)}function ob(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new vl;return e.asyncQueue.enqueueAndForget(Ir(br().mark((function i(){return br().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Bk({next:function(a){t.enqueueAndForget((function(){return Ig(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new pl(dl.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new pl(dl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Cg(Sh(n.path),a,{includeMetadataChanges:!0,Du:!0});return xg(e,o)},i.next=3,ib(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function sb(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new vl;return e.asyncQueue.enqueueAndForget(Ir(br().mark((function i(){return br().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Bk({next:function(n){t.enqueueAndForget((function(){return Ig(e,o)})),n.fromCache&&"server"===r.source?i.reject(new pl(dl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Cg(n,a,{includeMetadataChanges:!0,Du:!0});return xg(e,o)},i.next=3,ib(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var ub=new Map;function cb(e,t,n){if(!n)throw new pl(dl.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function lb(e,t,n,r){if(!0===t&&!0===r)throw new pl(dl.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function fb(e){if(!Ll.isDocumentKey(e))throw new pl(dl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function hb(e){if(Ll.isDocumentKey(e))throw new pl(dl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function db(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":ll()}function pb(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new pl(dl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=db(e);throw new pl(dl.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function vb(e,t){if(t<=0)throw new pl(dl.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var mb=function(){function e(t){var n;if(Sr(this,e),void 0===t.host){if(void 0!==t.ssl)throw new pl(dl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new pl(dl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,lb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Ar(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),yb=function(){function e(t,n,r){Sr(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mb({}),this._settingsFrozen=!1,t instanceof Af?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new pl(dl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Af(e.options.projectId)}(t))}return Ar(e,[{key:"app",get:function(){if(!this._app)throw new pl(dl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new pl(dl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mb(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new yl;switch(e.type){case"gapi":var t=e.client;return fl(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new wl(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new pl(dl.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=ub.get(e);t&&(ol("ComponentProvider","Removing Datastore"),ub.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function gb(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=pb(e,yb))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&ul("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=nl.MOCK_USER;else{o=Kr(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new pl(dl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new nl(u)}e._authCredentials=new gl(new ml(o,s))}}var kb=function(){function e(t,n,r){Sr(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Ar(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new wb(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),bb=function(){function e(t,n,r){Sr(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Ar(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),wb=function(e){Or(n,e);var t=Mr(n);function n(e,r,i){var a;return Sr(this,n),(a=t.call(this,e,r,Sh(i)))._path=i,a.type="collection",a}return Ar(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new kb(this.firestore,null,new Ll(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(bb);function xb(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=hi(e),cb("collection","path",t),e instanceof yb){var a=Ol.fromString.apply(Ol,[t].concat(r));return hb(a),new wb(e,null,a)}if(!(e instanceof kb||e instanceof wb))throw new pl(dl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ol.fromString.apply(Ol,[t].concat(r)));return hb(o),new wb(e.firestore,null,o)}function _b(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=hi(e),1===arguments.length&&(t=El.I()),cb("doc","path",t),e instanceof yb){var a=Ol.fromString.apply(Ol,[t].concat(r));return fb(a),new kb(e,null,new Ll(a))}if(!(e instanceof kb||e instanceof wb))throw new pl(dl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ol.fromString.apply(Ol,[t].concat(r)));return fb(o),new kb(e.firestore,e instanceof wb?e.converter:null,new Ll(o))}function Ib(e,t){return e=hi(e),t=hi(t),(e instanceof kb||e instanceof wb)&&(t instanceof kb||t instanceof wb)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Eb(e,t){return e=hi(e),t=hi(t),e instanceof bb&&t instanceof bb&&e.firestore===t.firestore&&Dh(e._query,t._query)&&e.converter===t.converter}var Sb=function(){function e(){var t=this;Sr(this,e),this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new wy(this,"async_queue_retry"),this.Kc=function(){var e=ky();e&&ol("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=ky();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}return Ar(e,[{key:"isShuttingDown",get:function(){return this.Fc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Gc(),this.Qc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;var t=ky();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Gc(),this.Fc)return new Promise((function(){}));var n=new vl;return this.Qc((function(){return t.Fc&&t.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Mc.push(e),t.jc()}))}},{key:"jc",value:function(){var e=Ir(br().mark((function e(){var t=this;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Mc.length){e.next=14;break}return e.prev=1,e.next=4,this.Mc[0]();case 4:this.Mc.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),ef(e.t0)){e.next=12;break}throw e.t0;case 12:ol("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Mc.length>0&&this.So.Io((function(){return t.jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){var t=this,n=this.Oc.then((function(){return t.Lc=!0,e().catch((function(e){t.Bc=e,t.Lc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw sl("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Lc=!1,e}))}));return this.Oc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Gc(),this.qc.indexOf(e)>-1&&(t=0);var i=vg.createAndSchedule(this,e,t,n,(function(e){return r.Wc(e)}));return this.$c.push(i),i}},{key:"Gc",value:function(){this.Bc&&ll()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=Ir(br().mark((function e(){var t;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Oc,e.next=3,t;case 3:if(t!==this.Oc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t,n=Cr(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Jc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Cr(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Yc",value:function(e){this.qc.push(e)}},{key:"Wc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function Tb(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Cr(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Ab=function(){function e(){Sr(this,e),this._progressObserver={},this._taskCompletionResolver=new vl,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Ar(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Cb=function(e){Or(n,e);var t=Mr(n);function n(e,r,i){var a;return Sr(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new Sb,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Ar(n,[{key:"_terminate",value:function(){return this._firestoreClient||Rb(this),this._firestoreClient.terminate()}}]),n}(yb);function Nb(e){return e._firestoreClient||Rb(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Rb(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Tf(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Kk(e._authCredentials,e._appCheckCredentials,e._queue,r)}function Ob(e,t,n){var r=new vl;return e.asyncQueue.enqueue(Ir(br().mark((function i(){return br().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Hk(e,n);case 3:return i.next=5,Qk(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===dl.FAILED_PRECONDITION||e.code===dl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function Db(e){return function(e){return e.asyncQueue.enqueue(Ir(br().mark((function t(){var n,r;return br().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,eb(e);case 2:return n=t.sent,t.next=5,nb(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=hl(e);return t.lu.delete(0),Ay(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(Nb(e=pb(e,Cb)))}function Pb(e){return function(e){return e.asyncQueue.enqueue(Ir(br().mark((function t(){var n,r;return br().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,eb(e);case 2:return n=t.sent,t.next=5,nb(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Ir(br().mark((function e(t){var n;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=hl(t)).lu.add(0),e.next=4,Ny(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(Nb(e=pb(e,Cb)))}function Lb(e,t){var n=Nb(e=pb(e,Cb)),r=new Ab;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new zk(e,t)}(function(e,t){if(e instanceof Uint8Array)return Vk(e,t);if(e instanceof ArrayBuffer)return Vk(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,by(t));e.asyncQueue.enqueueAndForget(Ir(br().mark((function t(){return br().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Lk,t.next=3,rb(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function Mb(e,t){return function(e,t){return e.asyncQueue.enqueue(Ir(br().mark((function n(){return br().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=hl(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ds.getNamedQuery(e,t)}))},n.next=3,tb(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(Nb(e=pb(e,Cb)),t).then((function(t){return t?new bb(e,null,t.query):null}))}function jb(e){if(e._initialized||e._terminated)throw new pl(dl.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Fb=function(){function e(){Sr(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new pl(dl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pl(n)}return Ar(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Ub=function(){function e(t){Sr(this,e),this._byteString=t}return Ar(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(kf.fromBase64String(t))}catch(t){throw new pl(dl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(kf.fromUint8Array(t))}}]),e}(),Vb=Ar((function e(t){Sr(this,e),this._methodName=t})),Bb=function(){function e(t,n){if(Sr(this,e),!isFinite(t)||t<-90||t>90)throw new pl(dl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new pl(dl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Ar(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Sl(this._lat,e._lat)||Sl(this._long,e._long)}}]),e}(),zb=/^__.*__$/,qb=function(){function e(t,n,r){Sr(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ar(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new hd(e,this.data,this.fieldMask,t,this.fieldTransforms):new fd(e,this.data,t,this.fieldTransforms)}}]),e}(),Wb=function(){function e(t,n,r){Sr(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ar(e,[{key:"toMutation",value:function(e,t){return new hd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Kb(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ll()}}var Hb=function(){function e(t,n,r,i,a,o){Sr(this,e),this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Ar(e,[{key:"path",get:function(){return this.settings.path}},{key:"Zc",get:function(){return this.settings.Zc}},{key:"ta",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ea",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}},{key:"ra",value:function(e){return this.ta({path:void 0,na:!0})}},{key:"oa",value:function(e){return hw(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.sa(this.path.get(e))}},{key:"sa",value:function(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(Kb(this.Zc)&&zb.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}]),e}(),Gb=function(){function e(t,n,r){Sr(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||by(t)}return Ar(e,[{key:"aa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Hb({Zc:e,methodName:t,ca:n,path:Pl.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}]),e}();function Qb(e){var t=e._freezeSettings(),n=by(e._databaseId);return new Gb(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Yb(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.aa(a.merge||a.mergeFields?2:0,t,n,i);uw("Data must be an object, but it was:",o,r);var s,u,c=ow(r,o);if(a.merge)s=new gf(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Cr(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=cw(t,d,n);if(!o.contains(p))throw new pl(dl.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));dw(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new gf(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new qb(new $f(c),s,u)}var Jb=function(e){Or(n,e);var t=Mr(n);function n(){return Sr(this,n),t.apply(this,arguments)}return Ar(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Zc)throw 1===e.Zc?e.oa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.oa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Vb);function Xb(e,t,n){return new Hb({Zc:3,ca:t.settings.ca,methodName:e._methodName,na:n},t.databaseId,t.wt,t.ignoreUndefinedProperties)}var Zb=function(e){Or(n,e);var t=Mr(n);function n(){return Sr(this,n),t.apply(this,arguments)}return Ar(n,[{key:"_toFieldTransform",value:function(e){return new td(e.path,new Gh)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Vb),$b=function(e){Or(n,e);var t=Mr(n);function n(e,r){var i;return Sr(this,n),(i=t.call(this,e)).ha=r,i}return Ar(n,[{key:"_toFieldTransform",value:function(e){var t=Xb(this,e,!0),n=this.ha.map((function(e){return aw(e,t)})),r=new Qh(n);return new td(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Vb),ew=function(e){Or(n,e);var t=Mr(n);function n(e,r){var i;return Sr(this,n),(i=t.call(this,e)).ha=r,i}return Ar(n,[{key:"_toFieldTransform",value:function(e){var t=Xb(this,e,!0),n=this.ha.map((function(e){return aw(e,t)})),r=new Jh(n);return new td(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Vb),tw=function(e){Or(n,e);var t=Mr(n);function n(e,r){var i;return Sr(this,n),(i=t.call(this,e)).la=r,i}return Ar(n,[{key:"_toFieldTransform",value:function(e){var t=new Zh(e.wt,zh(e.wt,this.la));return new td(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Vb);function nw(e,t,n,r){var i=e.aa(1,t,n);uw("Data must be an object, but it was:",i,r);var a=[],o=$f.empty();lf(r,(function(e,r){var s=fw(t,e,n);r=hi(r);var u=i.ia(s);if(r instanceof Jb)a.push(s);else{var c=aw(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new gf(a);return new Wb(o,s,i.fieldTransforms)}function rw(e,t,n,r,i,a){var o=e.aa(1,t,n),s=[cw(t,r,n)],u=[i];if(a.length%2!=0)throw new pl(dl.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(cw(t,a[c])),u.push(a[c+1]);for(var l=[],f=$f.empty(),h=s.length-1;h>=0;--h)if(!dw(l,s[h])){var d=s[h],p=u[h];p=hi(p);var v=o.ia(d);if(p instanceof Jb)l.push(d);else{var m=aw(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new gf(l);return new Wb(f,y,o.fieldTransforms)}function iw(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return aw(n,e.aa(r?4:3,t))}function aw(e,t){if(sw(e=hi(e)))return uw("Unsupported field value:",t,e),ow(e,t);if(e instanceof Vb)return function(e,t){if(!Kb(t.Zc))throw t.oa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.oa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Cr(e);try{for(a.s();!(n=a.n()).done;){var o=aw(n.value,t.ra(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=hi(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return zh(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Cl.fromDate(e);return{timestampValue:Yd(t.wt,n)}}if(e instanceof Cl){var r=new Cl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Yd(t.wt,r)}}if(e instanceof Bb)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ub)return{bytesValue:Jd(t.wt,e._byteString)};if(e instanceof kb){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.oa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:$d(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa("Unsupported field value: ".concat(db(e)))}(e,t)}function ow(e,t){var n={};return ff(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):lf(e,(function(e,r){var i=aw(r,t.ea(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function sw(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Cl||e instanceof Bb||e instanceof Ub||e instanceof kb||e instanceof Vb)}function uw(e,t,n){if(!sw(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=db(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function cw(e,t,n){if((t=hi(t))instanceof Fb)return t._internalPath;if("string"==typeof t)return fw(e,t);throw hw("Field path arguments must be of type string or ",e,!1,void 0,n)}var lw=new RegExp("[~\\*/\\[\\]]");function fw(e,t,n){if(t.search(lw)>=0)throw hw("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return jr(Fb,xr(t.split(".")))._internalPath}catch(r){throw hw("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function hw(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new pl(dl.INVALID_ARGUMENT,s+e+u)}function dw(e,t){return e.some((function(e){return e.isEqual(t)}))}var pw=function(){function e(t,n,r,i,a){Sr(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Ar(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new kb(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new vw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(mw("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),vw=function(e){Or(n,e);var t=Mr(n);function n(){return Sr(this,n),t.apply(this,arguments)}return Ar(n,[{key:"data",value:function(){return Va(Dr(n.prototype),"data",this).call(this)}}]),n}(pw);function mw(e,t){return"string"==typeof t?fw(e,t):t instanceof Fb?t._internalPath:t._delegate._internalPath}var yw=function(){function e(t,n){Sr(this,e),this.hasPendingWrites=t,this.fromCache=n}return Ar(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),gw=function(e){Or(n,e);var t=Mr(n);function n(e,r,i,a,o,s){var u;return Sr(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return Ar(n,[{key:"exists",value:function(){return Va(Dr(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new kw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(mw("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(pw),kw=function(e){Or(n,e);var t=Mr(n);function n(){return Sr(this,n),t.apply(this,arguments)}return Ar(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Va(Dr(n.prototype),"data",this).call(this,e)}}]),n}(gw),bw=function(){function e(t,n,r,i){Sr(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new yw(i.hasPendingWrites,i.fromCache),this.query=r}return Ar(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new kw(n._firestore,n._userDataWriter,r.key,r,new yw(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pl(dl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new kw(e._firestore,e._userDataWriter,t.doc.key,t.doc,new yw(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new kw(e._firestore,e._userDataWriter,t.doc.key,t.doc,new yw(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:ww(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function ww(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ll()}}function xw(e,t){return e instanceof gw&&t instanceof gw?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof bw&&t instanceof bw&&e._firestore===t._firestore&&Eb(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function _w(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new pl(dl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Iw=Ar((function e(){Sr(this,e)}));function Ew(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var Sw=function(e){Or(n,e);var t=Mr(n);function n(e,r,i){var a;return Sr(this,n),(a=t.call(this)).fa=e,a.da=r,a._a=i,a.type="where",a}return Ar(n,[{key:"_apply",value:function(e){var t=Qb(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new pl(dl.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Uw(o,a);var u,c=[],l=Cr(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(Fw(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=Fw(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Uw(o,a),s=iw(n,"where",o,"in"===a||"not-in"===a);var h=lh.create(i,a,s);return function(e,t){if(t.ht()){var n=Ah(e);if(null!==n&&!n.isEqual(t.field))throw new pl(dl.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Th(e);null!==r&&Vw(e,t.field,r)}var i=function(e,t){var n,r=Cr(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new pl(dl.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new pl(dl.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new bb(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Ih(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(Iw);var Tw=function(e){Or(n,e);var t=Mr(n);function n(e,r){var i;return Sr(this,n),(i=t.call(this)).fa=e,i.wa=r,i.type="orderBy",i}return Ar(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new pl(dl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new pl(dl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new bh(t,n);return function(e,t){if(null===Th(e)){var n=Ah(e);null!==n&&Vw(e,n,t.field)}}(e,r),r}(e._query,this.fa,this.wa);return new bb(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Ih(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(Iw);function Aw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=mw("orderBy",e);return new Tw(r,n)}var Cw=function(e){Or(n,e);var t=Mr(n);function n(e,r,i){var a;return Sr(this,n),(a=t.call(this)).type=e,a.ma=r,a.ga=i,a}return Ar(n,[{key:"_apply",value:function(e){return new bb(e.firestore,e.converter,Oh(e._query,this.ma,this.ga))}}]),n}(Iw);function Nw(e){return vb("limit",e),new Cw("limit",e,"F")}var Rw=function(e){Or(n,e);var t=Mr(n);function n(e,r,i){var a;return Sr(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return Ar(n,[{key:"_apply",value:function(e){var t=jw(e,this.type,this.ya,this.pa);return new bb(e.firestore,e.converter,function(e,t){return new Ih(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(Iw);function Ow(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Rw("startAt",t,!0)}function Dw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Rw("startAfter",t,!1)}var Pw=function(e){Or(n,e);var t=Mr(n);function n(e,r,i){var a;return Sr(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return Ar(n,[{key:"_apply",value:function(e){var t=jw(e,this.type,this.ya,this.pa);return new bb(e.firestore,e.converter,function(e,t){return new Ih(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(Iw);function Lw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Pw("endBefore",t,!1)}function Mw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Pw("endAt",t,!0)}function jw(e,t,n,r){if(n[0]=hi(n[0]),n[0]instanceof pw)return function(e,t,n,r,i){if(!r)throw new pl(dl.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=Cr(Nh(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(Bf(t,r.key));else{var c=r.data.field(u.field);if(If(c))throw new pl(dl.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new pl(dl.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new kh(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Qb(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new pl(dl.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new pl(dl.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Ch(e)&&-1!==c.indexOf("/"))throw new pl(dl.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Ol.fromString(c));if(!Ll.isDocumentKey(l))throw new pl(dl.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Ll(l);s.push(Bf(t,f))}else{var h=iw(n,r,c);s.push(h)}}return new kh(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function Fw(e,t,n){if("string"==typeof(n=hi(n))){if(""===n)throw new pl(dl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ch(t)&&-1!==n.indexOf("/"))throw new pl(dl.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Ol.fromString(n));if(!Ll.isDocumentKey(r))throw new pl(dl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Bf(e,new Ll(r))}if(n instanceof kb)return Bf(e,n._key);throw new pl(dl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(db(n),"."))}function Uw(e,t){if(!Array.isArray(e)||0===e.length)throw new pl(dl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new pl(dl.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function Vw(e,t,n){if(!n.isEqual(t))throw new pl(dl.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Bw={maxAttempts:5},zw=function(){function e(){Sr(this,e)}return Ar(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Pf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xf(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_f(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ll()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return lf(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new Bb(xf(e.latitude),xf(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Ef(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Sf(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=wf(e);return new Cl(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Ol.fromString(e);fl(_p(n));var r=new Af(n.get(1),n.get(3)),i=new Ll(n.popFirst(5));return r.isEqual(t)||sl("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function qw(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Ww=function(e){Or(n,e);var t=Mr(n);function n(e){var r;return Sr(this,n),(r=t.call(this)).firestore=e,r}return Ar(n,[{key:"convertBytes",value:function(e){return new Ub(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new kb(this.firestore,null,t)}}]),n}(zw),Kw=function(){function e(t,n){Sr(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Qb(t)}return Ar(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=Hw(e,this._firestore),i=qw(r.converter,t,n),a=Yb(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,rd.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=Hw(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=hi(t))||t instanceof Fb?rw(this._dataReader,"WriteBatch.update",i._key,t,n,o):nw(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,rd.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=Hw(e,this._firestore);return this._mutations=this._mutations.concat(new gd(t._key,rd.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new pl(dl.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function Hw(e,t){if((e=hi(e)).firestore!==t)throw new pl(dl.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function Gw(e){e=pb(e,kb);var t=pb(e.firestore,Cb);return ob(Nb(t),e._key).then((function(n){return nx(t,e,n)}))}var Qw=function(e){Or(n,e);var t=Mr(n);function n(e){var r;return Sr(this,n),(r=t.call(this)).firestore=e,r}return Ar(n,[{key:"convertBytes",value:function(e){return new Ub(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new kb(this.firestore,null,t)}}]),n}(zw);function Yw(e){e=pb(e,kb);var t=pb(e.firestore,Cb),n=Nb(t),r=new Qw(t);return function(e,t){var n=new vl;return e.asyncQueue.enqueueAndForget(Ir(br().mark((function r(){return br().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ir(br().mark((function e(t,n,r){var i,a;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=hl(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new pl(dl.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=mg(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,tb(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new gw(t,r,e._key,n,new yw(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Jw(e){e=pb(e,bb);var t=pb(e.firestore,Cb),n=Nb(t),r=new Qw(t);return function(e,t){var n=new vl;return e.asyncQueue.enqueueAndForget(Ir(br().mark((function r(){return br().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ir(br().mark((function e(t,n,r){var i,a,o,s,u;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ym(t,n,!0);case 3:i=e.sent,a=new Mg(n,i.ji),o=a.Ku(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=mg(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,tb(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new bw(t,r,e,n)}))}function Xw(e,t,n){e=pb(e,kb);var r=pb(e.firestore,Cb),i=qw(e.converter,t,n);return tx(r,[Yb(Qb(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,rd.none())])}function Zw(e,t,n){e=pb(e,kb);for(var r=pb(e.firestore,Cb),i=Qb(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return tx(r,[("string"==typeof(t=hi(t))||t instanceof Fb?rw(i,"updateDoc",e._key,t,n,o):nw(i,"updateDoc",e._key,t)).toMutation(e._key,rd.exists(!0))])}function $w(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=hi(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||Tb(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(Tb(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof kb)l=pb(e.firestore,Cb),f=Sh(e._key.path),c={next:function(t){n[u]&&n[u](nx(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=pb(e,bb);l=pb(p.firestore,Cb),f=p._query;var v=new Qw(l);c={next:function(e){n[u]&&n[u](new bw(l,v,p,e))},error:n[u+1],complete:n[u+2]},_w(e._query)}return function(e,t,n,r){var i=new Bk(r),a=new Cg(t,i,n);return e.asyncQueue.enqueueAndForget(Ir(br().mark((function t(){return br().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=xg,t.next=3,ib(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Tc(),e.asyncQueue.enqueueAndForget(Ir(br().mark((function t(){return br().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ig,t.next=3,ib(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Nb(l),f,h,c)}function ex(e,t){return function(e,t){var n=new Bk(t);return e.asyncQueue.enqueueAndForget(Ir(br().mark((function t(){return br().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){hl(e).Tu.add(t),t.next()},t.next=3,ib(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Tc(),e.asyncQueue.enqueueAndForget(Ir(br().mark((function t(){return br().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){hl(e).Tu.delete(t)},t.next=3,ib(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Nb(e=pb(e,Cb)),Tb(t)?t:{next:t})}function tx(e,t){return function(e,t){var n=new vl;return e.asyncQueue.enqueueAndForget(Ir(br().mark((function r(){return br().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Hg,r.next=3,rb(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Nb(e),t)}function nx(e,t,n){var r=n.docs.get(t._key),i=new Qw(e);return new gw(e,i,t._key,r,new yw(n.hasPendingWrites,n.fromCache),t.converter)}var rx=function(e){Or(n,e);var t=Mr(n);function n(e,r){var i;return Sr(this,n),(i=t.call(this,e,r))._firestore=e,i}return Ar(n,[{key:"get",value:function(e){var t=this,r=Hw(e,this._firestore),i=new Qw(this._firestore);return Va(Dr(n.prototype),"get",this).call(this,e).then((function(e){return new gw(t._firestore,i,r._key,e._document,new yw(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Sr(this,e),this._firestore=t,this._transaction=n,this._dataReader=Qb(t)}return Ar(e,[{key:"get",value:function(e){var t=this,n=Hw(e,this._firestore),r=new Ww(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return ll();var i=e[0];if(i.isFoundDocument())return new pw(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new pw(t._firestore,r,n._key,null,n.converter);throw ll()}))}},{key:"set",value:function(e,t,n){var r=Hw(e,this._firestore),i=qw(r.converter,t,n),a=Yb(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=Hw(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=hi(t))||t instanceof Fb?rw(this._dataReader,"Transaction.update",i._key,t,n,o):nw(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=Hw(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function ix(e,t,n){e=pb(e,Cb);var r=Object.assign(Object.assign({},Bw),n);return function(e){if(e.maxAttempts<1)throw new pl(dl.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new vl;return e.asyncQueue.enqueueAndForget(Ir(br().mark((function i(){var a;return br().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return Zk(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new Wk(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(Nb(e),(function(n){return t(new rx(e,n))}),r)}function ax(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new $b("arrayUnion",t)}function ox(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ew("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){rl=e}(ua),ta(new di("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Cb(i,new kl(e.getProvider("auth-internal")),new _l(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),pa(tl,"3.4.10",e),pa(tl,"3.4.10","esm2017")}();function sx(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new pl("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function ux(){if("undefined"===typeof Uint8Array)throw new pl("unimplemented","Uint8Arrays are not available in this environment.")}function cx(){if("undefined"==typeof atob)throw new pl("unimplemented","Blobs are unavailable in Firestore in this environment.")}var lx=function(){function e(t){Sr(this,e),this._delegate=t}return Ar(e,[{key:"toBase64",value:function(){return cx(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return ux(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return cx(),new e(Ub.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return ux(),new e(Ub.fromUint8Array(t))}}]),e}();function fx(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Cr(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var hx=function(){function e(){Sr(this,e)}return Ar(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){jb(e=pb(e,Cb));var n=Nb(e),r=e._freezeSettings(),i=new Uk;return Ob(n,i,new jk(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){jb(e=pb(e,Cb));var t=Nb(e),n=e._freezeSettings(),r=new Uk;return Ob(t,r,new Fk(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new pl(dl.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new vl;return e._queue.enqueueAndForgetEvenWhileRestricted(Ir(br().mark((function n(){return br().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Ir(br().mark((function e(t){var n;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Xl.V()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Xl.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Pm(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),dx=function(){function e(t,n,r){var i=this;Sr(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Af||(this._appCompat=t)}return Ar(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||ul("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};gb(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Db(this._delegate)}},{key:"disableNetwork",value:function(){return Pb(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&lb("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new vl;return e.asyncQueue.enqueueAndForget(Ir(br().mark((function n(){return br().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=rk,n.next=3,rb(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(Nb(e=pb(e,Cb)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return ex(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new pl("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new Tx(this,xb(this._delegate,e))}catch(aR){throw kx(aR,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new gx(this,_b(this._delegate,e))}catch(aR){throw kx(aR,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new Ix(this,function(e,t){if(e=pb(e,yb),cb("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new pl(dl.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new bb(e,null,function(e){return new Ih(Ol.emptyPath(),e)}(t))}(this._delegate,e))}catch(aR){throw kx(aR,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return ix(this._delegate,(function(n){return e(new vx(t,n))}))}},{key:"batch",value:function(){var e=this;return Nb(this._delegate),new mx(new Kw(this._delegate,(function(t){return tx(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Lb(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Mb(this._delegate,e).then((function(e){return e?new Ix(t,e):null}))}}]),e}(),px=function(e){Or(n,e);var t=Mr(n);function n(e){var r;return Sr(this,n),(r=t.call(this)).firestore=e,r}return Ar(n,[{key:"convertBytes",value:function(e){return new lx(new Ub(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return gx.forKey(t,this.firestore,null)}}]),n}(zw);var vx=function(){function e(t,n){Sr(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new px(t)}return Ar(e,[{key:"get",value:function(e){var t=this,n=Ax(e);return this._delegate.get(n).then((function(e){return new xx(t._firestore,new gw(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=Ax(e);return n?(sx("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=Ax(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Ax(e);return this._delegate.delete(t),this}}]),e}(),mx=function(){function e(t){Sr(this,e),this._delegate=t}return Ar(e,[{key:"set",value:function(e,t,n){var r=Ax(e);return n?(sx("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=Ax(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Ax(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),yx=function(){function e(t,n,r){Sr(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Ar(e,[{key:"fromFirestore",value:function(e,t){var n=new kw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new _x(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new px(t),n),i.set(n,a)),a}}]),e}();yx.INSTANCES=new WeakMap;var gx=function(){function e(t,n){Sr(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new px(t)}return Ar(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new Tx(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new Tx(this.firestore,xb(this._delegate,e))}catch(aR){throw kx(aR,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=hi(e))instanceof kb&&Ib(this._delegate,e)}},{key:"set",value:function(e,t){t=sx("DocumentReference.set",t);try{return t?Xw(this._delegate,e,t):Xw(this._delegate,e)}catch(aR){throw kx(aR,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Zw(this._delegate,e):Zw.apply(void 0,[this._delegate,e,t].concat(r))}catch(aR){throw kx(aR,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return tx(pb(e.firestore,Cb),[new gd(e._key,rd.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=bx(n),a=wx(n,(function(t){return new xx(e.firestore,new gw(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return $w(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Yw(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=pb(e,kb);var t=pb(e.firestore,Cb);return ob(Nb(t),e._key,{source:"server"}).then((function(n){return nx(t,e,n)}))}(this._delegate):Gw(this._delegate),t.then((function(e){return new xx(n.firestore,new gw(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(yx.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new pl("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new kb(n._delegate,r,new Ll(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new kb(n._delegate,r,t))}}]),e}();function kx(e,t,n){return e.message=e.message.replace(t,n),e}function bx(e){var t,n=Cr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!fx(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function wx(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=fx(e[0])?e[0]:fx(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var xx=function(){function e(t,n){Sr(this,e),this._firestore=t,this._delegate=n}return Ar(e,[{key:"ref",get:function(){return new gx(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return xw(this._delegate,e._delegate)}}]),e}(),_x=function(e){Or(n,e);var t=Mr(n);function n(){return Sr(this,n),t.apply(this,arguments)}return Ar(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||ll()}(void 0!==t),t}}]),n}(xx),Ix=function(){function e(t,n){Sr(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new px(t)}return Ar(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Ew(this._delegate,function(e,t,n){var r=t,i=mw("where",e);return new Sw(i,r,n)}(t,n,r)))}catch(aR){throw kx(aR,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Ew(this._delegate,Aw(t,n)))}catch(aR){throw kx(aR,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Ew(this._delegate,Nw(t)))}catch(aR){throw kx(aR,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Ew(this._delegate,function(e){return vb("limitToLast",e),new Cw("limitToLast",e,"L")}(t)))}catch(aR){throw kx(aR,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Ew(this._delegate,Ow.apply(void 0,arguments)))}catch(aR){throw kx(aR,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Ew(this._delegate,Dw.apply(void 0,arguments)))}catch(aR){throw kx(aR,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Ew(this._delegate,Lw.apply(void 0,arguments)))}catch(aR){throw kx(aR,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Ew(this._delegate,Mw.apply(void 0,arguments)))}catch(aR){throw kx(aR,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Eb(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Jw(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=pb(e,bb);var t=pb(e.firestore,Cb),n=Nb(t),r=new Qw(t);return sb(n,e._query,{source:"server"}).then((function(n){return new bw(t,r,e,n)}))}(this._delegate):function(e){e=pb(e,bb);var t=pb(e.firestore,Cb),n=Nb(t),r=new Qw(t);return _w(e._query),sb(n,e._query).then((function(n){return new bw(t,r,e,n)}))}(this._delegate),t.then((function(e){return new Sx(n.firestore,new bw(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=bx(n),a=wx(n,(function(t){return new Sx(e.firestore,new bw(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return $w(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(yx.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),Ex=function(){function e(t,n){Sr(this,e),this._firestore=t,this._delegate=n}return Ar(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new _x(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),Sx=function(){function e(t,n){Sr(this,e),this._firestore=t,this._delegate=n}return Ar(e,[{key:"query",get:function(){return new Ix(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new _x(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Ex(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new _x(n._firestore,r))}))}},{key:"isEqual",value:function(e){return xw(this._delegate,e._delegate)}}]),e}(),Tx=function(e){Or(n,e);var t=Mr(n);function n(e,r){var i;return Sr(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Ar(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new gx(this.firestore,e):null}},{key:"doc",value:function(e){try{return new gx(this.firestore,void 0===e?_b(this._delegate):_b(this._delegate,e))}catch(aR){throw kx(aR,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=pb(e.firestore,Cb),r=_b(e),i=qw(e.converter,t);return tx(n,[Yb(Qb(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,rd.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new gx(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Ib(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(yx.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(Ix);function Ax(e){return pb(e,kb)}var Cx,Nx=function(){function e(){Sr(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=jr(Fb,n)}return Ar(e,[{key:"isEqual",value:function(e){return(e=hi(e))instanceof Fb&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Pl.keyField().canonicalString())}}]),e}(),Rx=function(){function e(t){Sr(this,e),this._delegate=t}return Ar(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new Zb("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new Jb("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=ax.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=ox.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new tw("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),Ox={Firestore:dx,GeoPoint:Bb,Timestamp:Cl,Blob:lx,Transaction:vx,WriteBatch:mx,DocumentReference:gx,DocumentSnapshot:xx,Query:Ix,QueryDocumentSnapshot:_x,QuerySnapshot:Sx,CollectionReference:Tx,FieldPath:Nx,FieldValue:Rx,setLogLevel:function(e){!function(e){il.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new di("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},Ox)))})(Cx=Fa,(function(e,t){return new dx(e,t,new hx)})),Cx.registerVersion("@firebase/firestore-compat","0.1.19");function Dx(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Px;Object.create;var Lx="facebook.com",Mx="github.com",jx="google.com",Fx="password",Ux="twitter.com",Vx="EMAIL_SIGNIN",Bx="PASSWORD_RESET",zx="RECOVER_EMAIL",qx="REVERT_SECOND_FACTOR_ADDITION",Wx="VERIFY_AND_CHANGE_EMAIL",Kx="VERIFY_EMAIL";function Hx(){return Er({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Gx=function(){var e;return Er(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Er(e,"argument-error",""),Er(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Er(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Er(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Er(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Er(e,"cordova-not-ready","Cordova framework is not ready."),Er(e,"cors-unsupported","This browser is not supported."),Er(e,"credential-already-in-use","This credential is already associated with a different user account."),Er(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Er(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Er(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Er(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Er(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Er(e,"email-already-in-use","The email address is already in use by another account."),Er(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Er(e,"expired-action-code","The action code has expired."),Er(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Er(e,"internal-error","An internal AuthError has occurred."),Er(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Er(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Er(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Er(e,"invalid-auth-event","An internal AuthError has occurred."),Er(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Er(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Er(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Er(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Er(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Er(e,"invalid-email","The email address is badly formatted."),Er(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Er(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Er(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Er(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Er(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Er(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Er(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Er(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Er(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Er(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Er(e,"wrong-password","The password is invalid or the user does not have a password."),Er(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Er(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Er(e,"invalid-provider-id","The specified provider ID is invalid."),Er(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Er(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Er(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Er(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Er(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Er(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Er(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Er(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Er(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Er(e,"missing-continue-uri","A continue URL must be provided in the request."),Er(e,"missing-iframe-start","An internal AuthError has occurred."),Er(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Er(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Er(e,"missing-multi-factor-info","No second factor identifier is provided."),Er(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Er(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Er(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Er(e,"app-deleted","This instance of FirebaseApp has been deleted."),Er(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Er(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Er(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Er(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Er(e,"no-auth-event","An internal AuthError has occurred."),Er(e,"no-such-provider","User was not linked to an account with the given provider."),Er(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Er(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Er(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Er(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Er(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Er(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Er(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Er(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Er(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Er(e,"rejected-credential","The request contains malformed or mismatching credentials."),Er(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Er(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Er(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Er(e,"timeout","The operation has timed out."),Er(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Er(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Er(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Er(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Er(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Er(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Er(e,"unverified-email","The operation requires a verified email."),Er(e,"user-cancelled","The user did not grant your application the permissions it requested."),Er(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Er(e,"user-disabled","The user account has been disabled by an administrator."),Er(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Er(e,"user-signed-out",""),Er(e,"weak-password","The password must be 6 characters long or more."),Er(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Er(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Qx=Hx,Yx=new ei("auth","Firebase",Hx()),Jx=new Ii("@firebase/auth");function Xx(e){if(Jx.logLevel<=yi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Jx.error.apply(Jx,["Auth (".concat(ua,"): ").concat(e)].concat(n))}}function Zx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw n_.apply(void 0,[e].concat(n))}function $x(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n_.apply(void 0,[e].concat(n))}function e_(e,t,n){var r=Object.assign(Object.assign({},Qx()),Er({},t,n));return new ei("auth","Firebase",r).create(t,{appName:e.name})}function t_(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Zx(e,"argument-error"),e_(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function n_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=xr(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(xr(o)))}return Yx.create.apply(Yx,[e].concat(n))}function r_(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw n_.apply(void 0,[t].concat(r))}}function i_(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Xx(t),new Error(t)}function a_(e,t){e||i_(t)}var o_=new Map;function s_(e){a_(e instanceof Function,"Expected a class definition");var t=o_.get(e);return t?(a_(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,o_.set(e,t),t)}function u_(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function c_(){return"http:"===l_()||"https:"===l_()}function l_(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var f_=function(){function e(t,n){Sr(this,e),this.shortDelay=t,this.longDelay=n,a_(n>t,"Short delay should be less than long delay!"),this.isMobile=Gr()||Jr()}return Ar(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(c_()||Yr()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function h_(e,t){a_(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var d_=function(){function e(){Sr(this,e)}return Ar(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void i_("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void i_("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void i_("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),p_=(Er(Px={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Er(Px,"MISSING_CUSTOM_TOKEN","internal-error"),Er(Px,"INVALID_IDENTIFIER","invalid-email"),Er(Px,"MISSING_CONTINUE_URI","internal-error"),Er(Px,"INVALID_PASSWORD","wrong-password"),Er(Px,"MISSING_PASSWORD","internal-error"),Er(Px,"EMAIL_EXISTS","email-already-in-use"),Er(Px,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Er(Px,"INVALID_IDP_RESPONSE","invalid-credential"),Er(Px,"INVALID_PENDING_TOKEN","invalid-credential"),Er(Px,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Er(Px,"MISSING_REQ_TYPE","internal-error"),Er(Px,"EMAIL_NOT_FOUND","user-not-found"),Er(Px,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Er(Px,"EXPIRED_OOB_CODE","expired-action-code"),Er(Px,"INVALID_OOB_CODE","invalid-action-code"),Er(Px,"MISSING_OOB_CODE","internal-error"),Er(Px,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Er(Px,"INVALID_ID_TOKEN","invalid-user-token"),Er(Px,"TOKEN_EXPIRED","user-token-expired"),Er(Px,"USER_NOT_FOUND","user-token-expired"),Er(Px,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Er(Px,"INVALID_CODE","invalid-verification-code"),Er(Px,"INVALID_SESSION_INFO","invalid-verification-id"),Er(Px,"INVALID_TEMPORARY_PROOF","invalid-credential"),Er(Px,"MISSING_SESSION_INFO","missing-verification-id"),Er(Px,"SESSION_EXPIRED","code-expired"),Er(Px,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Er(Px,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Er(Px,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Er(Px,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Er(Px,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Er(Px,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Er(Px,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Er(Px,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Er(Px,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Er(Px,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Er(Px,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Px),v_=new f_(3e4,6e4);function m_(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function y_(e,t,n,r){return g_.apply(this,arguments)}function g_(){return g_=Ir(br().mark((function e(t,n,r,i){var a,o=arguments;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",k_(t,a,Ir(br().mark((function e(){var a,o,s,u;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=oi(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",d_.fetch()(__(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),g_.apply(this,arguments)}function k_(e,t,n){return b_.apply(this,arguments)}function b_(){return(b_=Ir(br().mark((function e(t,n,r){var i,a,o,s,u,l,f,h,d,p;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},p_),n),e.prev=2,a=new I_(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw E_(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,l=u.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw E_(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw E_(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw E_(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw e_(t,p,d);case 34:Zx(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof $r)){e.next=41;break}throw e.t0;case 41:Zx(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])})))).apply(this,arguments)}function w_(e,t,n,r){return x_.apply(this,arguments)}function x_(){return x_=Ir(br().mark((function e(t,n,r,i){var a,o,s=arguments;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,y_(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Zx(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),x_.apply(this,arguments)}function __(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?h_(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var I_=function(){function e(t){var n=this;Sr(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t($x(n.auth,"network-request-failed"))}),v_.get())}))}return Ar(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function E_(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=$x(e,t,r);return i.customData._tokenResponse=n,i}function S_(e,t){return T_.apply(this,arguments)}function T_(){return(T_=Ir(br().mark((function e(t,n){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y_(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A_(e,t){return C_.apply(this,arguments)}function C_(){return(C_=Ir(br().mark((function e(t,n){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y_(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N_(e,t){return R_.apply(this,arguments)}function R_(){return(R_=Ir(br().mark((function e(t,n){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y_(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O_(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(aR){}}function D_(){return D_=Ir(br().mark((function e(t){var n,r,i,a,o,s,u=arguments;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=hi(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,r_((a=L_(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:O_(P_(a.auth_time)),issuedAtTime:O_(P_(a.iat)),expirationTime:O_(P_(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),D_.apply(this,arguments)}function P_(e){return 1e3*Number(e)}function L_(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Xx("JWT malformed, contained fewer than 3 sections"),null;try{var a=zr(r);return a?JSON.parse(a):(Xx("Failed to decode base64 JWT payload"),null)}catch(aR){return Xx("Caught error parsing JWT payload as JSON",aR),null}}function M_(e,t){return j_.apply(this,arguments)}function j_(){return j_=Ir(br().mark((function e(t,n){var r=arguments;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof $r&&F_(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),j_.apply(this,arguments)}function F_(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var U_=function(){function e(t){Sr(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Ar(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Ir(br().mark((function t(){return br().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Ir(br().mark((function e(){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),V_=function(){function e(t,n){Sr(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Ar(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=O_(this.lastLoginAt),this.creationTime=O_(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function B_(e){return z_.apply(this,arguments)}function z_(){return z_=Ir(br().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,M_(t,N_(r,{idToken:i}));case 6:r_(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?K_(o.providerUserInfo):[],u=W_(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new V_(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),z_.apply(this,arguments)}function q_(){return(q_=Ir(br().mark((function e(t){var n;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=hi(t),e.next=3,B_(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W_(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(xr(n),xr(t))}function K_(e){return e.map((function(e){var t=e.providerId,n=Dx(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function H_(e,t){return G_.apply(this,arguments)}function G_(){return(G_=Ir(br().mark((function e(t,n){var r;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k_(t,{},Ir(br().mark((function e(){var r,i,a,o,s,u;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=oi({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=__(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",d_.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Q_=function(){function e(){Sr(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Ar(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){r_(e.idToken,"internal-error"),r_("undefined"!==typeof e.idToken,"internal-error"),r_("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=L_(e);return r_(t,"internal-error"),r_("undefined"!==typeof t.exp,"internal-error"),r_("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Ir(br().mark((function e(t){var n,r=arguments;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],r_(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Ir(br().mark((function e(t,n){var r,i,a,o;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H_(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return i_("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(r_("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(r_("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(r_("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Y_(e,t){r_("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var J_=function(){function e(t){Sr(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Dx(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new U_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?xr(a.providerData):[],this.metadata=new V_(a.createdAt||void 0,a.lastLoginAt||void 0)}return Ar(e,[{key:"getIdToken",value:function(){var e=Ir(br().mark((function e(t){var n;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M_(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(r_(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return D_.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return q_.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(r_(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){r_(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Ir(br().mark((function e(t){var n,r,i=arguments;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,B_(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Ir(br().mark((function e(){var t;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,M_(this,S_(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;r_(k&&_,t,"internal-error");var I=Q_.fromJSON(this.name,_);r_("string"===typeof k,t,"internal-error"),Y_(f,t.name),Y_(h,t.name),r_("boolean"===typeof b,t,"internal-error"),r_("boolean"===typeof w,t,"internal-error"),Y_(d,t.name),Y_(p,t.name),Y_(v,t.name),Y_(m,t.name),Y_(y,t.name),Y_(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=Ir(br().mark((function t(n,r){var i,a,o,s=arguments;return br().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Q_).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,B_(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),X_=function(){function e(){Sr(this,e),this.type="NONE",this.storage={}}return Ar(e,[{key:"_isAvailable",value:function(){var e=Ir(br().mark((function e(){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ir(br().mark((function e(t,n){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ir(br().mark((function e(t){var n;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ir(br().mark((function e(t){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();X_.type="NONE";var Z_=X_;function $_(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var eI=function(){function e(t,n,r){Sr(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=$_(this.userKey,a.apiKey,o),this.fullPersistenceKey=$_("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Ar(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Ir(br().mark((function e(){var t;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?J_._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Ir(br().mark((function e(t){var n;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Ir(br().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return br().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(s_(Z_),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Ir(br().mark((function e(t){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||s_(Z_),s=$_(i,n.config.apiKey,n.name),u=null,c=Cr(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=J_._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Ir(br().mark((function e(t){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function tI(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(aI(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(nI(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(sI(t))return"Blackberry";if(uI(t))return"Webos";if(rI(t))return"Safari";if((t.includes("chrome/")||iI(t))&&!t.includes("edge/"))return"Chrome";if(oI(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function nI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hr();return/firefox\//i.test(e)}function rI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hr(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function iI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hr();return/crios\//i.test(e)}function aI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hr();return/iemobile/i.test(e)}function oI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hr();return/android/i.test(e)}function sI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hr();return/blackberry/i.test(e)}function uI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hr();return/webos/i.test(e)}function cI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hr();return/iphone|ipad|ipod/i.test(e)}function lI(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hr();return cI(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function fI(){return Xr()&&10===document.documentMode}function hI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hr();return cI(e)||oI(e)||uI(e)||sI(e)||/windows phone/i.test(e)||aI(e)}function dI(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=tI(Hr());break;case"Worker":t="".concat(tI(Hr()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ua,"/").concat(r)}var pI=function(){function e(t){Sr(this,e),this.auth=t,this.queue=[]}return Ar(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(aR){r(aR)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Ir(br().mark((function e(t){var n,r,i,a,o,s,u,c;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=Cr(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),s=Cr(r);try{for(s.s();!(u=s.n()).done;){c=u.value;try{c()}catch(l){}}}catch(f){s.e(f)}finally{s.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),vI=function(){function e(t,n,r){Sr(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yI(this),this.idTokenSubscription=new yI(this),this.beforeStateQueue=new pI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yx,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Ar(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=s_(t)),this._initializationPromise=this.queue(Ir(br().mark((function r(){var i,a;return br().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,eI.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Ir(br().mark((function e(){var t;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Ir(br().mark((function e(t){var n,r,i,a,o,s,u;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return r_(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Ir(br().mark((function e(t){var n;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Ir(br().mark((function e(t){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B_(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Ir(br().mark((function e(){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Ir(br().mark((function e(t){var n;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?hi(t):null)&&r_(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Ir(br().mark((function e(t){var n,r=this,i=arguments;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&r_(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Ir(br().mark((function e(){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Ir(br().mark((function e(){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Ir(br().mark((function n(){return br().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(s_(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new ei("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Ir(br().mark((function e(t,n){var r;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Ir(br().mark((function e(t){var n;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return r_(n=t&&s_(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,eI.create(this,[s_(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Ir(br().mark((function e(t){var n,r;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Ir(br().mark((function e(){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Ir(br().mark((function e(t){var n=this;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Ir(br().mark((function e(){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return r_(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Ir(br().mark((function e(t){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return r_(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dI(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Ir(br().mark((function e(){var t,n,r;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Er({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function mI(e){return hi(e)}var yI=function(){function e(t){var n=this;Sr(this,e),this.auth=t,this.observer=null,this.addObserver=ci((function(e){return n.observer=e}))}return Ar(e,[{key:"next",get:function(){return r_(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function gI(e,t,n){var r=mI(e);r_(r._canInitEmulator,r,"emulator-config-failed"),r_(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=kI(t),o=function(e){var t=kI(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:bI(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:bI(o[1])}}(t),s=o.host,u=o.port,l=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function kI(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function bI(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var wI=function(){function e(t,n){Sr(this,e),this.providerId=t,this.signInMethod=n}return Ar(e,[{key:"toJSON",value:function(){return i_("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return i_("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return i_("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return i_("not implemented")}}]),e}();function xI(e,t){return _I.apply(this,arguments)}function _I(){return(_I=Ir(br().mark((function e(t,n){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y_(t,"POST","/v1/accounts:resetPassword",m_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function II(e,t){return EI.apply(this,arguments)}function EI(){return(EI=Ir(br().mark((function e(t,n){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y_(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SI(e,t){return TI.apply(this,arguments)}function TI(){return(TI=Ir(br().mark((function e(t,n){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y_(t,"POST","/v1/accounts:update",m_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AI(e,t){return CI.apply(this,arguments)}function CI(){return(CI=Ir(br().mark((function e(t,n){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w_(t,"POST","/v1/accounts:signInWithPassword",m_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function NI(e,t){return RI.apply(this,arguments)}function RI(){return(RI=Ir(br().mark((function e(t,n){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y_(t,"POST","/v1/accounts:sendOobCode",m_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function OI(e,t){return DI.apply(this,arguments)}function DI(){return(DI=Ir(br().mark((function e(t,n){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",NI(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function PI(e,t){return LI.apply(this,arguments)}function LI(){return(LI=Ir(br().mark((function e(t,n){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",NI(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function MI(e,t){return jI.apply(this,arguments)}function jI(){return(jI=Ir(br().mark((function e(t,n){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",NI(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function FI(e,t){return UI.apply(this,arguments)}function UI(){return(UI=Ir(br().mark((function e(t,n){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",NI(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function VI(e,t){return BI.apply(this,arguments)}function BI(){return(BI=Ir(br().mark((function e(t,n){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w_(t,"POST","/v1/accounts:signInWithEmailLink",m_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zI(e,t){return qI.apply(this,arguments)}function qI(){return(qI=Ir(br().mark((function e(t,n){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w_(t,"POST","/v1/accounts:signInWithEmailLink",m_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var WI=function(e){Or(n,e);var t=Mr(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Sr(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Ar(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Ir(br().mark((function e(t){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",AI(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",VI(t,{email:this._email,oobCode:this._password}));case 5:Zx(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Ir(br().mark((function e(t,n){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",II(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",zI(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Zx(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(wI);function KI(e,t){return HI.apply(this,arguments)}function HI(){return(HI=Ir(br().mark((function e(t,n){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w_(t,"POST","/v1/accounts:signInWithIdp",m_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var GI=function(e){Or(n,e);var t=Mr(n);function n(){var e;return Sr(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Ar(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return KI(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,KI(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,KI(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=oi(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Zx("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Dx(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(wI);function QI(e,t){return YI.apply(this,arguments)}function YI(){return(YI=Ir(br().mark((function e(t,n){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y_(t,"POST","/v1/accounts:sendVerificationCode",m_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function JI(){return(JI=Ir(br().mark((function e(t,n){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w_(t,"POST","/v1/accounts:signInWithPhoneNumber",m_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function XI(){return(XI=Ir(br().mark((function e(t,n){var r;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w_(t,"POST","/v1/accounts:signInWithPhoneNumber",m_(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw E_(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ZI=Er({},"USER_NOT_FOUND","user-not-found");function $I(){return($I=Ir(br().mark((function e(t,n){var r;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",w_(t,"POST","/v1/accounts:signInWithPhoneNumber",m_(t,r),ZI));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var eE=function(e){Or(n,e);var t=Mr(n);function n(e){var r;return Sr(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Ar(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return JI.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return XI.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return $I.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(wI);var tE=function(){function e(t){var n,r,i,a,o,s;Sr(this,e);var u=si(ui(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);r_(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return Ar(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=si(ui(e)).link,n=t?si(ui(t)).deep_link_id:null,r=si(ui(e)).deep_link_id;return(r?si(ui(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(ub){return null}}}]),e}();var nE=function(){function e(){Sr(this,e),this.providerId=e.PROVIDER_ID}return Ar(e,null,[{key:"credential",value:function(e,t){return WI._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=tE.parseLink(t);return r_(n,"argument-error"),WI._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();nE.PROVIDER_ID="password",nE.EMAIL_PASSWORD_SIGN_IN_METHOD="password",nE.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var rE=function(){function e(t){Sr(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Ar(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),iE=function(e){Or(n,e);var t=Mr(n);function n(){var e;return Sr(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Ar(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return xr(this.scopes)}}]),n}(rE),aE=function(e){Or(n,e);var t=Mr(n);function n(){return Sr(this,n),t.apply(this,arguments)}return Ar(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return r_(e.idToken||e.accessToken,"argument-error"),GI._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return r_("providerId"in t&&"signInMethod"in t,"argument-error"),GI._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(aR){return null}}}]),n}(iE),oE=function(e){Or(n,e);var t=Mr(n);function n(){return Sr(this,n),t.call(this,"facebook.com")}return Ar(n,null,[{key:"credential",value:function(e){return GI._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(ub){return null}}}]),n}(iE);oE.FACEBOOK_SIGN_IN_METHOD="facebook.com",oE.PROVIDER_ID="facebook.com";var sE=function(e){Or(n,e);var t=Mr(n);function n(){var e;return Sr(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Ar(n,null,[{key:"credential",value:function(e,t){return GI._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(ub){return null}}}]),n}(iE);sE.GOOGLE_SIGN_IN_METHOD="google.com",sE.PROVIDER_ID="google.com";var uE=function(e){Or(n,e);var t=Mr(n);function n(){return Sr(this,n),t.call(this,"github.com")}return Ar(n,null,[{key:"credential",value:function(e){return GI._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(ub){return null}}}]),n}(iE);uE.GITHUB_SIGN_IN_METHOD="github.com",uE.PROVIDER_ID="github.com";var cE=function(e){Or(n,e);var t=Mr(n);function n(e,r){var i;return Sr(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Ar(n,[{key:"_getIdTokenResponse",value:function(e){return KI(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,KI(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,KI(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(wI),lE=function(e){Or(n,e);var t=Mr(n);function n(e){return Sr(this,n),r_(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Ar(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=cE.fromJSON(e);return r_(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return cE._create(r,n)}catch(aR){return null}}}]),n}(rE),fE=function(e){Or(n,e);var t=Mr(n);function n(){return Sr(this,n),t.call(this,"twitter.com")}return Ar(n,null,[{key:"credential",value:function(e,t){return GI._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(ub){return null}}}]),n}(iE);function hE(e,t){return dE.apply(this,arguments)}function dE(){return(dE=Ir(br().mark((function e(t,n){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w_(t,"POST","/v1/accounts:signUp",m_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}fE.TWITTER_SIGN_IN_METHOD="twitter.com",fE.PROVIDER_ID="twitter.com";var pE=function(){function e(t){Sr(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Ar(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Ir(br().mark((function t(n,r,i){var a,o,s,u,c=arguments;return br().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,J_._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=vE(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Ir(br().mark((function t(n,r,i){var a;return br().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=vE(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function vE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function mE(){return mE=Ir(br().mark((function e(t){var n,r,i,a;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mI(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new pE({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,hE(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,pE._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),mE.apply(this,arguments)}var yE=function(e){Or(n,e);var t=Mr(n);function n(e,r,i,a){var o,s;return Sr(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Nr(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Ar(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}($r);function gE(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw yE._fromErrorAndOperation(e,n,t,r);throw n}))}function kE(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function bE(e,t){return wE.apply(this,arguments)}function wE(){return wE=Ir(br().mark((function e(t,n){var r,i,a,o;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hi(t),e.next=3,IE(!0,r,n);case 3:return e.t0=A_,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=kE(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),wE.apply(this,arguments)}function xE(e,t){return _E.apply(this,arguments)}function _E(){return _E=Ir(br().mark((function e(t,n){var r,i,a=arguments;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=M_,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",pE._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),_E.apply(this,arguments)}function IE(e,t,n){return EE.apply(this,arguments)}function EE(){return(EE=Ir(br().mark((function e(t,n,r){var i,a;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B_(n);case 2:i=kE(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",r_(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SE(e,t){return TE.apply(this,arguments)}function TE(){return TE=Ir(br().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,M_(t,gE(i,a,n,t),r);case 6:return r_((o=e.sent).idToken,i,"internal-error"),r_(s=L_(o.idToken),i,"internal-error"),u=s.sub,r_(t.uid===u,i,"user-mismatch"),e.abrupt("return",pE._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Zx(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),TE.apply(this,arguments)}function AE(e,t){return CE.apply(this,arguments)}function CE(){return CE=Ir(br().mark((function e(t,n){var r,i,a,o,s=arguments;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,gE(t,i,n);case 4:return a=e.sent,e.next=7,pE._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),CE.apply(this,arguments)}function NE(e,t){return RE.apply(this,arguments)}function RE(){return(RE=Ir(br().mark((function e(t,n){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",AE(mI(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function OE(e,t){return DE.apply(this,arguments)}function DE(){return(DE=Ir(br().mark((function e(t,n){var r;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hi(t),e.next=3,IE(!1,r,n.providerId);case 3:return e.abrupt("return",xE(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function PE(e,t){return LE.apply(this,arguments)}function LE(){return(LE=Ir(br().mark((function e(t,n){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",SE(hi(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ME(e,t){return jE.apply(this,arguments)}function jE(){return(jE=Ir(br().mark((function e(t,n){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w_(t,"POST","/v1/accounts:signInWithCustomToken",m_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function FE(){return(FE=Ir(br().mark((function e(t,n){var r,i,a;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mI(t),e.next=3,ME(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,pE._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var UE=function(){function e(t,n){Sr(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Ar(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?VE._fromServerResponse(e,t):Zx(e,"internal-error")}}]),e}(),VE=function(e){Or(n,e);var t=Mr(n);function n(e){var r;return Sr(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Ar(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(UE);function BE(e,t,n){var r;r_((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),r_("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(r_(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(r_(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function zE(){return(zE=Ir(br().mark((function e(t,n,r){var i,a;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hi(t),a={requestType:"PASSWORD_RESET",email:n},r&&BE(i,a,r),e.next=5,PI(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qE(){return(qE=Ir(br().mark((function e(t,n,r){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xI(hi(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function WE(){return(WE=Ir(br().mark((function e(t,n){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,SI(hi(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KE(e,t){return HE.apply(this,arguments)}function HE(){return(HE=Ir(br().mark((function e(t,n){var r,i,a,o;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hi(t),e.next=3,xI(r,{oobCode:n});case 3:i=e.sent,r_(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return r_(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:r_(i.mfaInfo,r,"internal-error");case 13:r_(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=UE._fromServerResponse(mI(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GE(){return(GE=Ir(br().mark((function e(t,n){var r,i;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,KE(hi(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function QE(e,t,n){return YE.apply(this,arguments)}function YE(){return(YE=Ir(br().mark((function e(t,n,r){var i,a,o;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mI(t),e.next=3,hE(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,pE._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function JE(){return(JE=Ir(br().mark((function e(t,n,r){var i,a;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hi(t),a={requestType:"EMAIL_SIGNIN",email:n},r_(r.handleCodeInApp,i,"argument-error"),r&&BE(i,a,r),e.next=6,MI(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function XE(){return(XE=Ir(br().mark((function e(t,n,r){var i,a;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hi(t),r_((a=nE.credentialWithLink(n,r||u_()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",NE(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ZE(e,t){return $E.apply(this,arguments)}function $E(){return($E=Ir(br().mark((function e(t,n){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y_(t,"POST","/v1/accounts:createAuthUri",m_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eS(){return(eS=Ir(br().mark((function e(t,n){var r,i,a,o;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c_()?u_():"http://localhost",i={identifier:n,continueUri:r},e.next=4,ZE(hi(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tS(){return(tS=Ir(br().mark((function e(t,n){var r,i,a,o;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hi(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&BE(r.auth,a,n),e.next=8,OI(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nS(){return(nS=Ir(br().mark((function e(t,n,r){var i,a,o,s;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hi(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&BE(i.auth,o,r),e.next=8,FI(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rS(e,t){return iS.apply(this,arguments)}function iS(){return(iS=Ir(br().mark((function e(t,n){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y_(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aS(){return(aS=Ir(br().mark((function e(t,n){var r,i,a,o,s,u,c;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=hi(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,M_(a,rS(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oS(e,t,n){return sS.apply(this,arguments)}function sS(){return(sS=Ir(br().mark((function e(t,n,r){var i,a,o,s;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,M_(t,II(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var uS=Ar((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Sr(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),cS=function(e){Or(n,e);var t=Mr(n);function n(e,r,i,a){var o;return Sr(this,n),(o=t.call(this,e,r,i)).username=a,o}return Ar(n)}(uS),lS=function(e){Or(n,e);var t=Mr(n);function n(e,r){return Sr(this,n),t.call(this,e,"facebook.com",r)}return Ar(n)}(uS),fS=function(e){Or(n,e);var t=Mr(n);function n(e,r){return Sr(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Ar(n)}(cS),hS=function(e){Or(n,e);var t=Mr(n);function n(e,r){return Sr(this,n),t.call(this,e,"google.com",r)}return Ar(n)}(uS),dS=function(e){Or(n,e);var t=Mr(n);function n(e,r,i){return Sr(this,n),t.call(this,e,"twitter.com",r,i)}return Ar(n)}(cS);function pS(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=L_(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new uS(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new lS(a,i);case"github.com":return new fS(a,i);case"google.com":return new hS(a,i);case"twitter.com":return new dS(a,i,e.screenName||null);case"custom":case"anonymous":return new uS(a,null);default:return new uS(a,r,i)}}(n)}var vS=function(){function e(t,n){Sr(this,e),this.type=t,this.credential=n}return Ar(e,[{key:"toJSON",value:function(){return{multiFactorSession:Er({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),mS=function(){function e(t,n,r){Sr(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Ar(e,[{key:"resolveSignIn",value:function(){var e=Ir(br().mark((function e(t){var n;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=mI(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return UE._fromServerResponse(r,e)}));r_(i.mfaPendingCredential,r,"internal-error");var o=vS._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Ir(br().mark((function e(t){var a,s,u;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,pE._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return r_(n.user,r,"internal-error"),e.abrupt("return",pE._forOperation(n.user,n.operationType,s));case 17:Zx(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function yS(e,t){return y_(e,"POST","/v2/accounts/mfaEnrollment:start",m_(e,t))}var gS=function(){function e(t){var n=this;Sr(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return UE._fromServerResponse(t.auth,e)})))}))}return Ar(e,[{key:"getSession",value:function(){var e=Ir(br().mark((function e(){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=vS,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Ir(br().mark((function e(t,n){var r,i,a;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,M_(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Ir(br().mark((function e(t){var n,r,i;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,M_(this.user,y_(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",m_(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),kS=new WeakMap;var bS="__sak",wS=function(){function e(t,n){Sr(this,e),this.storageRetriever=t,this.type=n}return Ar(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(bS,"1"),this.storage.removeItem(bS),Promise.resolve(!0)):Promise.resolve(!1)}catch(ub){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var xS=function(e){Or(n,e);var t=Mr(n);function n(){var e;return Sr(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Hr();return rI(e)||cI(e)}()&&function(){try{return!(!window||window===window.top)}catch(aR){return!1}}(),e.fallbackToPolling=hI(),e._shouldAllowMigration=!0,e}return Ar(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);fI()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Ir(br().mark((function e(t,r){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Va(Dr(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ir(br().mark((function e(t){var r;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Va(Dr(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ir(br().mark((function e(t){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Va(Dr(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(wS);xS.type="LOCAL";var _S=xS,IS=function(e){Or(n,e);var t=Mr(n);function n(){return Sr(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Ar(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(wS);IS.type="SESSION";var ES=IS;function SS(e){return Promise.all(e.map(function(){var e=Ir(br().mark((function e(t){var n;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var TS=function(){function e(t){Sr(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Ar(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Ir(br().mark((function e(t){var n,r,i,a,o,s,u,c;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Ir(br().mark((function e(t){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,SS(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function AS(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}TS.receivers=[];var CS=function(){function e(t){Sr(this,e),this.target=t,this.handlers=new Set}return Ar(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Ir(br().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=AS("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function NS(){return window}function RS(){return"undefined"!==typeof NS().WorkerGlobalScope&&"function"===typeof NS().importScripts}function OS(){return DS.apply(this,arguments)}function DS(){return(DS=Ir(br().mark((function e(){var t;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function PS(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var LS="firebaseLocalStorageDb",MS="firebaseLocalStorage",jS="fbase_key",FS=function(){function e(t){Sr(this,e),this.request=t}return Ar(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function US(e,t){return e.transaction([MS],t?"readwrite":"readonly").objectStore(MS)}function VS(){var e=indexedDB.deleteDatabase(LS);return new FS(e).toPromise()}function BS(){var e=indexedDB.open(LS,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(MS,{keyPath:jS})}catch(aR){n(aR)}})),e.addEventListener("success",Ir(br().mark((function n(){var r;return br().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(MS)){n.next=12;break}return r.close(),n.next=5,VS();case 5:return n.t0=t,n.next=8,BS();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function zS(e,t,n){return qS.apply(this,arguments)}function qS(){return qS=Ir(br().mark((function e(t,n,r){var i,a;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=US(t,!0).put((Er(i={},jS,n),Er(i,"value",r),i)),e.abrupt("return",new FS(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),qS.apply(this,arguments)}function WS(e,t){return KS.apply(this,arguments)}function KS(){return KS=Ir(br().mark((function e(t,n){var r,i;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=US(t,!1).get(n),e.next=3,new FS(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),KS.apply(this,arguments)}function HS(e,t){var n=US(e,!0).delete(t);return new FS(n).toPromise()}var GS=function(){function e(){Sr(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Ar(e,[{key:"_openDb",value:function(){var e=Ir(br().mark((function e(){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,BS();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Ir(br().mark((function e(t){var n,r;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Ir(br().mark((function e(){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",RS()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Ir(br().mark((function e(){var t=this;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=TS._getInstance(RS()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Ir(br().mark((function e(n,r){var i;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Ir(br().mark((function e(t,n){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Ir(br().mark((function e(){var t,n,r;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,OS();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new CS(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Ir(br().mark((function e(t){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&PS()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Ir(br().mark((function e(){var t;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,BS();case 5:return t=e.sent,e.next=8,zS(t,bS,"1");case 8:return e.next=10,HS(t,bS);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Ir(br().mark((function e(t){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ir(br().mark((function e(t,n){var r=this;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ir(br().mark((function e(){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return zS(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ir(br().mark((function e(t){var n;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return WS(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ir(br().mark((function e(t){var n=this;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ir(br().mark((function e(){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return HS(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Ir(br().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=US(e,!1).getAll();return new FS(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Cr(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Ir(br().mark((function t(){return br().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();GS.type="LOCAL";var QS=GS;function YS(e,t){return y_(e,"POST","/v2/accounts/mfaSignIn:start",m_(e,t))}function JS(e){return XS.apply(this,arguments)}function XS(){return(XS=Ir(br().mark((function e(t){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y_(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ZS(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=$x("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function $S(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var eT=1e12,tT=function(){function e(t){Sr(this,e),this.auth=t,this.counter=eT,this._widgets=new Map}return Ar(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new nT(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||eT;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||eT;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Ir(br().mark((function e(t){var n,r;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||eT,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),nT=function(){function e(t,n,r){var i=this;Sr(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;r_(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Ar(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(aR){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(aR){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var rT=$S("rcb"),iT=new f_(3e4,6e4),aT="https://www.google.com/recaptcha/api.js?",oT=function(){function e(){Sr(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!NS().grecaptcha}return Ar(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return r_(sT(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(NS().grecaptcha):new Promise((function(r,i){var a=NS().setTimeout((function(){i($x(e,"network-request-failed"))}),iT.get());NS()[rT]=function(){NS().clearTimeout(a),delete NS()[rT];var o=NS().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i($x(e,"internal-error"))},ZS("".concat(aT,"?").concat(oi({onload:rT,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i($x(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!NS().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function sT(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var uT=function(){function e(){Sr(this,e)}return Ar(e,[{key:"load",value:function(){var e=Ir(br().mark((function e(t){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new tT(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),cT="recaptcha",lT={theme:"light",type:"image"},fT=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},lT),r=arguments.length>2?arguments[2]:void 0;Sr(this,e),this.parameters=n,this.type=cT,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=mI(r),this.isInvisible="invisible"===this.parameters.size,r_("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;r_(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new uT:new oT,this.validateStartingState()}return Ar(e,[{key:"verify",value:function(){var e=Ir(br().mark((function e(){var t,n,r,i=this;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(aR){return Promise.reject(aR)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){r_(!this.parameters.sitekey,this.auth,"argument-error"),r_(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),r_("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=NS()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){r_(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Ir(br().mark((function e(){var t,n;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Ir(br().mark((function e(){var t;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r_(c_()&&!RS(),this.auth,"internal-error"),e.next=3,hT();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,JS(this.auth);case 8:r_(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return r_(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function hT(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var dT=function(){function e(t,n){Sr(this,e),this.verificationId=t,this.onConfirmation=n}return Ar(e,[{key:"confirm",value:function(e){var t=eE._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function pT(){return(pT=Ir(br().mark((function e(t,n,r){var i,a;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mI(t),e.next=3,gT(i,n,hi(r));case 3:return a=e.sent,e.abrupt("return",new dT(a,(function(e){return NE(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vT(e,t,n){return mT.apply(this,arguments)}function mT(){return(mT=Ir(br().mark((function e(t,n,r){var i,a;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hi(t),e.next=3,IE(!1,i,"phone");case 3:return e.next=5,gT(i.auth,n,hi(r));case 5:return a=e.sent,e.abrupt("return",new dT(a,(function(e){return OE(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yT(){return(yT=Ir(br().mark((function e(t,n,r){var i,a;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hi(t),e.next=3,gT(i.auth,n,hi(r));case 3:return a=e.sent,e.abrupt("return",new dT(a,(function(e){return PE(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gT(e,t,n){return kT.apply(this,arguments)}function kT(){return kT=Ir(br().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,r_("string"===typeof a,t,"argument-error"),r_(r.type===cT,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return r_("enroll"===s.type,t,"internal-error"),e.next=13,yS(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return r_("signin"===s.type,t,"internal-error"),r_(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,YS(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,QI(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),kT.apply(this,arguments)}function bT(){return(bT=Ir(br().mark((function e(t,n){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xE(hi(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wT=function(){function e(t){Sr(this,e),this.providerId=e.PROVIDER_ID,this.auth=mI(t)}return Ar(e,[{key:"verifyPhoneNumber",value:function(e,t){return gT(this.auth,e,hi(t))}}],[{key:"credential",value:function(e,t){return eE._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?eE._fromTokenResponse(n,r):null}}]),e}();function xT(e,t){return t?s_(t):(r_(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}wT.PROVIDER_ID="phone",wT.PHONE_SIGN_IN_METHOD="phone";var _T=function(e){Or(n,e);var t=Mr(n);function n(e){var r;return Sr(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Ar(n,[{key:"_getIdTokenResponse",value:function(e){return KI(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return KI(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return KI(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(wI);function IT(e){return AE(e.auth,new _T(e),e.bypassAuthState)}function ET(e){var t=e.auth,n=e.user;return r_(n,t,"internal-error"),SE(n,new _T(e),e.bypassAuthState)}function ST(e){return TT.apply(this,arguments)}function TT(){return(TT=Ir(br().mark((function e(t){var n,r;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,r_(r=t.user,n,"internal-error"),e.abrupt("return",xE(r,new _T(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var AT=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Sr(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Ar(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Ir(br().mark((function t(n,r){return br().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Ir(br().mark((function e(t){var n,r,i,a,o,s,u;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IT;case"linkViaPopup":case"linkViaRedirect":return ST;case"reauthViaPopup":case"reauthViaRedirect":return ET;default:Zx(this.auth,"internal-error")}}},{key:"resolve",value:function(e){a_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){a_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),CT=new f_(2e3,1e4);function NT(e,t,n){return RT.apply(this,arguments)}function RT(){return(RT=Ir(br().mark((function e(t,n,r){var i,a,o;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mI(t),t_(t,n,rE),a=xT(i,r),o=new LT(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function OT(){return(OT=Ir(br().mark((function e(t,n,r){var i,a,o;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t_((i=hi(t)).auth,n,rE),a=xT(i.auth,r),o=new LT(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function DT(e,t,n){return PT.apply(this,arguments)}function PT(){return(PT=Ir(br().mark((function e(t,n,r){var i,a,o;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t_((i=hi(t)).auth,n,rE),a=xT(i.auth,r),o=new LT(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var LT=function(e){Or(n,e);var t=Mr(n);function n(e,r,i,a,o){var s;return Sr(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Nr(s),s}return Ar(n,[{key:"executeNotNull",value:function(){var e=Ir(br().mark((function e(){var t;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return r_(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ir(br().mark((function e(){var t,n=this;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a_(1===this.filter.length,"Popup operations only handle one event"),t=AS(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject($x(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject($x(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject($x(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,CT.get())}()}}]),n}(AT);LT.currentPopupAction=null;var MT=new Map,jT=function(e){Or(n,e);var t=Mr(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Sr(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Ar(n,[{key:"execute",value:function(){var e=Ir(br().mark((function e(){var t,r;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=MT.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,FT(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Va(Dr(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:MT.set(this.auth._key(),t);case 21:return this.bypassAuthState||MT.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Ir(br().mark((function e(t){var r;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Va(Dr(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Va(Dr(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ir(br().mark((function e(){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(AT);function FT(e,t){return UT.apply(this,arguments)}function UT(){return(UT=Ir(br().mark((function e(t,n){var r,i,a;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=WT(n),i=qT(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function VT(e,t){return BT.apply(this,arguments)}function BT(){return(BT=Ir(br().mark((function e(t,n){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qT(t)._set(WT(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zT(e,t){MT.set(e._key(),t)}function qT(e){return s_(e._redirectPersistence)}function WT(e){return $_("pendingRedirect",e.config.apiKey,e.name)}function KT(e,t,n){return function(e,t,n){return HT.apply(this,arguments)}(e,t,n)}function HT(){return(HT=Ir(br().mark((function e(t,n,r){var i,a;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mI(t),t_(t,n,rE),a=xT(i,r),e.next=5,VT(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GT(e,t,n){return function(e,t,n){return QT.apply(this,arguments)}(e,t,n)}function QT(){return(QT=Ir(br().mark((function e(t,n,r){var i,a,o;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t_((i=hi(t)).auth,n,rE),a=xT(i.auth,r),e.next=5,VT(a,i.auth);case 5:return e.next=7,tA(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function YT(e,t,n){return function(e,t,n){return JT.apply(this,arguments)}(e,t,n)}function JT(){return(JT=Ir(br().mark((function e(t,n,r){var i,a,o;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t_((i=hi(t)).auth,n,rE),a=xT(i.auth,r),e.next=5,IE(!1,i,n.providerId);case 5:return e.next=7,VT(a,i.auth);case 7:return e.next=9,tA(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function XT(e,t){return ZT.apply(this,arguments)}function ZT(){return(ZT=Ir(br().mark((function e(t,n){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mI(t)._initializationPromise;case 2:return e.abrupt("return",$T(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $T(e,t){return eA.apply(this,arguments)}function eA(){return eA=Ir(br().mark((function e(t,n){var r,i,a,o,s,u=arguments;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=mI(t),a=xT(i,n),o=new jT(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),eA.apply(this,arguments)}function tA(e){return nA.apply(this,arguments)}function nA(){return(nA=Ir(br().mark((function e(t){var n;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=AS("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rA=function(){function e(t){Sr(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Ar(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aA(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!aA(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError($x(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(iA(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(iA(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function iA(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function aA(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function oA(e){return sA.apply(this,arguments)}function sA(){return sA=Ir(br().mark((function e(t){var n,r=arguments;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",y_(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),sA.apply(this,arguments)}var uA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cA=/^https?/;function lA(){return(lA=Ir(br().mark((function e(t){var n,r,i,a,o;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,oA(t);case 4:n=e.sent,r=n.authorizedDomains,i=Cr(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!fA(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Zx(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function fA(e){var t=u_(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!cA.test(r))return!1;if(uA.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var hA=new f_(3e4,6e4);function dA(){var e=NS().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=xr(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var pA=null;function vA(e){return pA=pA||function(e){return new Promise((function(t,n){var r,i,a;function o(){dA(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){dA(),n($x(e,"network-request-failed"))},timeout:hA.get()})}if(null===(i=null===(r=NS().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=NS().gapi)||void 0===a?void 0:a.load)){var s=$S("iframefcb");return NS()[s]=function(){gapi.load?o():n($x(e,"network-request-failed"))},ZS("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw pA=null,e}))}(e),pA}var mA=new f_(5e3,15e3),yA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kA(e){var t=e.config;r_(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?h_(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:ua},i=gA.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(oi(r).slice(1))}function bA(e){return wA.apply(this,arguments)}function wA(){return wA=Ir(br().mark((function e(t){var n,r;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vA(t);case 2:return n=e.sent,r_(r=NS().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:kA(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yA,dontclear:!0},(function(e){return new Promise(function(){var n=Ir(br().mark((function n(r,i){var a,o,s;return br().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){NS().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=$x(t,"network-request-failed"),o=NS().setTimeout((function(){i(a)}),mA.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),wA.apply(this,arguments)}var xA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_A="_blank",IA="http://localhost",EA=function(){function e(t){Sr(this,e),this.window=t,this.associatedEvent=null}return Ar(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(aR){}}}]),e}();function SA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},xA),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Hr().toLowerCase();n&&(s=iI(l)?_A:n),nI(l)&&(t=t||IA,u.scrollbars="yes");var f=Object.entries(u).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(lI(l)&&"_self"!==s)return TA(t||"",s),new EA(null);var h=window.open(t||"",s,f);r_(h,e,"popup-blocked");try{h.focus()}catch(aR){}return new EA(h)}function TA(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var AA="__/auth/handler",CA="emulator/auth/handler";function NA(e,t,n,r,i,a){r_(e.config.authDomain,e,"auth-domain-config-required"),r_(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ua,eventId:i};if(t instanceof rE){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var l=c(u[s],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof iE){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(AA);return h_(t,CA)}(e),"?").concat(oi(p).slice(1))}var RA="webStorageSupport",OA=function(){function e(){Sr(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ES,this._completeRedirectFn=$T,this._overrideRedirectResult=zT}return Ar(e,[{key:"_openPopup",value:function(){var e=Ir(br().mark((function e(t,n,r,i){var a,o;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a_(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=NA(t,n,r,u_(),i),e.abrupt("return",SA(t,o,AS()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ir(br().mark((function e(t,n,r,i){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=NA(t,n,r,u_(),i),NS().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(a_(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Ir(br().mark((function e(t){var n,r;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bA(t);case 2:return n=e.sent,r=new rA(t),n.register("authEvent",(function(e){return r_(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(RA,{type:RA},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Zx(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return lA.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return hI()||rI()||cI()}}]),e}(),DA=OA,PA=function(e){Or(n,e);var t=Mr(n);function n(e){var r;return Sr(this,n),(r=t.call(this,"phone")).credential=e,r}return Ar(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return y_(e,"POST","/v2/accounts/mfaEnrollment:finalize",m_(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return y_(e,"POST","/v2/accounts/mfaSignIn:finalize",m_(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){Sr(this,e),this.factorId=t}return Ar(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return i_("unexpected MultiFactorSessionType")}}}]),e}()),LA=function(){function e(){Sr(this,e)}return Ar(e,null,[{key:"assertion",value:function(e){return PA._fromCredential(e)}}]),e}();LA.FACTOR_ID="phone";var MA,jA="@firebase/auth",FA="0.20.3",UA=function(){function e(t){Sr(this,e),this.auth=t,this.internalListeners=new Map}return Ar(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Ir(br().mark((function e(t){var n;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){r_(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function VA(){return window}MA="Browser",ta(new di("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){r_(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),r_(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:MA,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dI(MA)},i=new vI(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(s_);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),ta(new di("auth-internal",(function(e){return function(e){return new UA(e)}(mI(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),pa(jA,FA,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(MA)),pa(jA,FA,"esm2017");function BA(e,t,n){return zA.apply(this,arguments)}function zA(){return zA=Ir(br().mark((function e(t,n,r){var i,a,o,s,u;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=VA(),o=a.BuildInfo,a_(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,QA(n.sessionId);case 4:return s=e.sent,u={},cI()?u.ibi=o.packageName:oI()?u.apn=o.packageName:Zx(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",NA(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),zA.apply(this,arguments)}function qA(){return(qA=Ir(br().mark((function e(t){var n,r,i;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=VA(),r=n.BuildInfo,i={},cI()?i.iosBundleId=r.packageName:oI()?i.androidPackageName=r.packageName:Zx(t,"operation-not-supported-in-this-environment"),e.next=5,oA(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function WA(e){var t=VA().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hr();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function KA(e,t,n){return HA.apply(this,arguments)}function HA(){return HA=Ir(br().mark((function e(t,n,r){var i,a,o;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=VA(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i($x(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),oI()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),HA.apply(this,arguments)}function GA(e){var t,n,r,i,a,o,s,u,c,l,f=VA();r_("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),r_("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),r_("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),r_("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),r_("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function QA(e){return YA.apply(this,arguments)}function YA(){return(YA=Ir(br().mark((function e(t){var n,r,i;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JA(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function JA(e){if(a_(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var XA=function(e){Or(n,e);var t=Mr(n);function n(){var e;return Sr(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Ar(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Va(Dr(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Ir(br().mark((function e(){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(rA);function ZA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:rC(),postBody:null,tenantId:e.tenantId,error:$x(e,"no-auth-event")}}function $A(e,t){return iC()._set(aC(e),t)}function eC(e){return tC.apply(this,arguments)}function tC(){return(tC=Ir(br().mark((function e(t){var n;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iC()._get(aC(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,iC()._remove(aC(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nC(e,t){var n,r,i=function(e){var t=oC(e),n=t.link?decodeURIComponent(t.link):void 0,r=oC(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return oC(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=oC(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(aR){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?$x(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function rC(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function iC(){return s_(_S)}function aC(e){return $_("authEvent",e.config.apiKey,e.name)}function oC(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=a(t=n)||wr(t)||s(t)||u();r[0];return si(r.slice(1).join("?"))}var sC=function(){function e(){Sr(this,e),this._redirectPersistence=ES,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=$T,this._overrideRedirectResult=zT}return Ar(e,[{key:"_initialize",value:function(){var e=Ir(br().mark((function e(t){var n,r;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new XA(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Zx(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Ir(br().mark((function e(t,n,r,i){var a,o,s,u;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return GA(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),MT.clear(),e.next=10,this._originValidation(t);case 10:return o=ZA(t,r,i),e.next=13,$A(t,o);case 13:return e.next=15,BA(t,o,n);case 15:return s=e.sent,e.next=18,WA(s);case 18:return u=e.sent,e.abrupt("return",KA(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return qA.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=VA(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Ir(br().mark((function n(){return br().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,eC(e);case 2:t.onEvent(cC());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=Ir(br().mark((function n(r){var i,a;return br().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,eC(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=nC(i,r.url)),t.onEvent(a||cC());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");VA().handleOpenURL=function(){var e=Ir(br().mark((function e(t){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(aR){console.error(aR)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),uC=sC;function cC(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:$x("no-auth-event")}}function lC(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function fC(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hr();return!("file:"!==lC()&&"ionic:"!==lC()&&"capacitor:"!==lC()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function hC(){return Xr()&&11===(null===document||void 0===document?void 0:document.documentMode)}function dC(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hr();return/Edge\/\d+/.test(e)}function pC(){try{var e=self.localStorage,t=AS();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hr();return hC()||dC(e)}()||Zr()}catch(aR){return vC()&&Zr()}return!1}function vC(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function mC(){return("http:"===lC()||"https:"===lC()||Yr()||fC())&&!(Jr()||Qr())&&pC()&&!vC()}function yC(){return fC()&&"undefined"!==typeof document}function gC(){return kC.apply(this,arguments)}function kC(){return(kC=Ir(br().mark((function e(){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(yC()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bC={LOCAL:"local",NONE:"none",SESSION:"session"},wC=r_,xC="persistence";function _C(e,t){wC(Object.values(bC).includes(t),e,"invalid-persistence-type"),Jr()?wC(t!==bC.SESSION,e,"unsupported-persistence-type"):Qr()?wC(t===bC.NONE,e,"unsupported-persistence-type"):vC()?wC(t===bC.NONE||t===bC.LOCAL&&Zr(),e,"unsupported-persistence-type"):wC(t===bC.NONE||pC(),e,"unsupported-persistence-type")}function IC(e){return EC.apply(this,arguments)}function EC(){return(EC=Ir(br().mark((function e(t){var n,r;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=SC(),r=$_(xC,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SC(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(aR){return null}}var TC=r_,AC=function(){function e(){Sr(this,e),this.browserResolver=s_(DA),this.cordovaResolver=s_(uC),this.underlyingResolver=null,this._redirectPersistence=ES,this._completeRedirectFn=$T,this._overrideRedirectResult=zT}return Ar(e,[{key:"_initialize",value:function(){var e=Ir(br().mark((function e(t){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Ir(br().mark((function e(t,n,r,i){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ir(br().mark((function e(t,n,r,i){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return yC()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return TC(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Ir(br().mark((function e(){var t;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,gC();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function CC(e){return e.unwrap()}function NC(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new LC(e,function(e,t){var n,r=hi(e),i=t;return r_(t.customData.operationType,r,"argument-error"),r_(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),mS._fromError(r,i)}(e,t));else if(r){var i=RC(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function RC(e){var t=(e instanceof $r?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof $r)&&"temporaryProof"in t&&"phoneNumber"in t)return wT.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Fx)return null;switch(r){case jx:n=sE;break;case Lx:n=oE;break;case Mx:n=uE;break;case Ux:n=fE;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?cE._create(r,s):GI._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new aE(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof $r?n.credentialFromError(e):n.credentialFromResult(e)}function OC(e,t){return t.catch((function(t){throw t instanceof $r&&NC(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,RC(t)),additionalUserInfo:pS(e),user:MC.getOrCreate(r)}}))}function DC(e,t){return PC.apply(this,arguments)}function PC(){return(PC=Ir(br().mark((function e(t,n){var r;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return OC(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var LC=function(){function e(t,n){Sr(this,e),this.resolver=n,this.auth=t.wrapped()}return Ar(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return OC(CC(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),MC=function(){function e(t){Sr(this,e),this._delegate=t,this.multiFactor=function(e){var t=hi(e);return kS.has(t)||kS.set(t,gS._fromUser(t)),kS.get(t)}(t)}return Ar(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Ir(br().mark((function e(t){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",OC(this.auth,OE(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Ir(br().mark((function e(t,n){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",DC(this.auth,vT(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Ir(br().mark((function e(t){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",OC(this.auth,DT(this._delegate,t,AC)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Ir(br().mark((function e(t){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,IC(mI(this.auth));case 2:return e.abrupt("return",YT(this._delegate,t,AC));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Ir(br().mark((function e(t){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",OC(this.auth,PE(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return DC(this.auth,function(e,t,n){return yT.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return OC(this.auth,function(e,t,n){return OT.apply(this,arguments)}(this._delegate,e,AC))}},{key:"reauthenticateWithRedirect",value:function(){var e=Ir(br().mark((function e(t){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,IC(mI(this.auth));case 2:return e.abrupt("return",GT(this._delegate,t,AC));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return tS.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Ir(br().mark((function e(t){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bE(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return oS(hi(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return oS(hi(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return bT.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return aS.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return nS.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();MC.USER_MAP=new WeakMap;var jC=r_,FC=function(){function e(t,n){if(Sr(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;jC(r,"invalid-api-key",{appName:t.name}),jC(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?AC:void 0;this._delegate=n.initialize({options:{persistence:VC(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Gx),this.linkUnderlyingAuth()}return Ar(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?MC.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){gI(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return WE.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return KE(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return qE.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Ir(br().mark((function e(t,n){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",OC(this._delegate,QE(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return eS.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=tE.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Ir(br().mark((function e(){var t;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jC(mC(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,XT(this._delegate,AC);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",OC(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){mI(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=UC(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=UC(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return JE.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return zE.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Ir(br().mark((function e(t){var n,r;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_C(this._delegate,t),e.t0=t,e.next=e.t0===bC.SESSION?4:e.t0===bC.LOCAL?6:e.t0===bC.NONE?11:13;break;case 4:return n=ES,e.abrupt("break",14);case 6:return e.next=8,s_(QS)._isAvailable();case 8:return r=e.sent,n=r?QS:_S,e.abrupt("break",14);case 11:return n=Z_,e.abrupt("break",14);case 13:return e.abrupt("return",Zx("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return OC(this._delegate,function(e){return mE.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return OC(this._delegate,NE(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return OC(this._delegate,function(e,t){return FE.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return OC(this._delegate,function(e,t,n){return NE(hi(e),nE.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return OC(this._delegate,function(e,t,n){return XE.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return DC(this._delegate,function(e,t,n){return pT.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Ir(br().mark((function e(t){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jC(mC(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",OC(this._delegate,NT(this._delegate,t,AC)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Ir(br().mark((function e(t){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jC(mC(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,IC(this._delegate);case 3:return e.abrupt("return",KT(this._delegate,t,AC));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return GE.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function UC(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&MC.getOrCreate(e))},error:t,complete:n}}function VC(e,t){var n=function(e,t){var n=SC();if(!n)return[];var r=$_(xC,e,t);switch(n.getItem(r)){case bC.NONE:return[Z_];case bC.LOCAL:return[QS,ES];case bC.SESSION:return[ES];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(QS)||n.push(QS),"undefined"!==typeof window)for(var r=0,i=[_S,ES];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Z_)||n.push(Z_),n}FC.Persistence=bC;var BC=function(){function e(){Sr(this,e),this.providerId="phone",this._delegate=new wT(CC(Fa.auth()))}return Ar(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return wT.credential(e,t)}}]),e}();BC.PHONE_SIGN_IN_METHOD=wT.PHONE_SIGN_IN_METHOD,BC.PROVIDER_ID=wT.PROVIDER_ID;var zC=r_,qC=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fa.app();Sr(this,e),zC(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new fT(t,n,i.auth()),this.type=this._delegate.type}return Ar(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new di("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new FC(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Vx,PASSWORD_RESET:Bx,RECOVER_EMAIL:zx,REVERT_SECOND_FACTOR_ADDITION:qx,VERIFY_AND_CHANGE_EMAIL:Wx,VERIFY_EMAIL:Kx}},EmailAuthProvider:nE,FacebookAuthProvider:oE,GithubAuthProvider:uE,GoogleAuthProvider:sE,OAuthProvider:aE,SAMLAuthProvider:lE,PhoneAuthProvider:BC,PhoneMultiFactorGenerator:LA,RecaptchaVerifier:qC,TwitterAuthProvider:fE,Auth:FC,AuthCredential:wI,Error:$r}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.16")}(Fa);var WC="firebasestorage.googleapis.com",KC=function(e){Or(n,e);var t=Mr(n);function n(e,r){var i;return Sr(this,n),(i=t.call(this,HC(e),"Firebase Storage: ".concat(r," (").concat(HC(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(Nr(i),n.prototype),i}return Ar(n,[{key:"_codeEquals",value:function(e){return HC(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}($r);function HC(e){return"storage/"+e}function GC(){return new KC("unknown","An unknown error occurred, please check the error payload for server response.")}function QC(){return new KC("canceled","User canceled the upload/download.")}function YC(e){return new KC("invalid-argument",e)}function JC(){return new KC("app-deleted","The Firebase app was deleted.")}function XC(e){throw new KC("internal-error","Internal error: "+e)}var ZC,$C=function(){function e(t,n){Sr(this,e),this.bucket=t,this.path_=n}return Ar(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(aR){return new e(t,"")}if(""===r.path)return r;throw new KC("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===WC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new KC("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),eN=function(){function e(t){Sr(this,e),this.promise_=Promise.reject(t)}return Ar(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function tN(e){return"string"===typeof e||e instanceof String}function nN(e,t,n,r){if(r<t)throw YC("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw YC("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function rN(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function iN(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(ZC||(ZC={}));var aN=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var h=this;Sr(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return Ar(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(aR){i(aR)}else if(null!==a){var s=GC();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?JC():QC());else i(new KC("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new oN(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new oN(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===ZC.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new oN(o,r))}else{var s=r.getErrorCode()===ZC.ABORT;t(!1,new oN(!1,null,s))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),oN=Ar((function e(t,n,r){Sr(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function sN(e){var t;try{t=JSON.parse(e)}catch(aR){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function uN(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function cN(e,t){return t}var lN=Ar((function e(t,n,r,i){Sr(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||cN})),fN=null;function hN(){if(fN)return fN;var e=[];e.push(new lN("bucket")),e.push(new lN("generation")),e.push(new lN("metageneration")),e.push(new lN("name","fullPath",!0));var t=new lN("name");t.xform=function(e,t){return function(e){return!tN(e)||e.length<2?e:uN(e)}(t)},e.push(t);var n=new lN("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new lN("timeCreated")),e.push(new lN("updated")),e.push(new lN("md5Hash",null,!0)),e.push(new lN("cacheControl",null,!0)),e.push(new lN("contentDisposition",null,!0)),e.push(new lN("contentEncoding",null,!0)),e.push(new lN("contentLanguage",null,!0)),e.push(new lN("contentType",null,!0)),e.push(new lN("metadata","customMetadata",!0)),fN=e}function dN(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new $C(n,r);return t._makeStorageReference(i)}})}(r,e),r}function pN(e,t,n){var r=sN(t);return null===r?null:dN(e,r,n)}var vN=Ar((function e(t,n,r,i){Sr(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function mN(e){if(!e)throw GC()}function yN(e,t){return function(n,r){var i=pN(e,r,t);return mN(null!==i),function(e,t,n,r){var i=sN(t);if(null===i)return null;if(!tN(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return rN("/b/"+o(i)+"/o/"+o(a),n,r)+iN({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function gN(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new KC("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new KC("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new KC("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new KC("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function kN(e){var t=gN(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new KC("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}var bN=function(){function e(){var t=this;Sr(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ZC.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=ZC.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=ZC.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return Ar(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw XC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw XC("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw XC("cannot .getStatus() before sending");try{return this.xhr_.status}catch(aR){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw XC("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw XC("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),wN=function(e){Or(n,e);var t=Mr(n);function n(){return Sr(this,n),t.apply(this,arguments)}return Ar(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(bN);function xN(){return new wN}var _N=function(){function e(t,n){Sr(this,e),this._service=t,this._location=n instanceof $C?n:$C.makeFromUrl(n,t.host)}return Ar(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new $C(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return uN(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new $C(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new KC("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function IN(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=rN(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new vN(r,"GET",yN(e,n),i);return a.errorHandler=kN(t),a}(e.storage,e._location,hN());return e.storage.makeRequestWithTokens(t,xN).then((function(e){if(null===e)throw new KC("no-download-url","The given file does not have any download URLs.");return e}))}function EN(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new $C(e._location.bucket,n);return new _N(e.storage,r)}function SN(e,t){if(e instanceof CN){var n=e;if(null==n._bucket)throw new KC("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new _N(n,n._bucket);return null!=t?SN(r,t):r}return void 0!==t?EN(e,t):e}function TN(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof CN)return new _N(e,t);throw YC("To use ref(service, url), the first argument must be a Storage instance.")}return SN(e,t)}function AN(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:$C.makeFromBucketSpec(n,e)}var CN=function(){function e(t,n,r,i,a){Sr(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=WC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?$C.makeFromBucketSpec(i,this._host):AN(this._host,this.app.options)}return Ar(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=$C.makeFromBucketSpec(this._url,e):this._bucket=AN(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){nN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){nN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Ir(br().mark((function e(){var t,n;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Ir(br().mark((function e(){var t,n;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new _N(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new eN(JC());var a=function(e,t,n,r,i,a){var o=iN(e.urlParams),s=e.url+o,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new aN(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=Ir(br().mark((function e(t,n){var r,i,a,o;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=c(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),NN="@firebase/storage",RN="0.9.7",ON="storage";function DN(e){return IN(e=hi(e))}function PN(e,t){return TN(e=hi(e),t)}function LN(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new CN(r,i,a,n,ua)}ta(new di(ON,LN,"PUBLIC").setMultipleInstances(!0)),pa(NN,RN,""),pa(NN,RN,"esm2017");var MN=Fa.initializeApp({apiKey:{NODE_ENV:"production",PUBLIC_URL:"/genshindb",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_API_KEY,authDomain:{NODE_ENV:"production",PUBLIC_URL:"/genshindb",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_AUTH_DOMAIN,projectId:{NODE_ENV:"production",PUBLIC_URL:"/genshindb",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_PROJECT_ID,storageBucket:{NODE_ENV:"production",PUBLIC_URL:"/genshindb",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:{NODE_ENV:"production",PUBLIC_URL:"/genshindb",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_MESSAGE_SENDER_ID,appId:{NODE_ENV:"production",PUBLIC_URL:"/genshindb",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_APP_ID,measurementId:{NODE_ENV:"production",PUBLIC_URL:"/genshindb",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_MEASUREMENT_ID}),jN=Fa.firestore(),FN=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:la(),t=arguments.length>1?arguments[1]:void 0,n=na(e=hi(e),ON),r=n.getImmediate({identifier:t});return r}(MN),UN=function(e){var t=e.messages;return(0,Z.jsxs)("p",{className:"error__message mt-4",children:[t||(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("span",{className:"block",children:"There was an error when loading page."}),(0,Z.jsx)("span",{className:"block",children:"Please try again later."})]}),(0,Z.jsx)(X,{to:"/Home",className:"text-xl underline block mt-4",children:"Return to Home Page"})]})},VN=function(e){var t=e.message;return(0,Z.jsxs)("div",{className:"err__msg font-semibold text-center text-2xl lightcolor my-16",children:[(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 block mx-auto",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Z.jsx)("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})}),t?(0,Z.jsx)(UN,{messages:t}):(0,Z.jsx)(UN,{})]})},BN=function(){return(0,Z.jsxs)("div",{className:"text-center text-3xl text-[#6a91e9] font-bold my-16",children:[(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-14 w-14 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,Z.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"})}),"Loading..."]})},zN=function(e){var t=e.onclick;return(0,Z.jsx)("button",{onClick:t,className:"py-3 px-6 rounded-lg bg-[#282C36] text-white mx-auto block",children:"Load More"})};function qN(e){document.querySelectorAll(".navlink").forEach((function(t){t.classList.add("opacity-40"),document.getElementById(e).classList.remove("opacity-40")}))}var WN=function(e){var t=e.arr,n=e.limit;return t.slice(0,n).map((function(e,t){return(0,Z.jsxs)(X,{className:"group block rounded-xl bg-[#23252a] shadow-xl text-white relative",to:"/ViewCharacter/".concat(e.name),"data-name":e.name,title:e.name,children:["N/A"!==e.element&&(0,Z.jsx)("div",{className:"char__element absolute top-3 left-3 rounded-full p-1.5 bg-black bg-opacity-50 w-7 h-7 sm:w-8 sm:h-8 z-50",children:(0,Z.jsx)("img",{src:"https://firebasestorage.googleapis.com/v0/b/project1-82261.appspot.com/o/elements%2F".concat(e.element,".png?alt=media&token=4c613456-ba83-4f79-9844-68bba9917c6d"),alt:"",className:"rounded-full"})}),(0,Z.jsx)("div",{className:"icon relative ".concat("5"===e.rarity?"bg-[#e1872280]":"bg-[#ae92d680]"," rounded-t-xl"),children:(0,Z.jsx)("img",{src:e.images.icon,alt:e.name+" avatar",className:"mx-auto rounded-t-xl"})}),(0,Z.jsx)("div",{className:"characters__name text-center py-3 px-1",children:(0,Z.jsx)("p",{className:"group-hover:text-[#6291e9] transition duration-300 text-ellipsis overflow-hidden",children:e.name})})]},t)}))},KN=function(){var e=c((0,r.useState)([]),2),t=e[0],n=e[1],i=c((0,r.useState)(!1),2),a=i[0],o=i[1],s=c((0,r.useState)([]),2),u=s[0],l=s[1],f=c((0,r.useState)(30),2),h=f[0],d=f[1],p=(0,r.useRef)(""),v=c((0,r.useState)(""),2),m=v[0],y=v[1];function g(){return g=Ir(br().mark((function e(){var t,r;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=xb(jN,"characters"),r=Ew(t,Aw("rarity","desc"),Aw("name")),e.next=4,$w(r,(function(e){e.forEach((function(e){n((function(t){return[].concat(xr(t),[e.data()])}))}))}),(function(){y("Error loading Character Data. Try Again Later.")}));case 4:o(!1);case 5:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}return(0,r.useEffect)((function(){o(!0),document.title="Genshin Impact Database - Characters",function(){g.apply(this,arguments)}(),qN("Characters")}),[]),a?(0,Z.jsx)(BN,{}):m?(0,Z.jsx)(VN,{message:m}):(0,Z.jsxs)("div",{className:"characters__container",children:[(0,Z.jsxs)("div",{className:"flex justify-between flex-col md:flex-row md:items-center gap-4 mt-4 relative",children:[(0,Z.jsxs)("h1",{className:"page__title lightcolor text-4xl font-bold text-center sm:text-left group",children:["Game Characters ",(0,Z.jsx)("span",{className:"hidden group-hover:inline",children:"#"})]}),(0,Z.jsxs)("div",{className:"search__box relative w-full max-w-[350px]",children:[(0,Z.jsx)("input",{type:"search",name:"searchCharacter",id:"searchCharacter",className:"bg-[#23252a] py-3 pl-12 inline-block w-full mt-4 rounded-xl outline-none focus:outline-2 focus:outline-slate-600 text-white",placeholder:"Search for Character Name...",ref:p,onChange:function(){l([]);var e=p.current.value.toLowerCase();l(t.filter((function(t){return t.name.toLowerCase().includes(e)})))}}),(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white/80 absolute top-7 left-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,Z.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),(0,Z.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-6 lg:grid-cols-7 gap-4 py-8",children:t.length>0&&0===u.length?(0,Z.jsx)(WN,{arr:t,limit:h}):(0,Z.jsx)(WN,{arr:u,limit:h})}),t.length>0&&h<t.length&&(0,Z.jsx)(zN,{onclick:function(){return d((function(e){return e+30}))}})]})},HN=function(){var e=V().name,t=c((0,r.useState)(""),2),n=t[0],i=t[1],a=c((0,r.useState)(),2),o=a[0],s=a[1],u=c((0,r.useState)([]),2),l=u[0],f=u[1],h=c((0,r.useState)(""),2),d=h[0],p=h[1],v=c((0,r.useState)(!1),2),m=v[0],y=v[1],g=U();function k(){return k=Ir(br().mark((function e(t){var n;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(),y(!0),n=_b(jN,"characters",t),e.next=5,Gw(n).then(function(){var e=Ir(br().mark((function e(t){var n,r;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.exists()){e.next=9;break}return s(t.data()),e.next=4,DN(PN(FN,"elements/".concat(t.data().element,".png"))).then((function(e){p(e)}));case 4:if(n=[],t.data().constellations)for(r in t.data().constellations)n.push(Si({},t.data().constellations[r]));f(n),e.next=10;break;case 9:g("/Characters",{replace:!0});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)}));case 5:y(!1);case 6:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}return(0,r.useEffect)((function(){void 0!==e?function(e){k.apply(this,arguments)}(e):g("/Error",{replace:!0}),i(e),document.title="Genshin Character - ".concat(e),qN("Characters")}),[]),(0,Z.jsxs)("div",{className:"char__container",children:[(0,Z.jsxs)(X,{to:"/Characters",id:"return",className:"flex items-center gap-1 lightcolor transition duration-300 opacity-70 hover:opacity-100 font-semibold w-max",children:[(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,Z.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})}),(0,Z.jsx)("span",{className:"text-xl",children:"Return to Characters"})]}),(0,Z.jsxs)("h1",{className:"page__title lightcolor text-4xl font-bold mt-4 text-center sm:text-left",children:["Character - ",n]}),m&&(0,Z.jsx)(BN,{}),o&&(0,Z.jsxs)("div",{className:"wrapper mt-8 px-4 sm:px-8 py-8 rounded-xl shadow-2xl mb-10 darkblue",children:[(0,Z.jsxs)("div",{className:"char__details lg:flex lg:gap-4",children:[(0,Z.jsx)("div",{className:"char__card shrink-0 text-white",children:(0,Z.jsx)("img",{src:o.images.cover2,className:"w-[350px] mx-auto lg:mx-0",alt:o.name})}),(0,Z.jsx)("div",{className:"char__stats text-white mt-6 lg:mt-0",children:(0,Z.jsxs)("div",{className:" shadow overflow-hidden sm:rounded-lg",children:[(0,Z.jsx)("div",{className:"px-4 pb-6 sm:px-6",children:(0,Z.jsxs)("h3",{className:"text-2xl leading-6 font-bold lightcolor flex items-center flex-col sm:flex-row gap-2",children:[(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,Z.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Character Information"]})}),(0,Z.jsx)("div",{className:"pt-4 border-t-4 border-blue-900 text-white",children:(0,Z.jsxs)("dl",{children:[(0,Z.jsxs)("div",{className:"px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,Z.jsx)("dt",{className:"font-bold text-gray-200",children:"Name"}),(0,Z.jsx)("dd",{className:"mt-1 sm:mt-0 sm:col-span-2",children:o.name})]}),(0,Z.jsxs)("div",{className:"px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,Z.jsx)("dt",{className:"font-bold text-gray-200",children:"Element"}),"N/A"!==o.element?(0,Z.jsx)("dd",{className:"mt-1 sm:mt-0 sm:col-span-2",children:(0,Z.jsx)("img",{src:d,alt:"Element",className:"w-8 h-8",title:o.element})}):(0,Z.jsx)("dd",{className:"mt-1 sm:mt-0 sm:col-span-2",children:(0,Z.jsx)("p",{children:"N/A"})})]}),(0,Z.jsxs)("div",{className:"px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,Z.jsx)("dt",{className:"font-bold text-gray-200",children:"Weapon Type"}),(0,Z.jsx)("dd",{className:"mt-1 sm:mt-0 sm:col-span-2",children:o.weapontype})]}),(0,Z.jsxs)("div",{className:"px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,Z.jsx)("dt",{className:"text-sm font-bold text-gray-200",children:"Rarity"}),(0,Z.jsxs)("dd",{className:"mt-1 sm:mt-0 sm:col-span-2 flex items-center gap-1",children:[o.rarity,(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Z.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})]})]}),(0,Z.jsxs)("div",{className:"px-4 py-5 grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,Z.jsx)("dt",{className:"font-bold text-gray-200",children:"Ascension Stats"}),(0,Z.jsx)("dd",{className:"mt-1 sm:mt-0 sm:col-span-2",children:"Elemental Mastery"!==o.substat?o.substat+" %":o.substat})]}),(0,Z.jsxs)("div",{className:"px-4 py-5 grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,Z.jsx)("dt",{className:"font-bold text-gray-200",children:"Affiliation"}),(0,Z.jsx)("dd",{className:"mt-1 sm:mt-0 sm:col-span-2",children:o.affiliation})]}),(0,Z.jsxs)("div",{className:"px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,Z.jsx)("dt",{className:"font-bold text-gray-200",children:"Birthday"}),(0,Z.jsx)("dd",{className:"mt-1 sm:mt-0 sm:col-span-2",children:o.birthday})]}),(0,Z.jsxs)("div",{className:"px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,Z.jsx)("dt",{className:"font-bold text-gray-200",children:"Description"}),(0,Z.jsx)("dd",{className:"mt-1 sm:mt-0 sm:col-span-2",children:o.description})]}),(0,Z.jsxs)("div",{className:"px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,Z.jsx)("dt",{className:"font-bold text-gray-200",children:"Constellation"}),(0,Z.jsx)("dd",{className:"mt-1 sm:mt-0 sm:col-span-2",children:o.constellation})]}),(0,Z.jsxs)("div",{className:"px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,Z.jsx)("dt",{className:"font-bold text-gray-200",children:"CV"}),(0,Z.jsxs)("dd",{className:"mt-1 sm:mt-0 sm:col-span-2",children:[(0,Z.jsxs)("p",{className:"cv__cn",children:["CN: ",o.cv.chinese]}),(0,Z.jsxs)("p",{className:"cv__en",children:["EN: ",o.cv.english]}),(0,Z.jsxs)("p",{className:"cv__jp",children:["JP: ",o.cv.japanese]}),(0,Z.jsxs)("p",{className:"cv__kr",children:["KR: ",o.cv.korean]})]})]})]})})]})})]}),o.constellations&&(0,Z.jsxs)("div",{className:"mt-12 constellations max-w-screen-lg",children:[(0,Z.jsxs)("h2",{className:"constellations__title text-2xl lightcolor font-bold",children:["Constellation - ",o.constellation]}),(0,Z.jsx)("div",{className:"constellation__details mt-6 flex flex-col gap-8",children:l&&l.map((function(e,t){return(0,Z.jsxs)("div",{className:"cons__rows flex items-center gap-4 flex-col sm:flex-row text-center sm:text-left",children:[(0,Z.jsx)("div",{className:"cons__icon rounded-full p-2 bg-black/50 w-[80px] shrink-0",children:(0,Z.jsx)("img",{src:e.img,alt:""})}),(0,Z.jsxs)("div",{className:"cons__details",children:[(0,Z.jsx)("p",{className:"cons__name text-white font-bold text-xl",children:e.name}),(0,Z.jsx)("p",{className:"cons__desc text-white mt-2 sm:mt-0",children:e.effect})]})]},t)}))})]})]})]})},GN=function(e){return e.arr.map((function(e,t){return(0,Z.jsxs)(X,{className:"group block rounded-xl bg-[#23252a] shadow-xl text-white relative",to:"/ViewWeapons/".concat(e.name),"data-name":e.name,title:e.name,children:[(0,Z.jsxs)("div",{className:"weap_rarity absolute top-3 left-3 rounded-full p-1.5 bg-black/50 w-7 h-7 sm:w-8 sm:h-8 z-50 flex items-center justify-center",children:[e.rarity,(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Z.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})]}),(0,Z.jsx)("div",{className:"icon relative ".concat(e.rarity>="4"?"5"===e.rarity?"bg-[#e1872280]":"bg-[#ae92d680]":"bg-gray-600"," rounded-t-xl"),children:(0,Z.jsx)("img",{src:e.images.icon,alt:"",className:"mx-auto rounded-t-xl"})}),(0,Z.jsx)("div",{className:"characters__name text-center py-3 px-1",children:(0,Z.jsx)("p",{className:"group-hover:text-[#6291e9] transition duration-300 text-ellipsis overflow-hidden",children:e.name})})]},t)}))},QN=function(){var e=c((0,r.useState)(!1),2),t=e[0],n=e[1],i=c((0,r.useState)([]),2),a=i[0],o=i[1],s=c((0,r.useState)([]),2),u=s[0],l=s[1],f=(0,r.useRef)(""),h=c((0,r.useState)(""),2),d=h[0],p=h[1];function v(){return(v=Ir(br().mark((function e(){var t,r;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=xb(jN,"weapons"),r=Ew(t,Aw("rarity","desc"),Aw("name")),e.next=4,$w(r,(function(e){e.forEach((function(e){o((function(t){return[].concat(xr(t),[e.data()])}))}))}),(function(){return p("Error loading Weapons Data. Try again later.")}));case 4:n(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,r.useEffect)((function(){n(!0),document.title="Genshin Impact Database - Weapons",function(){v.apply(this,arguments)}(),qN("Weapons")}),[]),t?(0,Z.jsx)(BN,{}):d?(0,Z.jsx)(VN,{message:d}):(0,Z.jsxs)("div",{className:"weapons__container",children:[(0,Z.jsxs)("div",{className:"flex justify-between flex-col md:flex-row md:items-center gap-4 mt-4 relative",children:[(0,Z.jsxs)("h1",{className:"page__title lightcolor text-4xl font-bold text-center sm:text-left group",children:["Weapons ",(0,Z.jsx)("span",{className:"hidden group-hover:inline",children:"#"})]}),(0,Z.jsxs)("div",{className:"search__box relative w-full max-w-[350px]",children:[(0,Z.jsx)("input",{type:"search",name:"searchWeapon",id:"searchWeapon",className:"bg-[#23252a] py-3 pl-12 inline-block w-full mt-4 rounded-xl outline-none focus:outline-2 focus:outline-slate-600 text-white",placeholder:"Search for Weapon Name...",ref:f,onChange:function(){l([]);var e=f.current.value.toLowerCase();""!==e&&l(a.filter((function(t){return-1!==t.name.toLowerCase().indexOf(e)})))}}),(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white/80 absolute top-7 left-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,Z.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),(0,Z.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-6 lg:grid-cols-7 gap-4 py-8",children:a&&0===u.length?(0,Z.jsx)(GN,{arr:a}):(0,Z.jsx)(GN,{arr:u})})]})},YN=function(e){return e.arr.map((function(e,t){return(0,Z.jsxs)(X,{className:"group block rounded-xl bg-[#23252a] shadow-xl text-white relative",to:"/ViewArtifacts/".concat(e.name),"data-name":e.name,title:e.name,children:[(0,Z.jsxs)("div",{className:"icon relative ".concat(e.rarity.includes("5")?"bg-[#e1872280]":"bg-gray-600"," rounded-t-xl"),children:[(0,Z.jsx)("div",{className:"w-1/2 absolute inset-0 h-full bg-[#ae92d6] z-0 rounded-tl-xl"}),(0,Z.jsx)("img",{src:e.images.flower?e.images.flower:e.images.circlet,alt:"",className:"mx-auto rounded-t-xl relative z-30"})]}),(0,Z.jsx)("div",{className:"artifact__name text-center py-3 px-1",children:(0,Z.jsx)("p",{className:"group-hover:text-[#6291e9] transition duration-300 text-ellipsis overflow-hidden",children:e.name})})]},t)}))},JN=function(){var e=c((0,r.useState)(!1),2),t=e[0],n=e[1],i=c((0,r.useState)([]),2),a=i[0],o=i[1],s=c((0,r.useState)([]),2),u=s[0],l=s[1],f=(0,r.useRef)(""),h=c((0,r.useState)(""),2),d=h[0],p=h[1];function v(){return v=Ir(br().mark((function e(){var t,r;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=xb(jN,"artifacts"),r=Ew(t,Nw(40)),e.next=4,$w(r,(function(e){var t=[];e&&e.forEach((function(e){t.push(e.data())})),o(t.sort((function(e,t){return Number(t.rarity[0])-Number(e.rarity[0])})))}),(function(){p("Error loading Artifacts Data. Try again later.")}));case 4:n(!1);case 5:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}return(0,r.useEffect)((function(){n(!0),document.title="Genshin Impact Database - Artifacts",function(){v.apply(this,arguments)}(),qN("Artifacts")}),[]),t?(0,Z.jsx)(BN,{}):d?(0,Z.jsx)(VN,{message:d}):(0,Z.jsxs)("div",{className:"artifact__container",children:[(0,Z.jsxs)("div",{className:"flex justify-between flex-col md:flex-row md:items-center gap-4 mt-4 relative",children:[(0,Z.jsxs)("h1",{className:"page__title lightcolor text-4xl font-bold text-center sm:text-left group",children:["Artifacts ",(0,Z.jsx)("span",{className:"hidden group-hover:inline",children:"#"})]}),(0,Z.jsxs)("div",{className:"search__box relative w-full max-w-[350px]",children:[(0,Z.jsx)("input",{type:"search",name:"searchArtifacts",id:"searchArtifacts",className:"bg-[#23252a] py-3 pl-12 inline-block w-full mt-4 rounded-xl outline-none focus:outline-2 focus:outline-slate-600 text-white",placeholder:"Search for Artifact Name...",ref:f,onChange:function(){l([]);var e=f.current.value.toLowerCase();""!==e&&l(a.filter((function(t){return-1!==t.name.toLowerCase().indexOf(e)})))}}),(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white/80 absolute top-7 left-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,Z.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),(0,Z.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 lg:grid-cols-7 gap-4 py-8",children:a&&0===u.length?(0,Z.jsx)(YN,{arr:a}):(0,Z.jsx)(YN,{arr:u})})]})},XN=function(){var e=V().name,t=c((0,r.useState)(""),2),n=t[0],i=t[1],a=c((0,r.useState)(),2),o=a[0],s=a[1],u=c((0,r.useState)(""),2),l=u[0],f=u[1],h=U();function d(){return d=Ir(br().mark((function e(t){var n;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_b(jN,"weapons",t),e.next=3,Gw(n).then((function(e){if(e.exists()){for(var t=e.data().effect,n=0;n<e.data().r1.length;n++)t=t.split("{"+n+"}").join(e.data().r1[n]);f(t),s(e.data())}else h("/Weapons",{replace:!0})}));case 3:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}return(0,r.useEffect)((function(){void 0!==e?function(e){d.apply(this,arguments)}(e):h("/Error",{replace:!0}),i(e),document.title="Genshin Weapon - "+e,document.querySelectorAll(".navlink").forEach((function(e){e.classList.add("opacity-40"),document.getElementById("Weapons").classList.remove("opacity-40")}))}),[]),(0,Z.jsxs)("div",{className:"weapon__container",children:[(0,Z.jsxs)(X,{to:"/Weapons",id:"return",className:"flex items-center gap-1 lightcolor transition duration-300 opacity-70 hover:opacity-100 font-semibold w-max",children:[(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,Z.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})}),(0,Z.jsx)("span",{className:"text-xl",children:"Return to Weapons"})]}),(0,Z.jsxs)("h1",{className:"page__title lightcolor text-4xl font-bold mt-4 text-center sm:text-left",children:["Weapon - ",n]}),o&&(0,Z.jsxs)("div",{className:"mt-10 max-w-screen-xl mx-auto darkblue p-6 rounded-xl",children:[(0,Z.jsxs)("div",{className:"weapon__data rounded-xl flex items-start flex-col md:flex-row gap-5",children:[(0,Z.jsx)("div",{className:"self-center md:self-start p-4 rounded-xl weapon__icon shrink-0 ".concat(o.rarity>="4"?"5"===o.rarity?"bg-[#e1872280]":"bg-[#ae92d680]":"bg-gray-600"),children:(0,Z.jsx)("img",{src:o.images.icon,className:"mx-auto md:mx-0 w-[256px]",alt:""})}),(0,Z.jsxs)("div",{className:"weapon__details text-white",children:[(0,Z.jsx)("p",{className:"weapon__name text-3xl sm:text-4xl font-bold",children:o.name}),(0,Z.jsxs)("p",{className:"weapon__rarity flex items-center text-xl mt-2",children:[o.rarity,(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Z.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})]}),(0,Z.jsxs)("div",{className:"weapon__stats flex flex-col sm:flex-row gap-6 my-4 text-xl",children:[(0,Z.jsxs)("p",{className:"base__atk",children:[(0,Z.jsx)("span",{className:"block font-bold",children:"Base Atk (Lv.1)"}),(0,Z.jsx)("span",{className:"block",children:o.baseatk})]}),""!==o.substat&&(0,Z.jsxs)("p",{className:"sub__stat",children:[(0,Z.jsxs)("span",{className:"block font-bold",children:[o.substat," (Lv.1)"]}),(0,Z.jsxs)("span",{className:"block",children:[o.subvalue," %"]})]})]}),(0,Z.jsx)("span",{className:"weapon__type mt-4 py-2 px-3 rounded-lg bg-blue-800/30 text-opacity-70 text-white",children:o.weapontype}),(0,Z.jsx)("p",{className:"text-normal sm:text-xl opacity-40 mt-5",children:o.description})]})]}),""!==o.effectname&&(0,Z.jsxs)("div",{className:"weapon__effect mt-6 text-white",children:[(0,Z.jsxs)("h2",{className:"effect__name font-bold text-xl sm:text-2xl lightcolor",children:[o.effectname," ",(0,Z.jsx)("span",{className:"text-lg font-normal",children:"*R1"})]}),(0,Z.jsx)("p",{className:"weapon__skill mt-2",children:l})]}),(0,Z.jsxs)("p",{className:"version mt-6 text-lg text-white",children:[(0,Z.jsx)("span",{className:"font-semibold",children:"Released:"})," Version ",o.version]})]})]})},ZN="data:image/png;base64,UklGRjgDAABXRUJQVlA4WAoAAAAQAAAAHQAAHQAAQUxQSB8BAAABgLJt27Lmxpm7u0viIFmb/gAaadl9Ffrc111/AGkuDSrUubvLE15B1yNiAhBBo6KCUj03Vx2E+DmiufjAtX8SfbYHLHqTiGgzOlCqWWZWJZdoLlPy0Mq0gq8sbywCmm68fWmcgm1mu4CT1uf9GFWj649+nUzUBHEnohjnL9GwEuYrIlcKoGx+5j03K4EUF9GVFYjaIHpbMaDmmITHNTCsvBFtRAGwfxGRb8BNku4BHxF92QEgx0MB9uQwyolATSgZ1D8G5rEe3OQdibsbiZ1kHvoljrYl+iE0nop+f0SnRpFuSSS7pBPB9urfqw2SCfM//vzMJ8ggvfXoQ+bjqDUdfmbaN654Vxv2TAQwyuQ4eHg4cJiiEGBFisWSosA/CQBWUDgg8gEAAHALAJ0BKh4AHgAAwBIlpABOGuff8M+pOTheW/kpoiv6f+Mn5GZiX+q/lhVMf9L6HX9d5Mvn7/ge4B/KP5h/nv7F+43Gq/qadHWxOfe8PF5GIAaL+QWIXZa+MunYnRemDOJIhAAA/v/+Tl762vwv0bQjQ9rBQ1PY8gqANQa7NOc258g/+FbshI7ZN5O4dSqfM1/z3x6+nspZY/mNxp4Wy3YXqEboGnYfDl3wRPQerD/KD+Dv+t4/cLn/Qd8RLvxwaPTH9ObXoHzp8f+HEXUR2QlfuTke3+Oi4qO8ECeyaMw/R2M0UPN6jAg611/b/3FjgbW2YeTYZlGTcnyfrYTbVkFJ+watfB/Ml/7CoL/q94cpT+v+MdsMb8U/3VqR5z5HHP9OLhrLF1agkKxvlz6+S9CZIk8I/5h0KzD2fW0wtFIzc26/+rMlTYL4jLcV4FT7QimJd/4oqOa7uVruHowXSVv3+FUlVqLRNCrebUn+3Yqhah/Gc0A/PXbjpOkLd1/CsL1cScY5ni9X48cpRZFvJ9CnEwLkeY/xD94cvFRoKwNYcmit1OXfTHlwUB87H4Nt21ahSCd4zLAtPh3qoQHZ+EQnOzVZ55Htn4oGKFJaRmRBFDs0/5tNhKxkcuXisWGM9BKpTzyASra7Gzj9LEmQ4AAAAA==",$N=function(){return(0,Z.jsx)("div",{className:"circle w-[20px] h-[20px] hidden sm:flex items-center justify-center rounded-full shrink-0",style:{border:"0px solid #6a91e9"},children:(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 lightcolor",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,Z.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})})})},eR=function(e){var t=e.title;return(0,Z.jsx)("h2",{className:"lightcolor text-2xl font-bold",children:t})},tR=function(){var e=c((0,r.useState)(""),2),t=e[0],n=e[1],i=c((0,r.useState)(),2),a=i[0],o=i[1],s=V().name,u=U(),l=[{name:"flower",img:"data:image/png;base64,UklGRkADAABXRUJQVlA4WAoAAAAQAAAAHQAAHQAAQUxQSCYBAAABkGPbtmlb69m2bdu2X87cBbBt2/YLbXzbtu1/tT72wUcBImIC4P+qFuIswUzJ0VySYL785elUjBgDk8Vnd2YTZABU5hARn6cK0dIcFiDixw4dyOL8hqfU6Yg08vF3frf9WSQ+d6ajeBrJH4++U7jQOkNB84YuHfEFZt2idCCdz4TXbilMx+gcE+Rf8aUDaZ+YII5LUMkFVbxkdkmLJOQx8w5ZvKhBCr+JrI6KEhRWkFVOf1mllxCAzUt2BFzEAXEAswfsIOL3DAAQr+WwtaEKAKCUc+aLAFEgYPI5CYhC2vGljQ25M0wmFEiUdkcc/HhpjUP4Mm0CDIUMk7KjtIsEyNttK0pUBFbtriPuGAoBy6LNiI9CgXWpebyXLMKekF+Whwj8LwFWUDgg9AEAANAMAJ0BKh4AHgAAwBIlpABPLn0T8L/2O7FPuF6V5IJ6X+S/4q6hr+v/iX+VWYV/nH5VapF/jfxV17P+Z/ID3Pc4bzR/oPcA/kf8y/zf5h/EB5s3suHWnle79FwUZiZmBvQtCRoX8PgAcOm3ZGOVgAD+/s22X6QO57fvDiC6WlHqrNUCCFx6EXjRnxOZG616qn9tNvb/Sk80IdbEJ4sQcPfcYF3ZM/eGbXx/pNOkaqdrGmjXfQfC6+TU1QJhckR26kieh//xbY1OK71deSb7kqFf7IHrvM1RHi4rNWkC75+imwKef/44RYec+mrIHvRD5K/c3+NOfi5q+zANppOIpAav/Z12w+KJe4PdDlxyDQij7NWBdMNNaVnN/2R/zr8qVYLqzUVHjHXnn/+Vq870tRC5J5+bNvFJnfkUxf++WHOKUxnN7UeJEdI/8xak8aN4wvET6KaXsM0QsECgOzOdr1IHWEggu/5AKZqoW0O5FHBxRmJdJuDemU9h6A8E6XJbaqE758vW00NZuLjUOnwkdLxEfmkRXE9iJsql1R/p+3gK9xPKRAcz+t8ZwPK0QHBTugeqlmI1Et0/VPRUErgh3Zczx3s8NvFnFYfDr6T7PsZ67pBe+00x4juKdf9z8UKl/zkOWCaM6In+1mG8gIXn2dshAAAA",desc:"Flower of Life: Flat HP"},{name:"plume",img:"data:image/png;base64,UklGRqwCAABXRUJQVlA4WAoAAAAQAAAAHQAAHQAAQUxQSPMAAAABgLtt2/FV/PP7Zdu2jc22vXJt/W21uza32a3GZK227X544vO+ISImAP5fZRM3O1Vecm6lw0v7672BfBwrt2X4eUidg07BAn47Z8hm1/WE309oMnmOILVKwOI9g9TbOGB0m0TymC6D4SCSbzKArlAmJonLlRjCDpA8bwFkYdYaku8LgW66gGRxhRpD/hNJ3GYIdLkGpD7WGwGj9SzlTKQJjA7tYsJcggIwKlbK8PtFP2BW68Nv73t9gV177IvrydY8TeBosvLpuERHHrjmPaDs5lykAHwNxhE3skL0gXPUA2KFHHAPOsdlL+CvmlLiKfiBPwwAVlA4IJIBAAAwCgCdASoeAB4AAMASJaQAVwBzgHPW+rmOezIn46ZERpDP951KHmY/y3kp+g/9V7gH8h/ln+Y/rH7b/Bn1F/65HTOo6z6pqEQp0CgM87TOfRwUs1zn1BUDpAAA/v/k5e8ehWsiCYHeA72PA/qC/kaKlMzyJeSDuPQh/mgt8YYsBLHXZBBlHgiun3lHybzkn8HevkTg1FxknuKh/sUEWbv+hRzsZ+9/aGoRJsKdMFh8Gkfrba6HMq+5VmQXXukyWjfRGPOYTfSDSUsVnertXQjhvPZ06ybT0D/135/UfuX06VJLEMCPSLRcOgO8wkX5/+2PiucLaSSllUAjkKPikJK2uVg9ccqqM+lPnSdQhbX/lTknSdULsOKZWmCKi1R0zSTup2QHlkl3C8+FoWHWW1MPBKPONo76whf9fSIyu68HkdveHF/EF98W0QzjOu//n/9XeGX+Wfz3LGKSSLttB2l64jPmPwHcwRxJRF9lEWXJ12VVmE/M+Ana0CDOLVun2cuPJmhAcD9ZkaZ8EO+UnRgAAAA=",desc:"Plume of Death: Flat ATK"},{name:"sands",img:"data:image/png;base64,UklGRtQCAABXRUJQVlA4WAoAAAAQAAAAHQAAHQAAQUxQSAMBAAABgKtt+/nml7oN59q2bc7Z6zEHkStzphxDzdXm6na2bf3e4dfr+37FAUTEBIh/0JJXwsyzkPzcD6/MB7cfxbYF9paNYlnjrVkohuY9zl6zgSJE2yvttU0w7c+0Zzsn85R2mskxDtOGjRzReKp8fiqnjYLt23kMYH8fwHGnL094N61KSAm52uQttMbPAcBcvNAcPKlMBusxpAx/KV/DKQYd5esS38r1cg1R8yDOR7G8XJIiXV6c8G2o+/sKtsM5lXcA3uZqa+feANxVchwSuHWG+/mFO28B6WDkLAK4HO0bGOgbvQSwmEMyjoE9ZqTYtnnbNopxkjdppIhCT3cXudtTKP5BAFZQOCCqAQAAEAsAnQEqHgAeAADAEiWkAE80fY/wg52L03x3PgAba38SfyAzEX9z/KPVDv8B+OWu9/4HpL5ovkD/Qe4H/F/5V/ovy+7Gb2M0D4AEBAbYhleSaimQ/fGC2jfTz/ipTYXYAAD+/7nngIbTUOGaHegqf/xV8f+/9D0ltxrl6wW/9mRfSSjZtdIifwb94Q307JkEg/l+0qS9bs6CtlcV7fURl//coeTsATYDPdejZ8atDTgbQv5/qUXVT5Un1K8vMX/dZKFAk6R1PkEmhWbGqFEhh3HOeFk52Z5Fw87doFVorJTJeVfs6++wRrPr254Lgdjr8fXG76q5sSTDr6jle4UorYZMU+ElfoP5wthaXapVRU4KauxrL+HWAPe+3vlxvWQov+Jj5Ie3+bYDHWhJNb9lroth/LL3FkTLtvgftCBnc88zc//R36oKfJeoxuxlKY34QvfvlbqMpKy4rKZ4Z77iktS1W1b/MYi17vXaUquaHy6+3pT+RUymVTY++q86L//LJGUIhJZhZ/fl+Je5+DN8ylP/l2zevJyb3H+Y80AV9JCiVv5HJC/tYDgA",desc:"Sands of Eon: HP% /ER% /ATK% /DEF% /Elemental Mastery"},{name:"goblet",img:"data:image/png;base64,UklGRoACAABXRUJQVlA4WAoAAAAQAAAAHQAAHQAAQUxQSNkAAAABgKNtt2ln7di23VllngwgbVpnAM4MbFcZgCrbRmfbtpOrZK21oz4iJgD+eqErURDcsnv72b3ZbogoUiglKorEV7p9Sql9ul+JEoUMRYn4CrxmZYx7AGo0IaNRDzPolFGjjYkCGelAjHtH9neQ+2iK3wayNI/M2FO0shVf4W8pQHbr57Q70CB0hNbvD1zf6mPsoNwb+HpRq19NReiCTJH18Ok6FiQ7t3yqtZTjkNx08emoLsZcQuTIqxJ9aAlmuU0ryS1mnIgL2pY7x6ZooJ+aYcABLV2ygH8QAFZQOCCAAQAAMAkAnQEqHgAeAADAEiWkAE4W/Eavk/jNOmv6r+Sv4za65qQPM0/mfJB8y/8X3BP1B/z35c/EB1AB1cu/6rn3TL0n2dRskz+2wyAM/KEEKF2yAAD+/krKNEwapi/HTSTlbaV9fl5AbxRW5L4mGqrOd/uJ2sP+tKLf67lzLAvYtOVlqx//1ZB4b2LD/pK18ImPRRrtn83gQp/5EnV8xs2HOfeWden84aiWPtq5/UcAX+Fl//d/DxKQCJTLMU7+8d/52KiblB/2nwNgq7ZPdrE35bJ//w9Yoe2Pf/UqJ8q//pIU03x/8+tv/Ww/xUKb0+2uIRl1uexgfl/yv3aFFYqdsVG39v1DTd00oeZmF1Gpx7mEiRBDhbjtvGyxv8W1J6ihpD38/+b3L8QsR7Adpq5b9/Ff/6Y0GwWsuzdQNtzTr/+JaHPEx2b0aiCwP/9d5kLJW7oZUv9U+wd9Qj/snIeiT/w0FVwqXHVQ2ANT++875i455A8PuiaqnUA5YTybBAAA",desc:"Goblet of Eonothem:  HP% /ATK% /DEF% /Elemental DMG Bonus% /Elemental Mastery"},{name:"circlet",img:ZN,desc:"Circlet of Logos: HP% /ATK% /DEF% /Crit Rate% /Crit DMG% /Elemental Mastery"}];function f(){return f=Ir(br().mark((function e(t){var n,r;return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_b(jN,"artifacts",t),e.next=3,Gw(n);case 3:(r=e.sent).exists()?o(r.data()):u("/Artifacts",{replace:!0});case 5:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}return(0,r.useEffect)((function(){void 0!==s?function(e){f.apply(this,arguments)}(s):u("/Error",{replace:!0}),document.title="Artifacts - "+s,n(s),document.querySelectorAll(".navlink").forEach((function(e){e.classList.add("opacity-40"),document.getElementById("Artifacts").classList.remove("opacity-40")}))}),[]),(0,Z.jsxs)("div",{className:"artifact__container",children:[(0,Z.jsxs)(X,{to:"/Artifacts",id:"return",className:"flex items-center gap-1 lightcolor transition duration-300 opacity-70 hover:opacity-100 font-semibold w-max",children:[(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,Z.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})}),(0,Z.jsx)("span",{className:"text-xl",children:"Return to Artifacts"})]}),(0,Z.jsxs)("h1",{className:"page__title lightcolor text-4xl font-bold text-center sm:text-left mt-4",children:["Artifacts - ",t]}),a&&(0,Z.jsxs)("div",{className:"artifact__details mt-10 max-w-screen-xl mx-auto darkblue p-6 rounded-xl",children:[(0,Z.jsxs)("div",{className:"artifact__data rounded-xl flex items-start flex-col md:flex-row gap-5",children:[(0,Z.jsxs)("div",{className:"icon relative ".concat(a.rarity.includes("5")?"bg-[#e1872280]":"bg-gray-600"," rounded-xl self-center md:self-start"),children:[(0,Z.jsx)("div",{className:"w-1/2 absolute inset-0 h-full bg-[#ae92d6] z-0 rounded-l-xl"}),(0,Z.jsx)("img",{src:a.images.flower?a.images.flower:a.images.circlet,alt:"",className:"mx-auto rounded-t-xl relative z-30 w-[306px]"})]}),(0,Z.jsxs)("div",{className:"artifact__info text-white pt-2",children:[(0,Z.jsx)("p",{className:"artifact__name text-3xl font-bold",children:a.name}),(0,Z.jsx)("p",{className:"rarity flex items-center gap-3 mt-2",children:a.rarity.map((function(e,t){return(0,Z.jsxs)("span",{className:"rarity__lvl flex items-center ",children:[e,(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Z.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})]},t)}))}),(0,Z.jsxs)("div",{className:"labels flex items-center gap-3 flex-wrap",children:[(0,Z.jsx)("span",{className:"weapon__type mt-4 block py-2 px-3 rounded-lg bg-blue-800/30 text-opacity-90 text-white",children:"Artifact"}),(0,Z.jsx)("span",{className:"weapon__type md:mt-4 block py-2 px-3 rounded-lg bg-blue-800/30 text-opacity-90 text-white",children:a.flower.relictype?a.flower.relictype:a.circlet.relictype})]}),(0,Z.jsx)("p",{className:"artifact__description mt-4",children:a.flower.description?a.flower.description:a.circlet.description})]})]}),(0,Z.jsxs)("div",{className:"set__bonus mt-8 text-white",children:[(0,Z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Z.jsx)($N,{}),(0,Z.jsx)(eR,{title:"Artifact Set Bonuses: ".concat(a.name)})]}),""!==a.setBonus.two?(0,Z.jsxs)("div",{className:"max-w-screen-md columns mt-4 rounded-lg border-2 border-white/50",children:[(0,Z.jsxs)("div",{className:"grid sm:grid-cols-3 bg-gray-700 rounded-t-lg border-b-2 border-white/50",children:[(0,Z.jsx)("p",{className:"font-semibold border-r-2 p-3 border-white/50",children:"2-Set Bonus:"}),(0,Z.jsx)("p",{className:"col-span-2 mt-2 sm:mt-0 p-3",children:a.setBonus.two})]}),(0,Z.jsxs)("div",{className:"grid sm:grid-cols-3 bg-slate-800 rounded-b-lg ",children:[(0,Z.jsx)("p",{className:"font-semibold p-3 border-r-2 border-white/50",children:"4-Set Bonus:"}),(0,Z.jsx)("p",{className:"col-span-2 mt-2 sm:mt-0 p-3",children:a.setBonus.four})]})]}):(0,Z.jsx)("div",{className:"max-w-screen-md columns mt-4 rounded-lg border-2 border-white/50",children:(0,Z.jsxs)("div",{className:"grid sm:grid-cols-3 bg-gray-700 rounded-lg",children:[(0,Z.jsx)("p",{className:"font-semibold border-r-2 border-white/50 p-3",children:"1-Set Bonus:"}),(0,Z.jsx)("p",{className:"col-span-2 mt-2 sm:mt-0 p-3",children:a.setBonus.one})]})})]}),(0,Z.jsxs)("div",{className:"set__bonus mt-8 text-white",children:[(0,Z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Z.jsx)($N,{}),(0,Z.jsx)(eR,{title:"".concat(a.name," Set Pieces")})]}),(0,Z.jsx)("div",{className:"set__pieces grid p-8 sm:grid-cols-3 md:grid-cols-5 gap-4 mt-4 bg-slate-800 text-sm rounded-lg",children:a.images.flower?(0,Z.jsx)(Z.Fragment,{children:l.map((function(e,t){return(0,Z.jsxs)("div",{className:"col rounded-lg bg-slate-900 relative",title:"Flower of Life",children:[(0,Z.jsx)("div",{className:"rounded-full p-1 absolute left-3 top-3 bg-black/50",children:(0,Z.jsx)("img",{src:e.img,alt:"",className:""})}),(0,Z.jsx)("div",{className:"bg-gray-700 rounded-t-lg",children:(0,Z.jsx)("img",{src:a.images[e.name],className:"w-[150px] mx-auto rounded-lg",alt:""})}),(0,Z.jsx)("p",{className:"rounded-b-lg px-2 py-3 text-center",children:a[e.name].name})]},t)}))}):(0,Z.jsxs)("div",{className:"col rounded-lg bg-slate-900 relative",title:"Circlet of Logos",children:[(0,Z.jsx)("div",{className:"rounded-full p-1 absolute left-3 top-3 bg-black/50",children:(0,Z.jsx)("img",{src:ZN,alt:"",className:""})}),(0,Z.jsx)("div",{className:"bg-gray-700 rounded-t-lg",children:(0,Z.jsx)("img",{src:a.images.circlet,className:"w-[150px] mx-auto rounded-lg",alt:""})}),(0,Z.jsx)("p",{className:"rounded-b-lg px-2 py-3 text-center",children:a.circlet.name})]})})]}),(0,Z.jsxs)("div",{className:"set__stats mt-8 text-white",children:[(0,Z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Z.jsx)($N,{}),(0,Z.jsx)(eR,{title:"Artifact Pieces Main Stats"})]}),(0,Z.jsx)("div",{className:"stats__container flex flex-col gap-4 mt-6 sm:text-lg",children:l.map((function(e,t){return(0,Z.jsxs)("div",{className:"row flex items-center gap-2",children:[(0,Z.jsx)("img",{src:e.img,alt:e.name,className:"w-[30px]"}),(0,Z.jsx)("p",{children:e.desc})]},t)}))})]})]})]})},nR=function(e){var t=e.arr,n=e.limitData;return t.sort((function(e,t){return e.name>t.name?1:-1})).slice(0,n).map((function(e,t){return(0,Z.jsxs)("div",{className:"country grid__columns rounded-xl shadow-xl bg-[#0e0f11] transition duration-300 hover:scale-110 cursor-pointer",children:[(0,Z.jsx)("figure",{className:"country__flag py-6 px-4 bg-[#23252a] rounded-xl",children:(0,Z.jsx)("img",{src:e.flag.large,alt:e.name,className:"mx-auto"})}),(0,Z.jsxs)("div",{className:"country__details text-white p-4 rounded-xl bg-[#0e0f11]",children:[(0,Z.jsx)("p",{className:"country__name text-xl sm:text-2xl text-center font-semibold",children:e.name}),(0,Z.jsxs)("div",{className:"mt-4 flex flex-col gap-2",children:[(0,Z.jsxs)("p",{className:"country__population",children:["Population: ",(0,Z.jsx)("span",{className:"opacity-80",children:e.population})]}),(0,Z.jsxs)("p",{className:"country__region",children:["Region: ",(0,Z.jsx)("span",{className:"opacity-80",children:e.region})]}),(0,Z.jsxs)("p",{className:"country__capital",children:["Capital: ",(0,Z.jsx)("span",{className:"opacity-80",children:e.capital})]})]})]})]},t)}))},rR=function(){var e=c((0,r.useState)(!0),2),t=e[0],n=e[1],i=c((0,r.useState)([]),2),a=i[0],o=i[1],s=c((0,r.useState)([]),2),u=s[0],l=s[1],f=c((0,r.useState)(8),2),h=f[0],d=f[1],p=c((0,r.useState)(""),2),v=p[0],m=p[1],y=(0,r.useRef)(""),g=(0,r.useRef)(""),k="zWvlGTwOVuVImfHhq1HKeNBFk1CP4w0ZqGu04Rhz",b=Object.values(a);function w(){l([]),d(8)}return(0,r.useEffect)((function(){function e(){return(e=Ir(br().mark((function e(){return br().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o([]),m(""),e.next=4,fetch("https://countryapi.io/api/all",{method:"GET",headers:{Authorization:"Bearer ".concat(k),"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return o(e)})).catch((function(){return m("There was an error loading country data.")}));case 4:n(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(!0),document.title="Genshin Impact Database - Enemies",qN("Enemies"),function(){e.apply(this,arguments)}()}),[]),!0===t?(0,Z.jsx)(BN,{}):""!==v?(0,Z.jsx)(VN,{message:v}):b?(0,Z.jsxs)("div",{className:"country__container",children:[(0,Z.jsxs)("div",{className:"flex justify-between flex-col sm:flex-row sm:items-center gap-4 mt-4",children:[(0,Z.jsxs)("h1",{className:"page__title lightcolor text-4xl font-bold group",children:["Countries ",(0,Z.jsx)("span",{className:"hidden group-hover:inline",children:"#"})]}),(0,Z.jsxs)("select",{name:"region",defaultValue:"",id:"region",ref:y,onChange:function(){w(),g.current.value="";var e=y.current.value;""!==e&&l(b.filter((function(t){return t.region===e})))},className:"cursor-pointer bg-[#23252a] py-3 px-4 w-full max-w-[350px] rounded-xl outline-none focus:outline-2 focus:outline-slate-600 text-white",children:[(0,Z.jsx)("option",{value:"",disabled:!0,children:"Filter by Region:"}),["Asia","Africa","Americas","Antarctic","Europe","Oceania"].map((function(e,t){return(0,Z.jsx)("option",{value:e,children:e},t)})),(0,Z.jsx)("option",{value:"",children:"None"})]})]}),(0,Z.jsxs)("div",{className:"relative search__box",children:[(0,Z.jsx)("input",{type:"search",name:"searchCountry",id:"searchCountry",className:"bg-[#23252a] py-3 pl-12 w-full max-w-[350px] inline-block mt-4 rounded-xl outline-none focus:outline-2 focus:outline-slate-600 text-white",placeholder:"Search for Country...",ref:g,onChange:function(){w();var e=g.current.value.toLowerCase();""!==e&&l(b.filter((function(t){return-1!==t.name.toLowerCase().indexOf(e)})))}}),(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white/80 absolute top-7 left-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,Z.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),(0,Z.jsx)("div",{className:"country__grid grid py-8 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:b.length&&0===u.length?(0,Z.jsx)(nR,{arr:b,limitData:h}):(0,Z.jsx)(nR,{arr:u,limitData:h})}),0===u.length?h<b.length&&(0,Z.jsx)("button",{id:"load",className:"rounded-xl lightblue py-3 px-4 mx-auto font-semibold transition duration-300 hover:bg-[#23252a] hover:text-white block w-max",onClick:function(){return d(h+8)},children:"Load More"}):h<u.length&&(0,Z.jsx)("button",{id:"load",className:"rounded-xl lightblue py-3 px-4 mx-auto font-semibold transition duration-300 hover:bg-[#23252a] hover:text-white block w-max",onClick:function(){return d(h+8)},children:"Load More"})]}):void 0},iR=function(){return(0,Z.jsx)("footer",{className:"my-10 darkblue p-6 shadow-2xl rounded-xl",children:(0,Z.jsx)("div",{className:"flex justify-between",children:(0,Z.jsx)("p",{className:" text-white text-2xl",children:"Creator: Ji Seng."})})})};i.createRoot(document.getElementById("root")).render((0,Z.jsxs)(J,{children:[(0,Z.jsx)($,{}),(0,Z.jsxs)(K,{children:[(0,Z.jsx)(q,{path:"*",element:(0,Z.jsx)(VN,{message:"Page does not exist."})}),(0,Z.jsx)(q,{path:"/",element:(0,Z.jsx)(gr,{})}),(0,Z.jsx)(q,{path:"/Home",element:(0,Z.jsx)(gr,{})}),(0,Z.jsx)(q,{path:"/Characters",element:(0,Z.jsx)(KN,{})}),(0,Z.jsx)(q,{path:"/ViewCharacter/:name",element:(0,Z.jsx)(HN,{})}),(0,Z.jsx)(q,{path:"/Weapons",element:(0,Z.jsx)(QN,{})}),(0,Z.jsx)(q,{path:"/ViewWeapons/:name",element:(0,Z.jsx)(XN,{})}),(0,Z.jsx)(q,{path:"/Artifacts",element:(0,Z.jsx)(JN,{})}),(0,Z.jsx)(q,{path:"/ViewArtifacts/:name",element:(0,Z.jsx)(tR,{})}),(0,Z.jsx)(q,{path:"/Enemies",element:(0,Z.jsx)(rR,{})})]}),(0,Z.jsx)(iR,{})]}))}()}();
//# sourceMappingURL=main.9ed9c719.js.map